var fp=t=>{throw TypeError(t)};var Bc=(t,e,n)=>e.has(t)||fp("Cannot "+n);var A=(t,e,n)=>(Bc(t,e,"read from private field"),n?n.call(t):e.get(t)),se=(t,e,n)=>e.has(t)?fp("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),q=(t,e,n,r)=>(Bc(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ve=(t,e,n)=>(Bc(t,e,"access private method"),n);var da=(t,e,n,r)=>({set _(s){q(t,e,s,n)},get _(){return A(t,e,r)}});function nb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function hy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var py={exports:{}},Kl={},my={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Go=Symbol.for("react.element"),rb=Symbol.for("react.portal"),sb=Symbol.for("react.fragment"),ib=Symbol.for("react.strict_mode"),ob=Symbol.for("react.profiler"),ab=Symbol.for("react.provider"),lb=Symbol.for("react.context"),cb=Symbol.for("react.forward_ref"),ub=Symbol.for("react.suspense"),db=Symbol.for("react.memo"),fb=Symbol.for("react.lazy"),hp=Symbol.iterator;function hb(t){return t===null||typeof t!="object"?null:(t=hp&&t[hp]||t["@@iterator"],typeof t=="function"?t:null)}var gy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yy=Object.assign,vy={};function hi(t,e,n){this.props=t,this.context=e,this.refs=vy,this.updater=n||gy}hi.prototype.isReactComponent={};hi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xy(){}xy.prototype=hi.prototype;function uf(t,e,n){this.props=t,this.context=e,this.refs=vy,this.updater=n||gy}var df=uf.prototype=new xy;df.constructor=uf;yy(df,hi.prototype);df.isPureReactComponent=!0;var pp=Array.isArray,_y=Object.prototype.hasOwnProperty,ff={current:null},wy={key:!0,ref:!0,__self:!0,__source:!0};function by(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)_y.call(e,r)&&!wy.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Go,type:t,key:i,ref:o,props:s,_owner:ff.current}}function pb(t,e){return{$$typeof:Go,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Go}function mb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mp=/\/+/g;function Wc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mb(""+t.key):e.toString(36)}function La(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Go:case rb:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Wc(o,0):r,pp(s)?(n="",t!=null&&(n=t.replace(mp,"$&/")+"/"),La(s,e,n,"",function(c){return c})):s!=null&&(hf(s)&&(s=pb(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(mp,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",pp(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Wc(i,a);o+=La(i,e,n,l,s)}else if(l=hb(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Wc(i,a++),o+=La(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function fa(t,e,n){if(t==null)return t;var r=[],s=0;return La(t,r,"","",function(i){return e.call(n,i,s++)}),r}function gb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rt={current:null},Fa={transition:null},yb={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:Fa,ReactCurrentOwner:ff};function Sy(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:fa,forEach:function(t,e,n){fa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fa(t,function(){e++}),e},toArray:function(t){return fa(t,function(e){return e})||[]},only:function(t){if(!hf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=hi;ne.Fragment=sb;ne.Profiler=ob;ne.PureComponent=uf;ne.StrictMode=ib;ne.Suspense=ub;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yb;ne.act=Sy;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=yy({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ff.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)_y.call(e,l)&&!wy.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Go,type:t.type,key:s,ref:i,props:r,_owner:o}};ne.createContext=function(t){return t={$$typeof:lb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ab,_context:t},t.Consumer=t};ne.createElement=by;ne.createFactory=function(t){var e=by.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:cb,render:t}};ne.isValidElement=hf;ne.lazy=function(t){return{$$typeof:fb,_payload:{_status:-1,_result:t},_init:gb}};ne.memo=function(t,e){return{$$typeof:db,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=Fa.transition;Fa.transition={};try{t()}finally{Fa.transition=e}};ne.unstable_act=Sy;ne.useCallback=function(t,e){return rt.current.useCallback(t,e)};ne.useContext=function(t){return rt.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return rt.current.useDeferredValue(t)};ne.useEffect=function(t,e){return rt.current.useEffect(t,e)};ne.useId=function(){return rt.current.useId()};ne.useImperativeHandle=function(t,e,n){return rt.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return rt.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return rt.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return rt.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return rt.current.useReducer(t,e,n)};ne.useRef=function(t){return rt.current.useRef(t)};ne.useState=function(t){return rt.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return rt.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return rt.current.useTransition()};ne.version="18.3.1";my.exports=ne;var w=my.exports;const $=hy(w),Cy=nb({__proto__:null,default:$},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb=w,xb=Symbol.for("react.element"),_b=Symbol.for("react.fragment"),wb=Object.prototype.hasOwnProperty,bb=vb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sb={key:!0,ref:!0,__self:!0,__source:!0};function Ey(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)wb.call(e,r)&&!Sb.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:xb,type:t,key:i,ref:o,props:s,_owner:bb.current}}Kl.Fragment=_b;Kl.jsx=Ey;Kl.jsxs=Ey;py.exports=Kl;var u=py.exports,Ny={exports:{}},_t={},ky={exports:{}},Ty={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,j){var D=T.length;T.push(j);e:for(;0<D;){var Y=D-1>>>1,W=T[Y];if(0<s(W,j))T[Y]=j,T[D]=W,D=Y;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var j=T[0],D=T.pop();if(D!==j){T[0]=D;e:for(var Y=0,W=T.length,H=W>>>1;Y<H;){var G=2*(Y+1)-1,he=T[G],Te=G+1,J=T[Te];if(0>s(he,D))Te<W&&0>s(J,he)?(T[Y]=J,T[Te]=D,Y=Te):(T[Y]=he,T[G]=D,Y=G);else if(Te<W&&0>s(J,D))T[Y]=J,T[Te]=D,Y=Te;else break e}}return j}function s(T,j){var D=T.sortIndex-j.sortIndex;return D!==0?D:T.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,d=null,h=3,p=!1,y=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(T){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=T)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function b(T){if(g=!1,x(T),!y)if(n(l)!==null)y=!0,B(S);else{var j=n(c);j!==null&&U(b,j.startTime-T)}}function S(T,j){y=!1,g&&(g=!1,v(I),I=-1),p=!0;var D=h;try{for(x(j),d=n(l);d!==null&&(!(d.expirationTime>j)||T&&!M());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,h=d.priorityLevel;var W=Y(d.expirationTime<=j);j=t.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),x(j)}else r(l);d=n(l)}if(d!==null)var H=!0;else{var G=n(c);G!==null&&U(b,G.startTime-j),H=!1}return H}finally{d=null,h=D,p=!1}}var C=!1,N=null,I=-1,k=5,E=-1;function M(){return!(t.unstable_now()-E<k)}function P(){if(N!==null){var T=t.unstable_now();E=T;var j=!0;try{j=N(!0,T)}finally{j?L():(C=!1,N=null)}}else C=!1}var L;if(typeof m=="function")L=function(){m(P)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,F=R.port2;R.port1.onmessage=P,L=function(){F.postMessage(null)}}else L=function(){_(P,0)};function B(T){N=T,C||(C=!0,L())}function U(T,j){I=_(function(){T(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,B(S))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(T){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var D=h;h=j;try{return T()}finally{h=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,j){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var D=h;h=T;try{return j()}finally{h=D}},t.unstable_scheduleCallback=function(T,j,D){var Y=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?Y+D:Y):D=Y,T){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=D+W,T={id:f++,callback:j,priorityLevel:T,startTime:D,expirationTime:W,sortIndex:-1},D>Y?(T.sortIndex=D,e(c,T),n(l)===null&&T===n(c)&&(g?(v(I),I=-1):g=!0,U(b,D-Y))):(T.sortIndex=W,e(l,T),y||p||(y=!0,B(S))),T},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(T){var j=h;return function(){var D=h;h=j;try{return T.apply(this,arguments)}finally{h=D}}}})(Ty);ky.exports=Ty;var Cb=ky.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb=w,xt=Cb;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Iy=new Set,fo={};function ss(t,e){Js(t,e),Js(t+"Capture",e)}function Js(t,e){for(fo[t]=e,t=0;t<e.length;t++)Iy.add(e[t])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Au=Object.prototype.hasOwnProperty,Nb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gp={},yp={};function kb(t){return Au.call(yp,t)?!0:Au.call(gp,t)?!1:Nb.test(t)?yp[t]=!0:(gp[t]=!0,!1)}function Tb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ib(t,e,n,r){if(e===null||typeof e>"u"||Tb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function st(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){We[t]=new st(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];We[e]=new st(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){We[t]=new st(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){We[t]=new st(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){We[t]=new st(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){We[t]=new st(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){We[t]=new st(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){We[t]=new st(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){We[t]=new st(t,5,!1,t.toLowerCase(),null,!1,!1)});var pf=/[\-:]([a-z])/g;function mf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pf,mf);We[e]=new st(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pf,mf);We[e]=new st(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pf,mf);We[e]=new st(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){We[t]=new st(t,1,!1,t.toLowerCase(),null,!1,!1)});We.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){We[t]=new st(t,1,!1,t.toLowerCase(),null,!0,!0)});function gf(t,e,n,r){var s=We.hasOwnProperty(e)?We[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ib(e,n,s,r)&&(n=null),r||s===null?kb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jn=Eb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ha=Symbol.for("react.element"),vs=Symbol.for("react.portal"),xs=Symbol.for("react.fragment"),yf=Symbol.for("react.strict_mode"),ju=Symbol.for("react.profiler"),Py=Symbol.for("react.provider"),Ry=Symbol.for("react.context"),vf=Symbol.for("react.forward_ref"),Mu=Symbol.for("react.suspense"),Ou=Symbol.for("react.suspense_list"),xf=Symbol.for("react.memo"),Hn=Symbol.for("react.lazy"),Ay=Symbol.for("react.offscreen"),vp=Symbol.iterator;function ki(t){return t===null||typeof t!="object"?null:(t=vp&&t[vp]||t["@@iterator"],typeof t=="function"?t:null)}var be=Object.assign,Uc;function Vi(t){if(Uc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Uc=e&&e[1]||""}return`
`+Uc+t}var Vc=!1;function Hc(t,e){if(!t||Vc)return"";Vc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Vc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vi(t):""}function Pb(t){switch(t.tag){case 5:return Vi(t.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 2:case 15:return t=Hc(t.type,!1),t;case 11:return t=Hc(t.type.render,!1),t;case 1:return t=Hc(t.type,!0),t;default:return""}}function Du(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xs:return"Fragment";case vs:return"Portal";case ju:return"Profiler";case yf:return"StrictMode";case Mu:return"Suspense";case Ou:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ry:return(t.displayName||"Context")+".Consumer";case Py:return(t._context.displayName||"Context")+".Provider";case vf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xf:return e=t.displayName||null,e!==null?e:Du(t.type)||"Memo";case Hn:e=t._payload,t=t._init;try{return Du(t(e))}catch{}}return null}function Rb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Du(e);case 8:return e===yf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ab(t){var e=jy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pa(t){t._valueTracker||(t._valueTracker=Ab(t))}function My(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=jy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Za(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lu(t,e){var n=e.checked;return be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=gr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Oy(t,e){e=e.checked,e!=null&&gf(t,"checked",e,!1)}function Fu(t,e){Oy(t,e);var n=gr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$u(t,e.type,n):e.hasOwnProperty("defaultValue")&&$u(t,e.type,gr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _p(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $u(t,e,n){(e!=="number"||Za(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hi=Array.isArray;function Rs(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+gr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function zu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(Hi(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:gr(n)}}function Dy(t,e){var n=gr(e.value),r=gr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ly(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ly(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ma,Fy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ma=ma||document.createElement("div"),ma.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ma.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ho(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jb=["Webkit","ms","Moz","O"];Object.keys(Ki).forEach(function(t){jb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ki[e]=Ki[t]})});function $y(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ki.hasOwnProperty(t)&&Ki[t]?(""+e).trim():e+"px"}function zy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$y(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Mb=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wu(t,e){if(e){if(Mb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Uu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=null;function _f(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hu=null,As=null,js=null;function Sp(t){if(t=Ko(t)){if(typeof Hu!="function")throw Error(O(280));var e=t.stateNode;e&&(e=ec(e),Hu(t.stateNode,t.type,e))}}function By(t){As?js?js.push(t):js=[t]:As=t}function Wy(){if(As){var t=As,e=js;if(js=As=null,Sp(t),e)for(t=0;t<e.length;t++)Sp(e[t])}}function Uy(t,e){return t(e)}function Vy(){}var Gc=!1;function Hy(t,e,n){if(Gc)return t(e,n);Gc=!0;try{return Uy(t,e,n)}finally{Gc=!1,(As!==null||js!==null)&&(Vy(),Wy())}}function po(t,e){var n=t.stateNode;if(n===null)return null;var r=ec(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var Gu=!1;if(En)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){Gu=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{Gu=!1}function Ob(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var qi=!1,el=null,tl=!1,Yu=null,Db={onError:function(t){qi=!0,el=t}};function Lb(t,e,n,r,s,i,o,a,l){qi=!1,el=null,Ob.apply(Db,arguments)}function Fb(t,e,n,r,s,i,o,a,l){if(Lb.apply(this,arguments),qi){if(qi){var c=el;qi=!1,el=null}else throw Error(O(198));tl||(tl=!0,Yu=c)}}function is(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Gy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cp(t){if(is(t)!==t)throw Error(O(188))}function $b(t){var e=t.alternate;if(!e){if(e=is(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Cp(s),t;if(i===r)return Cp(s),e;i=i.sibling}throw Error(O(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function Yy(t){return t=$b(t),t!==null?Qy(t):null}function Qy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Qy(t);if(e!==null)return e;t=t.sibling}return null}var Ky=xt.unstable_scheduleCallback,Ep=xt.unstable_cancelCallback,zb=xt.unstable_shouldYield,Bb=xt.unstable_requestPaint,ke=xt.unstable_now,Wb=xt.unstable_getCurrentPriorityLevel,wf=xt.unstable_ImmediatePriority,qy=xt.unstable_UserBlockingPriority,nl=xt.unstable_NormalPriority,Ub=xt.unstable_LowPriority,Xy=xt.unstable_IdlePriority,ql=null,cn=null;function Vb(t){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(ql,t,void 0,(t.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:Yb,Hb=Math.log,Gb=Math.LN2;function Yb(t){return t>>>=0,t===0?32:31-(Hb(t)/Gb|0)|0}var ga=64,ya=4194304;function Gi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Gi(a):(i&=o,i!==0&&(r=Gi(i)))}else o=n&~s,o!==0?r=Gi(o):i!==0&&(r=Gi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yt(e),s=1<<n,r|=t[n],e&=~s;return r}function Qb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Yt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Qb(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Qu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Jy(){var t=ga;return ga<<=1,!(ga&4194240)&&(ga=64),t}function Yc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yt(e),t[e]=n}function qb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Yt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function bf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var oe=0;function Zy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ev,Sf,tv,nv,rv,Ku=!1,va=[],sr=null,ir=null,or=null,mo=new Map,go=new Map,Yn=[],Xb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Np(t,e){switch(t){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":mo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":go.delete(e.pointerId)}}function Ii(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ko(e),e!==null&&Sf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Jb(t,e,n,r,s){switch(e){case"focusin":return sr=Ii(sr,t,e,n,r,s),!0;case"dragenter":return ir=Ii(ir,t,e,n,r,s),!0;case"mouseover":return or=Ii(or,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return mo.set(i,Ii(mo.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,go.set(i,Ii(go.get(i)||null,t,e,n,r,s)),!0}return!1}function sv(t){var e=Lr(t.target);if(e!==null){var n=is(e);if(n!==null){if(e=n.tag,e===13){if(e=Gy(n),e!==null){t.blockedOn=e,rv(t.priority,function(){tv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $a(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vu=r,n.target.dispatchEvent(r),Vu=null}else return e=Ko(n),e!==null&&Sf(e),t.blockedOn=n,!1;e.shift()}return!0}function kp(t,e,n){$a(t)&&n.delete(e)}function Zb(){Ku=!1,sr!==null&&$a(sr)&&(sr=null),ir!==null&&$a(ir)&&(ir=null),or!==null&&$a(or)&&(or=null),mo.forEach(kp),go.forEach(kp)}function Pi(t,e){t.blockedOn===e&&(t.blockedOn=null,Ku||(Ku=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,Zb)))}function yo(t){function e(s){return Pi(s,t)}if(0<va.length){Pi(va[0],t);for(var n=1;n<va.length;n++){var r=va[n];r.blockedOn===t&&(r.blockedOn=null)}}for(sr!==null&&Pi(sr,t),ir!==null&&Pi(ir,t),or!==null&&Pi(or,t),mo.forEach(e),go.forEach(e),n=0;n<Yn.length;n++)r=Yn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Yn.length&&(n=Yn[0],n.blockedOn===null);)sv(n),n.blockedOn===null&&Yn.shift()}var Ms=jn.ReactCurrentBatchConfig,sl=!0;function e1(t,e,n,r){var s=oe,i=Ms.transition;Ms.transition=null;try{oe=1,Cf(t,e,n,r)}finally{oe=s,Ms.transition=i}}function t1(t,e,n,r){var s=oe,i=Ms.transition;Ms.transition=null;try{oe=4,Cf(t,e,n,r)}finally{oe=s,Ms.transition=i}}function Cf(t,e,n,r){if(sl){var s=qu(t,e,n,r);if(s===null)ru(t,e,r,il,n),Np(t,r);else if(Jb(s,t,e,n,r))r.stopPropagation();else if(Np(t,r),e&4&&-1<Xb.indexOf(t)){for(;s!==null;){var i=Ko(s);if(i!==null&&ev(i),i=qu(t,e,n,r),i===null&&ru(t,e,r,il,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ru(t,e,r,null,n)}}var il=null;function qu(t,e,n,r){if(il=null,t=_f(r),t=Lr(t),t!==null)if(e=is(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Gy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return il=t,null}function iv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wb()){case wf:return 1;case qy:return 4;case nl:case Ub:return 16;case Xy:return 536870912;default:return 16}default:return 16}}var er=null,Ef=null,za=null;function ov(){if(za)return za;var t,e=Ef,n=e.length,r,s="value"in er?er.value:er.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return za=s.slice(t,1<r?1-r:void 0)}function Ba(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xa(){return!0}function Tp(){return!1}function wt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xa:Tp,this.isPropagationStopped=Tp,this}return be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xa)},persist:function(){},isPersistent:xa}),e}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nf=wt(pi),Qo=be({},pi,{view:0,detail:0}),n1=wt(Qo),Qc,Kc,Ri,Xl=be({},Qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(Qc=t.screenX-Ri.screenX,Kc=t.screenY-Ri.screenY):Kc=Qc=0,Ri=t),Qc)},movementY:function(t){return"movementY"in t?t.movementY:Kc}}),Ip=wt(Xl),r1=be({},Xl,{dataTransfer:0}),s1=wt(r1),i1=be({},Qo,{relatedTarget:0}),qc=wt(i1),o1=be({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),a1=wt(o1),l1=be({},pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),c1=wt(l1),u1=be({},pi,{data:0}),Pp=wt(u1),d1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=h1[t])?!!e[t]:!1}function kf(){return p1}var m1=be({},Qo,{key:function(t){if(t.key){var e=d1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ba(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?f1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kf,charCode:function(t){return t.type==="keypress"?Ba(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ba(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),g1=wt(m1),y1=be({},Xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rp=wt(y1),v1=be({},Qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kf}),x1=wt(v1),_1=be({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w1=wt(_1),b1=be({},Xl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),S1=wt(b1),C1=[9,13,27,32],Tf=En&&"CompositionEvent"in window,Xi=null;En&&"documentMode"in document&&(Xi=document.documentMode);var E1=En&&"TextEvent"in window&&!Xi,av=En&&(!Tf||Xi&&8<Xi&&11>=Xi),Ap=" ",jp=!1;function lv(t,e){switch(t){case"keyup":return C1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _s=!1;function N1(t,e){switch(t){case"compositionend":return cv(e);case"keypress":return e.which!==32?null:(jp=!0,Ap);case"textInput":return t=e.data,t===Ap&&jp?null:t;default:return null}}function k1(t,e){if(_s)return t==="compositionend"||!Tf&&lv(t,e)?(t=ov(),za=Ef=er=null,_s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return av&&e.locale!=="ko"?null:e.data;default:return null}}var T1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!T1[t.type]:e==="textarea"}function uv(t,e,n,r){By(r),e=ol(e,"onChange"),0<e.length&&(n=new Nf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ji=null,vo=null;function I1(t){wv(t,0)}function Jl(t){var e=Ss(t);if(My(e))return t}function P1(t,e){if(t==="change")return e}var dv=!1;if(En){var Xc;if(En){var Jc="oninput"in document;if(!Jc){var Op=document.createElement("div");Op.setAttribute("oninput","return;"),Jc=typeof Op.oninput=="function"}Xc=Jc}else Xc=!1;dv=Xc&&(!document.documentMode||9<document.documentMode)}function Dp(){Ji&&(Ji.detachEvent("onpropertychange",fv),vo=Ji=null)}function fv(t){if(t.propertyName==="value"&&Jl(vo)){var e=[];uv(e,vo,t,_f(t)),Hy(I1,e)}}function R1(t,e,n){t==="focusin"?(Dp(),Ji=e,vo=n,Ji.attachEvent("onpropertychange",fv)):t==="focusout"&&Dp()}function A1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jl(vo)}function j1(t,e){if(t==="click")return Jl(e)}function M1(t,e){if(t==="input"||t==="change")return Jl(e)}function O1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qt=typeof Object.is=="function"?Object.is:O1;function xo(t,e){if(qt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Au.call(e,s)||!qt(t[s],e[s]))return!1}return!0}function Lp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fp(t,e){var n=Lp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lp(n)}}function hv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pv(){for(var t=window,e=Za();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Za(t.document)}return e}function If(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function D1(t){var e=pv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hv(n.ownerDocument.documentElement,n)){if(r!==null&&If(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Fp(n,i);var o=Fp(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var L1=En&&"documentMode"in document&&11>=document.documentMode,ws=null,Xu=null,Zi=null,Ju=!1;function $p(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ju||ws==null||ws!==Za(r)||(r=ws,"selectionStart"in r&&If(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zi&&xo(Zi,r)||(Zi=r,r=ol(Xu,"onSelect"),0<r.length&&(e=new Nf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ws)))}function _a(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bs={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionend:_a("Transition","TransitionEnd")},Zc={},mv={};En&&(mv=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function Zl(t){if(Zc[t])return Zc[t];if(!bs[t])return t;var e=bs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mv)return Zc[t]=e[n];return t}var gv=Zl("animationend"),yv=Zl("animationiteration"),vv=Zl("animationstart"),xv=Zl("transitionend"),_v=new Map,zp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(t,e){_v.set(t,e),ss(e,[t])}for(var eu=0;eu<zp.length;eu++){var tu=zp[eu],F1=tu.toLowerCase(),$1=tu[0].toUpperCase()+tu.slice(1);Er(F1,"on"+$1)}Er(gv,"onAnimationEnd");Er(yv,"onAnimationIteration");Er(vv,"onAnimationStart");Er("dblclick","onDoubleClick");Er("focusin","onFocus");Er("focusout","onBlur");Er(xv,"onTransitionEnd");Js("onMouseEnter",["mouseout","mouseover"]);Js("onMouseLeave",["mouseout","mouseover"]);Js("onPointerEnter",["pointerout","pointerover"]);Js("onPointerLeave",["pointerout","pointerover"]);ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yi));function Bp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Fb(r,e,void 0,t),t.currentTarget=null}function wv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Bp(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Bp(s,a,c),i=l}}}if(tl)throw t=Yu,tl=!1,Yu=null,t}function me(t,e){var n=e[rd];n===void 0&&(n=e[rd]=new Set);var r=t+"__bubble";n.has(r)||(bv(e,t,2,!1),n.add(r))}function nu(t,e,n){var r=0;e&&(r|=4),bv(n,t,r,e)}var wa="_reactListening"+Math.random().toString(36).slice(2);function _o(t){if(!t[wa]){t[wa]=!0,Iy.forEach(function(n){n!=="selectionchange"&&(z1.has(n)||nu(n,!1,t),nu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wa]||(e[wa]=!0,nu("selectionchange",!1,e))}}function bv(t,e,n,r){switch(iv(e)){case 1:var s=e1;break;case 4:s=t1;break;default:s=Cf}n=s.bind(null,e,n,t),s=void 0,!Gu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ru(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Lr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Hy(function(){var c=i,f=_f(n),d=[];e:{var h=_v.get(t);if(h!==void 0){var p=Nf,y=t;switch(t){case"keypress":if(Ba(n)===0)break e;case"keydown":case"keyup":p=g1;break;case"focusin":y="focus",p=qc;break;case"focusout":y="blur",p=qc;break;case"beforeblur":case"afterblur":p=qc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ip;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=s1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=x1;break;case gv:case yv:case vv:p=a1;break;case xv:p=w1;break;case"scroll":p=n1;break;case"wheel":p=S1;break;case"copy":case"cut":case"paste":p=c1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Rp}var g=(e&4)!==0,_=!g&&t==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var m=c,x;m!==null;){x=m;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,v!==null&&(b=po(m,v),b!=null&&g.push(wo(m,b,x)))),_)break;m=m.return}0<g.length&&(h=new p(h,y,null,n,f),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Vu&&(y=n.relatedTarget||n.fromElement)&&(Lr(y)||y[Nn]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=c,y=y?Lr(y):null,y!==null&&(_=is(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(g=Ip,b="onMouseLeave",v="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(g=Rp,b="onPointerLeave",v="onPointerEnter",m="pointer"),_=p==null?h:Ss(p),x=y==null?h:Ss(y),h=new g(b,m+"leave",p,n,f),h.target=_,h.relatedTarget=x,b=null,Lr(f)===c&&(g=new g(v,m+"enter",y,n,f),g.target=x,g.relatedTarget=_,b=g),_=b,p&&y)t:{for(g=p,v=y,m=0,x=g;x;x=ps(x))m++;for(x=0,b=v;b;b=ps(b))x++;for(;0<m-x;)g=ps(g),m--;for(;0<x-m;)v=ps(v),x--;for(;m--;){if(g===v||v!==null&&g===v.alternate)break t;g=ps(g),v=ps(v)}g=null}else g=null;p!==null&&Wp(d,h,p,g,!1),y!==null&&_!==null&&Wp(d,_,y,g,!0)}}e:{if(h=c?Ss(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=P1;else if(Mp(h))if(dv)S=M1;else{S=A1;var C=R1}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=j1);if(S&&(S=S(t,c))){uv(d,S,n,f);break e}C&&C(t,h,c),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&$u(h,"number",h.value)}switch(C=c?Ss(c):window,t){case"focusin":(Mp(C)||C.contentEditable==="true")&&(ws=C,Xu=c,Zi=null);break;case"focusout":Zi=Xu=ws=null;break;case"mousedown":Ju=!0;break;case"contextmenu":case"mouseup":case"dragend":Ju=!1,$p(d,n,f);break;case"selectionchange":if(L1)break;case"keydown":case"keyup":$p(d,n,f)}var N;if(Tf)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else _s?lv(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(av&&n.locale!=="ko"&&(_s||I!=="onCompositionStart"?I==="onCompositionEnd"&&_s&&(N=ov()):(er=f,Ef="value"in er?er.value:er.textContent,_s=!0)),C=ol(c,I),0<C.length&&(I=new Pp(I,t,null,n,f),d.push({event:I,listeners:C}),N?I.data=N:(N=cv(n),N!==null&&(I.data=N)))),(N=E1?N1(t,n):k1(t,n))&&(c=ol(c,"onBeforeInput"),0<c.length&&(f=new Pp("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:c}),f.data=N))}wv(d,e)})}function wo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ol(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=po(t,n),i!=null&&r.unshift(wo(t,i,s)),i=po(t,e),i!=null&&r.push(wo(t,i,s))),t=t.return}return r}function ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wp(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=po(n,i),l!=null&&o.unshift(wo(n,l,a))):s||(l=po(n,i),l!=null&&o.push(wo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var B1=/\r\n?/g,W1=/\u0000|\uFFFD/g;function Up(t){return(typeof t=="string"?t:""+t).replace(B1,`
`).replace(W1,"")}function ba(t,e,n){if(e=Up(e),Up(t)!==e&&n)throw Error(O(425))}function al(){}var Zu=null,ed=null;function td(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var nd=typeof setTimeout=="function"?setTimeout:void 0,U1=typeof clearTimeout=="function"?clearTimeout:void 0,Vp=typeof Promise=="function"?Promise:void 0,V1=typeof queueMicrotask=="function"?queueMicrotask:typeof Vp<"u"?function(t){return Vp.resolve(null).then(t).catch(H1)}:nd;function H1(t){setTimeout(function(){throw t})}function su(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),yo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);yo(e)}function ar(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Hp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mi=Math.random().toString(36).slice(2),an="__reactFiber$"+mi,bo="__reactProps$"+mi,Nn="__reactContainer$"+mi,rd="__reactEvents$"+mi,G1="__reactListeners$"+mi,Y1="__reactHandles$"+mi;function Lr(t){var e=t[an];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nn]||n[an]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Hp(t);t!==null;){if(n=t[an])return n;t=Hp(t)}return e}t=n,n=t.parentNode}return null}function Ko(t){return t=t[an]||t[Nn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ss(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function ec(t){return t[bo]||null}var sd=[],Cs=-1;function Nr(t){return{current:t}}function ge(t){0>Cs||(t.current=sd[Cs],sd[Cs]=null,Cs--)}function fe(t,e){Cs++,sd[Cs]=t.current,t.current=e}var yr={},qe=Nr(yr),ct=Nr(!1),Kr=yr;function Zs(t,e){var n=t.type.contextTypes;if(!n)return yr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ut(t){return t=t.childContextTypes,t!=null}function ll(){ge(ct),ge(qe)}function Gp(t,e,n){if(qe.current!==yr)throw Error(O(168));fe(qe,e),fe(ct,n)}function Sv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(O(108,Rb(t)||"Unknown",s));return be({},n,r)}function cl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yr,Kr=qe.current,fe(qe,t),fe(ct,ct.current),!0}function Yp(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=Sv(t,e,Kr),r.__reactInternalMemoizedMergedChildContext=t,ge(ct),ge(qe),fe(qe,t)):ge(ct),fe(ct,n)}var vn=null,tc=!1,iu=!1;function Cv(t){vn===null?vn=[t]:vn.push(t)}function Q1(t){tc=!0,Cv(t)}function kr(){if(!iu&&vn!==null){iu=!0;var t=0,e=oe;try{var n=vn;for(oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vn=null,tc=!1}catch(s){throw vn!==null&&(vn=vn.slice(t+1)),Ky(wf,kr),s}finally{oe=e,iu=!1}}return null}var Es=[],Ns=0,ul=null,dl=0,Nt=[],kt=0,qr=null,_n=1,wn="";function jr(t,e){Es[Ns++]=dl,Es[Ns++]=ul,ul=t,dl=e}function Ev(t,e,n){Nt[kt++]=_n,Nt[kt++]=wn,Nt[kt++]=qr,qr=t;var r=_n;t=wn;var s=32-Yt(r)-1;r&=~(1<<s),n+=1;var i=32-Yt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,_n=1<<32-Yt(e)+s|n<<s|r,wn=i+t}else _n=1<<i|n<<s|r,wn=t}function Pf(t){t.return!==null&&(jr(t,1),Ev(t,1,0))}function Rf(t){for(;t===ul;)ul=Es[--Ns],Es[Ns]=null,dl=Es[--Ns],Es[Ns]=null;for(;t===qr;)qr=Nt[--kt],Nt[kt]=null,wn=Nt[--kt],Nt[kt]=null,_n=Nt[--kt],Nt[kt]=null}var yt=null,gt=null,ve=!1,Vt=null;function Nv(t,e){var n=Tt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Qp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yt=t,gt=ar(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yt=t,gt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qr!==null?{id:_n,overflow:wn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Tt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yt=t,gt=null,!0):!1;default:return!1}}function id(t){return(t.mode&1)!==0&&(t.flags&128)===0}function od(t){if(ve){var e=gt;if(e){var n=e;if(!Qp(t,e)){if(id(t))throw Error(O(418));e=ar(n.nextSibling);var r=yt;e&&Qp(t,e)?Nv(r,n):(t.flags=t.flags&-4097|2,ve=!1,yt=t)}}else{if(id(t))throw Error(O(418));t.flags=t.flags&-4097|2,ve=!1,yt=t}}}function Kp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yt=t}function Sa(t){if(t!==yt)return!1;if(!ve)return Kp(t),ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!td(t.type,t.memoizedProps)),e&&(e=gt)){if(id(t))throw kv(),Error(O(418));for(;e;)Nv(t,e),e=ar(e.nextSibling)}if(Kp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){gt=ar(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}gt=null}}else gt=yt?ar(t.stateNode.nextSibling):null;return!0}function kv(){for(var t=gt;t;)t=ar(t.nextSibling)}function ei(){gt=yt=null,ve=!1}function Af(t){Vt===null?Vt=[t]:Vt.push(t)}var K1=jn.ReactCurrentBatchConfig;function Ai(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function Ca(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qp(t){var e=t._init;return e(t._payload)}function Tv(t){function e(v,m){if(t){var x=v.deletions;x===null?(v.deletions=[m],v.flags|=16):x.push(m)}}function n(v,m){if(!t)return null;for(;m!==null;)e(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function s(v,m){return v=dr(v,m),v.index=0,v.sibling=null,v}function i(v,m,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<m?(v.flags|=2,m):x):(v.flags|=2,m)):(v.flags|=1048576,m)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,m,x,b){return m===null||m.tag!==6?(m=fu(x,v.mode,b),m.return=v,m):(m=s(m,x),m.return=v,m)}function l(v,m,x,b){var S=x.type;return S===xs?f(v,m,x.props.children,b,x.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Hn&&qp(S)===m.type)?(b=s(m,x.props),b.ref=Ai(v,m,x),b.return=v,b):(b=Qa(x.type,x.key,x.props,null,v.mode,b),b.ref=Ai(v,m,x),b.return=v,b)}function c(v,m,x,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=hu(x,v.mode,b),m.return=v,m):(m=s(m,x.children||[]),m.return=v,m)}function f(v,m,x,b,S){return m===null||m.tag!==7?(m=Qr(x,v.mode,b,S),m.return=v,m):(m=s(m,x),m.return=v,m)}function d(v,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=fu(""+m,v.mode,x),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ha:return x=Qa(m.type,m.key,m.props,null,v.mode,x),x.ref=Ai(v,null,m),x.return=v,x;case vs:return m=hu(m,v.mode,x),m.return=v,m;case Hn:var b=m._init;return d(v,b(m._payload),x)}if(Hi(m)||ki(m))return m=Qr(m,v.mode,x,null),m.return=v,m;Ca(v,m)}return null}function h(v,m,x,b){var S=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(v,m,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ha:return x.key===S?l(v,m,x,b):null;case vs:return x.key===S?c(v,m,x,b):null;case Hn:return S=x._init,h(v,m,S(x._payload),b)}if(Hi(x)||ki(x))return S!==null?null:f(v,m,x,b,null);Ca(v,x)}return null}function p(v,m,x,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(x)||null,a(m,v,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ha:return v=v.get(b.key===null?x:b.key)||null,l(m,v,b,S);case vs:return v=v.get(b.key===null?x:b.key)||null,c(m,v,b,S);case Hn:var C=b._init;return p(v,m,x,C(b._payload),S)}if(Hi(b)||ki(b))return v=v.get(x)||null,f(m,v,b,S,null);Ca(m,b)}return null}function y(v,m,x,b){for(var S=null,C=null,N=m,I=m=0,k=null;N!==null&&I<x.length;I++){N.index>I?(k=N,N=null):k=N.sibling;var E=h(v,N,x[I],b);if(E===null){N===null&&(N=k);break}t&&N&&E.alternate===null&&e(v,N),m=i(E,m,I),C===null?S=E:C.sibling=E,C=E,N=k}if(I===x.length)return n(v,N),ve&&jr(v,I),S;if(N===null){for(;I<x.length;I++)N=d(v,x[I],b),N!==null&&(m=i(N,m,I),C===null?S=N:C.sibling=N,C=N);return ve&&jr(v,I),S}for(N=r(v,N);I<x.length;I++)k=p(N,v,I,x[I],b),k!==null&&(t&&k.alternate!==null&&N.delete(k.key===null?I:k.key),m=i(k,m,I),C===null?S=k:C.sibling=k,C=k);return t&&N.forEach(function(M){return e(v,M)}),ve&&jr(v,I),S}function g(v,m,x,b){var S=ki(x);if(typeof S!="function")throw Error(O(150));if(x=S.call(x),x==null)throw Error(O(151));for(var C=S=null,N=m,I=m=0,k=null,E=x.next();N!==null&&!E.done;I++,E=x.next()){N.index>I?(k=N,N=null):k=N.sibling;var M=h(v,N,E.value,b);if(M===null){N===null&&(N=k);break}t&&N&&M.alternate===null&&e(v,N),m=i(M,m,I),C===null?S=M:C.sibling=M,C=M,N=k}if(E.done)return n(v,N),ve&&jr(v,I),S;if(N===null){for(;!E.done;I++,E=x.next())E=d(v,E.value,b),E!==null&&(m=i(E,m,I),C===null?S=E:C.sibling=E,C=E);return ve&&jr(v,I),S}for(N=r(v,N);!E.done;I++,E=x.next())E=p(N,v,I,E.value,b),E!==null&&(t&&E.alternate!==null&&N.delete(E.key===null?I:E.key),m=i(E,m,I),C===null?S=E:C.sibling=E,C=E);return t&&N.forEach(function(P){return e(v,P)}),ve&&jr(v,I),S}function _(v,m,x,b){if(typeof x=="object"&&x!==null&&x.type===xs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ha:e:{for(var S=x.key,C=m;C!==null;){if(C.key===S){if(S=x.type,S===xs){if(C.tag===7){n(v,C.sibling),m=s(C,x.props.children),m.return=v,v=m;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Hn&&qp(S)===C.type){n(v,C.sibling),m=s(C,x.props),m.ref=Ai(v,C,x),m.return=v,v=m;break e}n(v,C);break}else e(v,C);C=C.sibling}x.type===xs?(m=Qr(x.props.children,v.mode,b,x.key),m.return=v,v=m):(b=Qa(x.type,x.key,x.props,null,v.mode,b),b.ref=Ai(v,m,x),b.return=v,v=b)}return o(v);case vs:e:{for(C=x.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){n(v,m.sibling),m=s(m,x.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else e(v,m);m=m.sibling}m=hu(x,v.mode,b),m.return=v,v=m}return o(v);case Hn:return C=x._init,_(v,m,C(x._payload),b)}if(Hi(x))return y(v,m,x,b);if(ki(x))return g(v,m,x,b);Ca(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(n(v,m.sibling),m=s(m,x),m.return=v,v=m):(n(v,m),m=fu(x,v.mode,b),m.return=v,v=m),o(v)):n(v,m)}return _}var ti=Tv(!0),Iv=Tv(!1),fl=Nr(null),hl=null,ks=null,jf=null;function Mf(){jf=ks=hl=null}function Of(t){var e=fl.current;ge(fl),t._currentValue=e}function ad(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Os(t,e){hl=t,jf=ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(at=!0),t.firstContext=null)}function Rt(t){var e=t._currentValue;if(jf!==t)if(t={context:t,memoizedValue:e,next:null},ks===null){if(hl===null)throw Error(O(308));ks=t,hl.dependencies={lanes:0,firstContext:t}}else ks=ks.next=t;return e}var Fr=null;function Df(t){Fr===null?Fr=[t]:Fr.push(t)}function Pv(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Df(e)):(n.next=s.next,s.next=n),e.interleaved=n,kn(t,r)}function kn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gn=!1;function Lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,kn(t,n)}return s=r.interleaved,s===null?(e.next=e,Df(r)):(e.next=s.next,s.next=e),r.interleaved=e,kn(t,n)}function Wa(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bf(t,n)}}function Xp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pl(t,e,n,r){var s=t.updateQueue;Gn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,f=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,g=a;switch(h=e,p=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){d=y.call(p,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(p,d,h):y,h==null)break e;d=be({},d,h);break e;case 2:Gn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=p,l=d):f=f.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Jr|=o,t.lanes=o,t.memoizedState=d}}function Jp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(O(191,s));s.call(r)}}}var qo={},un=Nr(qo),So=Nr(qo),Co=Nr(qo);function $r(t){if(t===qo)throw Error(O(174));return t}function Ff(t,e){switch(fe(Co,e),fe(So,t),fe(un,qo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bu(e,t)}ge(un),fe(un,e)}function ni(){ge(un),ge(So),ge(Co)}function Av(t){$r(Co.current);var e=$r(un.current),n=Bu(e,t.type);e!==n&&(fe(So,t),fe(un,n))}function $f(t){So.current===t&&(ge(un),ge(So))}var _e=Nr(0);function ml(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ou=[];function zf(){for(var t=0;t<ou.length;t++)ou[t]._workInProgressVersionPrimary=null;ou.length=0}var Ua=jn.ReactCurrentDispatcher,au=jn.ReactCurrentBatchConfig,Xr=0,we=null,Pe=null,De=null,gl=!1,eo=!1,Eo=0,q1=0;function He(){throw Error(O(321))}function Bf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qt(t[n],e[n]))return!1;return!0}function Wf(t,e,n,r,s,i){if(Xr=i,we=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ua.current=t===null||t.memoizedState===null?eS:tS,t=n(r,s),eo){i=0;do{if(eo=!1,Eo=0,25<=i)throw Error(O(301));i+=1,De=Pe=null,e.updateQueue=null,Ua.current=nS,t=n(r,s)}while(eo)}if(Ua.current=yl,e=Pe!==null&&Pe.next!==null,Xr=0,De=Pe=we=null,gl=!1,e)throw Error(O(300));return t}function Uf(){var t=Eo!==0;return Eo=0,t}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?we.memoizedState=De=t:De=De.next=t,De}function At(){if(Pe===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Pe.next;var e=De===null?we.memoizedState:De.next;if(e!==null)De=e,Pe=t;else{if(t===null)throw Error(O(310));Pe=t,t={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},De===null?we.memoizedState=De=t:De=De.next=t}return De}function No(t,e){return typeof e=="function"?e(t):e}function lu(t){var e=At(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=Pe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var f=c.lane;if((Xr&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,we.lanes|=f,Jr|=f}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,qt(r,e.memoizedState)||(at=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,we.lanes|=i,Jr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function cu(t){var e=At(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);qt(i,e.memoizedState)||(at=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function jv(){}function Mv(t,e){var n=we,r=At(),s=e(),i=!qt(r.memoizedState,s);if(i&&(r.memoizedState=s,at=!0),r=r.queue,Vf(Lv.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||De!==null&&De.memoizedState.tag&1){if(n.flags|=2048,ko(9,Dv.bind(null,n,r,s,e),void 0,null),Fe===null)throw Error(O(349));Xr&30||Ov(n,e,s)}return s}function Ov(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Dv(t,e,n,r){e.value=n,e.getSnapshot=r,Fv(e)&&$v(t)}function Lv(t,e,n){return n(function(){Fv(e)&&$v(t)})}function Fv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qt(t,n)}catch{return!0}}function $v(t){var e=kn(t,1);e!==null&&Qt(e,t,1,-1)}function Zp(t){var e=nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:t},e.queue=t,t=t.dispatch=Z1.bind(null,we,t),[e.memoizedState,t]}function ko(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zv(){return At().memoizedState}function Va(t,e,n,r){var s=nn();we.flags|=t,s.memoizedState=ko(1|e,n,void 0,r===void 0?null:r)}function nc(t,e,n,r){var s=At();r=r===void 0?null:r;var i=void 0;if(Pe!==null){var o=Pe.memoizedState;if(i=o.destroy,r!==null&&Bf(r,o.deps)){s.memoizedState=ko(e,n,i,r);return}}we.flags|=t,s.memoizedState=ko(1|e,n,i,r)}function em(t,e){return Va(8390656,8,t,e)}function Vf(t,e){return nc(2048,8,t,e)}function Bv(t,e){return nc(4,2,t,e)}function Wv(t,e){return nc(4,4,t,e)}function Uv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Vv(t,e,n){return n=n!=null?n.concat([t]):null,nc(4,4,Uv.bind(null,e,t),n)}function Hf(){}function Hv(t,e){var n=At();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Gv(t,e){var n=At();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Yv(t,e,n){return Xr&21?(qt(n,e)||(n=Jy(),we.lanes|=n,Jr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,at=!0),t.memoizedState=n)}function X1(t,e){var n=oe;oe=n!==0&&4>n?n:4,t(!0);var r=au.transition;au.transition={};try{t(!1),e()}finally{oe=n,au.transition=r}}function Qv(){return At().memoizedState}function J1(t,e,n){var r=ur(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Kv(t))qv(e,n);else if(n=Pv(t,e,n,r),n!==null){var s=tt();Qt(n,t,r,s),Xv(n,e,r)}}function Z1(t,e,n){var r=ur(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kv(t))qv(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,qt(a,o)){var l=e.interleaved;l===null?(s.next=s,Df(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Pv(t,e,s,r),n!==null&&(s=tt(),Qt(n,t,r,s),Xv(n,e,r))}}function Kv(t){var e=t.alternate;return t===we||e!==null&&e===we}function qv(t,e){eo=gl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Xv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bf(t,n)}}var yl={readContext:Rt,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},eS={readContext:Rt,useCallback:function(t,e){return nn().memoizedState=[t,e===void 0?null:e],t},useContext:Rt,useEffect:em,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Va(4194308,4,Uv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Va(4194308,4,t,e)},useInsertionEffect:function(t,e){return Va(4,2,t,e)},useMemo:function(t,e){var n=nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=nn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=J1.bind(null,we,t),[r.memoizedState,t]},useRef:function(t){var e=nn();return t={current:t},e.memoizedState=t},useState:Zp,useDebugValue:Hf,useDeferredValue:function(t){return nn().memoizedState=t},useTransition:function(){var t=Zp(!1),e=t[0];return t=X1.bind(null,t[1]),nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=we,s=nn();if(ve){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),Fe===null)throw Error(O(349));Xr&30||Ov(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,em(Lv.bind(null,r,i,t),[t]),r.flags|=2048,ko(9,Dv.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=nn(),e=Fe.identifierPrefix;if(ve){var n=wn,r=_n;n=(r&~(1<<32-Yt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Eo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=q1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tS={readContext:Rt,useCallback:Hv,useContext:Rt,useEffect:Vf,useImperativeHandle:Vv,useInsertionEffect:Bv,useLayoutEffect:Wv,useMemo:Gv,useReducer:lu,useRef:zv,useState:function(){return lu(No)},useDebugValue:Hf,useDeferredValue:function(t){var e=At();return Yv(e,Pe.memoizedState,t)},useTransition:function(){var t=lu(No)[0],e=At().memoizedState;return[t,e]},useMutableSource:jv,useSyncExternalStore:Mv,useId:Qv,unstable_isNewReconciler:!1},nS={readContext:Rt,useCallback:Hv,useContext:Rt,useEffect:Vf,useImperativeHandle:Vv,useInsertionEffect:Bv,useLayoutEffect:Wv,useMemo:Gv,useReducer:cu,useRef:zv,useState:function(){return cu(No)},useDebugValue:Hf,useDeferredValue:function(t){var e=At();return Pe===null?e.memoizedState=t:Yv(e,Pe.memoizedState,t)},useTransition:function(){var t=cu(No)[0],e=At().memoizedState;return[t,e]},useMutableSource:jv,useSyncExternalStore:Mv,useId:Qv,unstable_isNewReconciler:!1};function $t(t,e){if(t&&t.defaultProps){e=be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ld(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var rc={isMounted:function(t){return(t=t._reactInternals)?is(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tt(),s=ur(t),i=Sn(r,s);i.payload=e,n!=null&&(i.callback=n),e=lr(t,i,s),e!==null&&(Qt(e,t,s,r),Wa(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tt(),s=ur(t),i=Sn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=lr(t,i,s),e!==null&&(Qt(e,t,s,r),Wa(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tt(),r=ur(t),s=Sn(n,r);s.tag=2,e!=null&&(s.callback=e),e=lr(t,s,r),e!==null&&(Qt(e,t,r,n),Wa(e,t,r))}};function tm(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!xo(n,r)||!xo(s,i):!0}function Jv(t,e,n){var r=!1,s=yr,i=e.contextType;return typeof i=="object"&&i!==null?i=Rt(i):(s=ut(e)?Kr:qe.current,r=e.contextTypes,i=(r=r!=null)?Zs(t,s):yr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=rc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function nm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&rc.enqueueReplaceState(e,e.state,null)}function cd(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Lf(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Rt(i):(i=ut(e)?Kr:qe.current,s.context=Zs(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ld(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&rc.enqueueReplaceState(s,s.state,null),pl(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ri(t,e){try{var n="",r=e;do n+=Pb(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function uu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ud(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rS=typeof WeakMap=="function"?WeakMap:Map;function Zv(t,e,n){n=Sn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xl||(xl=!0,_d=r),ud(t,e)},n}function ex(t,e,n){n=Sn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ud(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ud(t,e),typeof r!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function rm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new rS;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=yS.bind(null,t,e,n),e.then(t,t))}function sm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function im(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sn(-1,1),e.tag=2,lr(n,e,1))),n.lanes|=1),t)}var sS=jn.ReactCurrentOwner,at=!1;function Je(t,e,n,r){e.child=t===null?Iv(e,null,n,r):ti(e,t.child,n,r)}function om(t,e,n,r,s){n=n.render;var i=e.ref;return Os(e,s),r=Wf(t,e,n,r,i,s),n=Uf(),t!==null&&!at?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Tn(t,e,s)):(ve&&n&&Pf(e),e.flags|=1,Je(t,e,r,s),e.child)}function am(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Zf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,tx(t,e,i,r,s)):(t=Qa(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:xo,n(o,r)&&t.ref===e.ref)return Tn(t,e,s)}return e.flags|=1,t=dr(i,r),t.ref=e.ref,t.return=e,e.child=t}function tx(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(xo(i,r)&&t.ref===e.ref)if(at=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(at=!0);else return e.lanes=t.lanes,Tn(t,e,s)}return dd(t,e,n,r,s)}function nx(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Is,pt),pt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fe(Is,pt),pt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,fe(Is,pt),pt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,fe(Is,pt),pt|=r;return Je(t,e,s,n),e.child}function rx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function dd(t,e,n,r,s){var i=ut(n)?Kr:qe.current;return i=Zs(e,i),Os(e,s),n=Wf(t,e,n,r,i,s),r=Uf(),t!==null&&!at?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Tn(t,e,s)):(ve&&r&&Pf(e),e.flags|=1,Je(t,e,n,s),e.child)}function lm(t,e,n,r,s){if(ut(n)){var i=!0;cl(e)}else i=!1;if(Os(e,s),e.stateNode===null)Ha(t,e),Jv(e,n,r),cd(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Rt(c):(c=ut(n)?Kr:qe.current,c=Zs(e,c));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&nm(e,o,r,c),Gn=!1;var h=e.memoizedState;o.state=h,pl(e,r,o,s),l=e.memoizedState,a!==r||h!==l||ct.current||Gn?(typeof f=="function"&&(ld(e,n,f,r),l=e.memoizedState),(a=Gn||tm(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Rv(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:$t(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Rt(l):(l=ut(n)?Kr:qe.current,l=Zs(e,l));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&nm(e,o,r,l),Gn=!1,h=e.memoizedState,o.state=h,pl(e,r,o,s);var y=e.memoizedState;a!==d||h!==y||ct.current||Gn?(typeof p=="function"&&(ld(e,n,p,r),y=e.memoizedState),(c=Gn||tm(e,n,c,r,h,y,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return fd(t,e,n,r,i,s)}function fd(t,e,n,r,s,i){rx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Yp(e,n,!1),Tn(t,e,i);r=e.stateNode,sS.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ti(e,t.child,null,i),e.child=ti(e,null,a,i)):Je(t,e,a,i),e.memoizedState=r.state,s&&Yp(e,n,!0),e.child}function sx(t){var e=t.stateNode;e.pendingContext?Gp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Gp(t,e.context,!1),Ff(t,e.containerInfo)}function cm(t,e,n,r,s){return ei(),Af(s),e.flags|=256,Je(t,e,n,r),e.child}var hd={dehydrated:null,treeContext:null,retryLane:0};function pd(t){return{baseLanes:t,cachePool:null,transitions:null}}function ix(t,e,n){var r=e.pendingProps,s=_e.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),fe(_e,s&1),t===null)return od(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=oc(o,r,0,null),t=Qr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=pd(n),e.memoizedState=hd,t):Gf(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return iS(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=dr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=dr(a,i):(i=Qr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?pd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=hd,r}return i=t.child,t=i.sibling,r=dr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Gf(t,e){return e=oc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ea(t,e,n,r){return r!==null&&Af(r),ti(e,t.child,null,n),t=Gf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function iS(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=uu(Error(O(422))),Ea(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=oc({mode:"visible",children:r.children},s,0,null),i=Qr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ti(e,t.child,null,o),e.child.memoizedState=pd(o),e.memoizedState=hd,i);if(!(e.mode&1))return Ea(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(O(419)),r=uu(i,r,void 0),Ea(t,e,o,r)}if(a=(o&t.childLanes)!==0,at||a){if(r=Fe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,kn(t,s),Qt(r,t,s,-1))}return Jf(),r=uu(Error(O(421))),Ea(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=vS.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,gt=ar(s.nextSibling),yt=e,ve=!0,Vt=null,t!==null&&(Nt[kt++]=_n,Nt[kt++]=wn,Nt[kt++]=qr,_n=t.id,wn=t.overflow,qr=e),e=Gf(e,r.children),e.flags|=4096,e)}function um(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ad(t.return,e,n)}function du(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ox(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Je(t,e,r.children,n),r=_e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&um(t,n,e);else if(t.tag===19)um(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fe(_e,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ml(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),du(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ml(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}du(e,!0,n,null,i);break;case"together":du(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ha(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Tn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Jr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=dr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=dr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function oS(t,e,n){switch(e.tag){case 3:sx(e),ei();break;case 5:Av(e);break;case 1:ut(e.type)&&cl(e);break;case 4:Ff(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;fe(fl,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(fe(_e,_e.current&1),e.flags|=128,null):n&e.child.childLanes?ix(t,e,n):(fe(_e,_e.current&1),t=Tn(t,e,n),t!==null?t.sibling:null);fe(_e,_e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ox(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),fe(_e,_e.current),r)break;return null;case 22:case 23:return e.lanes=0,nx(t,e,n)}return Tn(t,e,n)}var ax,md,lx,cx;ax=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};md=function(){};lx=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,$r(un.current);var i=null;switch(n){case"input":s=Lu(t,s),r=Lu(t,r),i=[];break;case"select":s=be({},s,{value:void 0}),r=be({},r,{value:void 0}),i=[];break;case"textarea":s=zu(t,s),r=zu(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=al)}Wu(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(fo.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(fo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&me("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};cx=function(t,e,n,r){n!==r&&(e.flags|=4)};function ji(t,e){if(!ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ge(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function aS(t,e,n){var r=e.pendingProps;switch(Rf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(e),null;case 1:return ut(e.type)&&ll(),Ge(e),null;case 3:return r=e.stateNode,ni(),ge(ct),ge(qe),zf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Sa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vt!==null&&(Sd(Vt),Vt=null))),md(t,e),Ge(e),null;case 5:$f(e);var s=$r(Co.current);if(n=e.type,t!==null&&e.stateNode!=null)lx(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return Ge(e),null}if(t=$r(un.current),Sa(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[an]=e,r[bo]=i,t=(e.mode&1)!==0,n){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(s=0;s<Yi.length;s++)me(Yi[s],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":xp(r,i),me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},me("invalid",r);break;case"textarea":wp(r,i),me("invalid",r)}Wu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ba(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ba(r.textContent,a,t),s=["children",""+a]):fo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&me("scroll",r)}switch(n){case"input":pa(r),_p(r,i,!0);break;case"textarea":pa(r),bp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=al)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ly(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[an]=e,t[bo]=r,ax(t,e,!1,!1),e.stateNode=t;e:{switch(o=Uu(n,r),n){case"dialog":me("cancel",t),me("close",t),s=r;break;case"iframe":case"object":case"embed":me("load",t),s=r;break;case"video":case"audio":for(s=0;s<Yi.length;s++)me(Yi[s],t);s=r;break;case"source":me("error",t),s=r;break;case"img":case"image":case"link":me("error",t),me("load",t),s=r;break;case"details":me("toggle",t),s=r;break;case"input":xp(t,r),s=Lu(t,r),me("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=be({},r,{value:void 0}),me("invalid",t);break;case"textarea":wp(t,r),s=zu(t,r),me("invalid",t);break;default:s=r}Wu(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?zy(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Fy(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ho(t,l):typeof l=="number"&&ho(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fo.hasOwnProperty(i)?l!=null&&i==="onScroll"&&me("scroll",t):l!=null&&gf(t,i,l,o))}switch(n){case"input":pa(t),_p(t,r,!1);break;case"textarea":pa(t),bp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+gr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Rs(t,!!r.multiple,i,!1):r.defaultValue!=null&&Rs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=al)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ge(e),null;case 6:if(t&&e.stateNode!=null)cx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=$r(Co.current),$r(un.current),Sa(e)){if(r=e.stateNode,n=e.memoizedProps,r[an]=e,(i=r.nodeValue!==n)&&(t=yt,t!==null))switch(t.tag){case 3:ba(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ba(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[an]=e,e.stateNode=r}return Ge(e),null;case 13:if(ge(_e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ve&&gt!==null&&e.mode&1&&!(e.flags&128))kv(),ei(),e.flags|=98560,i=!1;else if(i=Sa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(O(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(O(317));i[an]=e}else ei(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ge(e),i=!1}else Vt!==null&&(Sd(Vt),Vt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_e.current&1?Me===0&&(Me=3):Jf())),e.updateQueue!==null&&(e.flags|=4),Ge(e),null);case 4:return ni(),md(t,e),t===null&&_o(e.stateNode.containerInfo),Ge(e),null;case 10:return Of(e.type._context),Ge(e),null;case 17:return ut(e.type)&&ll(),Ge(e),null;case 19:if(ge(_e),i=e.memoizedState,i===null)return Ge(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ji(i,!1);else{if(Me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ml(t),o!==null){for(e.flags|=128,ji(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fe(_e,_e.current&1|2),e.child}t=t.sibling}i.tail!==null&&ke()>si&&(e.flags|=128,r=!0,ji(i,!1),e.lanes=4194304)}else{if(!r)if(t=ml(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ji(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ve)return Ge(e),null}else 2*ke()-i.renderingStartTime>si&&n!==1073741824&&(e.flags|=128,r=!0,ji(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ke(),e.sibling=null,n=_e.current,fe(_e,r?n&1|2:n&1),e):(Ge(e),null);case 22:case 23:return Xf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?pt&1073741824&&(Ge(e),e.subtreeFlags&6&&(e.flags|=8192)):Ge(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function lS(t,e){switch(Rf(e),e.tag){case 1:return ut(e.type)&&ll(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ni(),ge(ct),ge(qe),zf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $f(e),null;case 13:if(ge(_e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));ei()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ge(_e),null;case 4:return ni(),null;case 10:return Of(e.type._context),null;case 22:case 23:return Xf(),null;case 24:return null;default:return null}}var Na=!1,Ke=!1,cS=typeof WeakSet=="function"?WeakSet:Set,V=null;function Ts(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(t,e,r)}else n.current=null}function gd(t,e,n){try{n()}catch(r){Ce(t,e,r)}}var dm=!1;function uS(t,e){if(Zu=sl,t=pv(),If(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,f=0,d=t,h=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++f===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ed={focusedElem:t,selectionRange:n},sl=!1,V=e;V!==null;)if(e=V,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,V=t;else for(;V!==null;){e=V;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,_=y.memoizedState,v=e.stateNode,m=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:$t(e.type,g),_);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(b){Ce(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}return y=dm,dm=!1,y}function to(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&gd(e,n,i)}s=s.next}while(s!==r)}}function sc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function yd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ux(t){var e=t.alternate;e!==null&&(t.alternate=null,ux(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[an],delete e[bo],delete e[rd],delete e[G1],delete e[Y1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dx(t){return t.tag===5||t.tag===3||t.tag===4}function fm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=al));else if(r!==4&&(t=t.child,t!==null))for(vd(t,e,n),t=t.sibling;t!==null;)vd(t,e,n),t=t.sibling}function xd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(xd(t,e,n),t=t.sibling;t!==null;)xd(t,e,n),t=t.sibling}var $e=null,Ut=!1;function Bn(t,e,n){for(n=n.child;n!==null;)fx(t,e,n),n=n.sibling}function fx(t,e,n){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(ql,n)}catch{}switch(n.tag){case 5:Ke||Ts(n,e);case 6:var r=$e,s=Ut;$e=null,Bn(t,e,n),$e=r,Ut=s,$e!==null&&(Ut?(t=$e,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(Ut?(t=$e,n=n.stateNode,t.nodeType===8?su(t.parentNode,n):t.nodeType===1&&su(t,n),yo(t)):su($e,n.stateNode));break;case 4:r=$e,s=Ut,$e=n.stateNode.containerInfo,Ut=!0,Bn(t,e,n),$e=r,Ut=s;break;case 0:case 11:case 14:case 15:if(!Ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&gd(n,e,o),s=s.next}while(s!==r)}Bn(t,e,n);break;case 1:if(!Ke&&(Ts(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ce(n,e,a)}Bn(t,e,n);break;case 21:Bn(t,e,n);break;case 22:n.mode&1?(Ke=(r=Ke)||n.memoizedState!==null,Bn(t,e,n),Ke=r):Bn(t,e,n);break;default:Bn(t,e,n)}}function hm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cS),e.forEach(function(r){var s=xS.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Lt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:$e=a.stateNode,Ut=!1;break e;case 3:$e=a.stateNode.containerInfo,Ut=!0;break e;case 4:$e=a.stateNode.containerInfo,Ut=!0;break e}a=a.return}if($e===null)throw Error(O(160));fx(i,o,s),$e=null,Ut=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ce(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hx(e,t),e=e.sibling}function hx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Lt(e,t),tn(t),r&4){try{to(3,t,t.return),sc(3,t)}catch(g){Ce(t,t.return,g)}try{to(5,t,t.return)}catch(g){Ce(t,t.return,g)}}break;case 1:Lt(e,t),tn(t),r&512&&n!==null&&Ts(n,n.return);break;case 5:if(Lt(e,t),tn(t),r&512&&n!==null&&Ts(n,n.return),t.flags&32){var s=t.stateNode;try{ho(s,"")}catch(g){Ce(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Oy(s,i),Uu(a,o);var c=Uu(a,i);for(o=0;o<l.length;o+=2){var f=l[o],d=l[o+1];f==="style"?zy(s,d):f==="dangerouslySetInnerHTML"?Fy(s,d):f==="children"?ho(s,d):gf(s,f,d,c)}switch(a){case"input":Fu(s,i);break;case"textarea":Dy(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Rs(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Rs(s,!!i.multiple,i.defaultValue,!0):Rs(s,!!i.multiple,i.multiple?[]:"",!1))}s[bo]=i}catch(g){Ce(t,t.return,g)}}break;case 6:if(Lt(e,t),tn(t),r&4){if(t.stateNode===null)throw Error(O(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Ce(t,t.return,g)}}break;case 3:if(Lt(e,t),tn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yo(e.containerInfo)}catch(g){Ce(t,t.return,g)}break;case 4:Lt(e,t),tn(t);break;case 13:Lt(e,t),tn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Kf=ke())),r&4&&hm(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ke=(c=Ke)||f,Lt(e,t),Ke=c):Lt(e,t),tn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(V=t,f=t.child;f!==null;){for(d=V=f;V!==null;){switch(h=V,p=h.child,h.tag){case 0:case 11:case 14:case 15:to(4,h,h.return);break;case 1:Ts(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){Ce(r,n,g)}}break;case 5:Ts(h,h.return);break;case 22:if(h.memoizedState!==null){mm(d);continue}}p!==null?(p.return=h,V=p):mm(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$y("display",o))}catch(g){Ce(t,t.return,g)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Ce(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Lt(e,t),tn(t),r&4&&hm(t);break;case 21:break;default:Lt(e,t),tn(t)}}function tn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dx(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ho(s,""),r.flags&=-33);var i=fm(t);xd(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=fm(t);vd(t,a,o);break;default:throw Error(O(161))}}catch(l){Ce(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dS(t,e,n){V=t,px(t)}function px(t,e,n){for(var r=(t.mode&1)!==0;V!==null;){var s=V,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Na;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ke;a=Na;var c=Ke;if(Na=o,(Ke=l)&&!c)for(V=s;V!==null;)o=V,l=o.child,o.tag===22&&o.memoizedState!==null?gm(s):l!==null?(l.return=o,V=l):gm(s);for(;i!==null;)V=i,px(i),i=i.sibling;V=s,Na=a,Ke=c}pm(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,V=i):pm(t)}}function pm(t){for(;V!==null;){var e=V;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ke||sc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ke)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:$t(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Jp(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Jp(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&yo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Ke||e.flags&512&&yd(e)}catch(h){Ce(e,e.return,h)}}if(e===t){V=null;break}if(n=e.sibling,n!==null){n.return=e.return,V=n;break}V=e.return}}function mm(t){for(;V!==null;){var e=V;if(e===t){V=null;break}var n=e.sibling;if(n!==null){n.return=e.return,V=n;break}V=e.return}}function gm(t){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sc(4,e)}catch(l){Ce(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ce(e,s,l)}}var i=e.return;try{yd(e)}catch(l){Ce(e,i,l)}break;case 5:var o=e.return;try{yd(e)}catch(l){Ce(e,o,l)}}}catch(l){Ce(e,e.return,l)}if(e===t){V=null;break}var a=e.sibling;if(a!==null){a.return=e.return,V=a;break}V=e.return}}var fS=Math.ceil,vl=jn.ReactCurrentDispatcher,Yf=jn.ReactCurrentOwner,Pt=jn.ReactCurrentBatchConfig,re=0,Fe=null,Ie=null,Be=0,pt=0,Is=Nr(0),Me=0,To=null,Jr=0,ic=0,Qf=0,no=null,ot=null,Kf=0,si=1/0,yn=null,xl=!1,_d=null,cr=null,ka=!1,tr=null,_l=0,ro=0,wd=null,Ga=-1,Ya=0;function tt(){return re&6?ke():Ga!==-1?Ga:Ga=ke()}function ur(t){return t.mode&1?re&2&&Be!==0?Be&-Be:K1.transition!==null?(Ya===0&&(Ya=Jy()),Ya):(t=oe,t!==0||(t=window.event,t=t===void 0?16:iv(t.type)),t):1}function Qt(t,e,n,r){if(50<ro)throw ro=0,wd=null,Error(O(185));Yo(t,n,r),(!(re&2)||t!==Fe)&&(t===Fe&&(!(re&2)&&(ic|=n),Me===4&&Qn(t,Be)),dt(t,r),n===1&&re===0&&!(e.mode&1)&&(si=ke()+500,tc&&kr()))}function dt(t,e){var n=t.callbackNode;Kb(t,e);var r=rl(t,t===Fe?Be:0);if(r===0)n!==null&&Ep(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ep(n),e===1)t.tag===0?Q1(ym.bind(null,t)):Cv(ym.bind(null,t)),V1(function(){!(re&6)&&kr()}),n=null;else{switch(Zy(r)){case 1:n=wf;break;case 4:n=qy;break;case 16:n=nl;break;case 536870912:n=Xy;break;default:n=nl}n=bx(n,mx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mx(t,e){if(Ga=-1,Ya=0,re&6)throw Error(O(327));var n=t.callbackNode;if(Ds()&&t.callbackNode!==n)return null;var r=rl(t,t===Fe?Be:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wl(t,r);else{e=r;var s=re;re|=2;var i=yx();(Fe!==t||Be!==e)&&(yn=null,si=ke()+500,Yr(t,e));do try{mS();break}catch(a){gx(t,a)}while(!0);Mf(),vl.current=i,re=s,Ie!==null?e=0:(Fe=null,Be=0,e=Me)}if(e!==0){if(e===2&&(s=Qu(t),s!==0&&(r=s,e=bd(t,s))),e===1)throw n=To,Yr(t,0),Qn(t,r),dt(t,ke()),n;if(e===6)Qn(t,r);else{if(s=t.current.alternate,!(r&30)&&!hS(s)&&(e=wl(t,r),e===2&&(i=Qu(t),i!==0&&(r=i,e=bd(t,i))),e===1))throw n=To,Yr(t,0),Qn(t,r),dt(t,ke()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:Mr(t,ot,yn);break;case 3:if(Qn(t,r),(r&130023424)===r&&(e=Kf+500-ke(),10<e)){if(rl(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){tt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=nd(Mr.bind(null,t,ot,yn),e);break}Mr(t,ot,yn);break;case 4:if(Qn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Yt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fS(r/1960))-r,10<r){t.timeoutHandle=nd(Mr.bind(null,t,ot,yn),r);break}Mr(t,ot,yn);break;case 5:Mr(t,ot,yn);break;default:throw Error(O(329))}}}return dt(t,ke()),t.callbackNode===n?mx.bind(null,t):null}function bd(t,e){var n=no;return t.current.memoizedState.isDehydrated&&(Yr(t,e).flags|=256),t=wl(t,e),t!==2&&(e=ot,ot=n,e!==null&&Sd(e)),t}function Sd(t){ot===null?ot=t:ot.push.apply(ot,t)}function hS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!qt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qn(t,e){for(e&=~Qf,e&=~ic,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yt(e),r=1<<n;t[n]=-1,e&=~r}}function ym(t){if(re&6)throw Error(O(327));Ds();var e=rl(t,0);if(!(e&1))return dt(t,ke()),null;var n=wl(t,e);if(t.tag!==0&&n===2){var r=Qu(t);r!==0&&(e=r,n=bd(t,r))}if(n===1)throw n=To,Yr(t,0),Qn(t,e),dt(t,ke()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mr(t,ot,yn),dt(t,ke()),null}function qf(t,e){var n=re;re|=1;try{return t(e)}finally{re=n,re===0&&(si=ke()+500,tc&&kr())}}function Zr(t){tr!==null&&tr.tag===0&&!(re&6)&&Ds();var e=re;re|=1;var n=Pt.transition,r=oe;try{if(Pt.transition=null,oe=1,t)return t()}finally{oe=r,Pt.transition=n,re=e,!(re&6)&&kr()}}function Xf(){pt=Is.current,ge(Is)}function Yr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,U1(n)),Ie!==null)for(n=Ie.return;n!==null;){var r=n;switch(Rf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ll();break;case 3:ni(),ge(ct),ge(qe),zf();break;case 5:$f(r);break;case 4:ni();break;case 13:ge(_e);break;case 19:ge(_e);break;case 10:Of(r.type._context);break;case 22:case 23:Xf()}n=n.return}if(Fe=t,Ie=t=dr(t.current,null),Be=pt=e,Me=0,To=null,Qf=ic=Jr=0,ot=no=null,Fr!==null){for(e=0;e<Fr.length;e++)if(n=Fr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Fr=null}return t}function gx(t,e){do{var n=Ie;try{if(Mf(),Ua.current=yl,gl){for(var r=we.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}gl=!1}if(Xr=0,De=Pe=we=null,eo=!1,Eo=0,Yf.current=null,n===null||n.return===null){Me=1,To=e,Ie=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Be,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=sm(o);if(p!==null){p.flags&=-257,im(p,o,a,i,e),p.mode&1&&rm(i,c,e),e=p,l=c;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){rm(i,c,e),Jf();break e}l=Error(O(426))}}else if(ve&&a.mode&1){var _=sm(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),im(_,o,a,i,e),Af(ri(l,a));break e}}i=l=ri(l,a),Me!==4&&(Me=2),no===null?no=[i]:no.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=Zv(i,l,e);Xp(i,v);break e;case 1:a=l;var m=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(cr===null||!cr.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=ex(i,a,e);Xp(i,b);break e}}i=i.return}while(i!==null)}xx(n)}catch(S){e=S,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(!0)}function yx(){var t=vl.current;return vl.current=yl,t===null?yl:t}function Jf(){(Me===0||Me===3||Me===2)&&(Me=4),Fe===null||!(Jr&268435455)&&!(ic&268435455)||Qn(Fe,Be)}function wl(t,e){var n=re;re|=2;var r=yx();(Fe!==t||Be!==e)&&(yn=null,Yr(t,e));do try{pS();break}catch(s){gx(t,s)}while(!0);if(Mf(),re=n,vl.current=r,Ie!==null)throw Error(O(261));return Fe=null,Be=0,Me}function pS(){for(;Ie!==null;)vx(Ie)}function mS(){for(;Ie!==null&&!zb();)vx(Ie)}function vx(t){var e=wx(t.alternate,t,pt);t.memoizedProps=t.pendingProps,e===null?xx(t):Ie=e,Yf.current=null}function xx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=lS(n,e),n!==null){n.flags&=32767,Ie=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Me=6,Ie=null;return}}else if(n=aS(n,e,pt),n!==null){Ie=n;return}if(e=e.sibling,e!==null){Ie=e;return}Ie=e=t}while(e!==null);Me===0&&(Me=5)}function Mr(t,e,n){var r=oe,s=Pt.transition;try{Pt.transition=null,oe=1,gS(t,e,n,r)}finally{Pt.transition=s,oe=r}return null}function gS(t,e,n,r){do Ds();while(tr!==null);if(re&6)throw Error(O(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(qb(t,i),t===Fe&&(Ie=Fe=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ka||(ka=!0,bx(nl,function(){return Ds(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Pt.transition,Pt.transition=null;var o=oe;oe=1;var a=re;re|=4,Yf.current=null,uS(t,n),hx(n,t),D1(ed),sl=!!Zu,ed=Zu=null,t.current=n,dS(n),Bb(),re=a,oe=o,Pt.transition=i}else t.current=n;if(ka&&(ka=!1,tr=t,_l=s),i=t.pendingLanes,i===0&&(cr=null),Vb(n.stateNode),dt(t,ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(xl)throw xl=!1,t=_d,_d=null,t;return _l&1&&t.tag!==0&&Ds(),i=t.pendingLanes,i&1?t===wd?ro++:(ro=0,wd=t):ro=0,kr(),null}function Ds(){if(tr!==null){var t=Zy(_l),e=Pt.transition,n=oe;try{if(Pt.transition=null,oe=16>t?16:t,tr===null)var r=!1;else{if(t=tr,tr=null,_l=0,re&6)throw Error(O(331));var s=re;for(re|=4,V=t.current;V!==null;){var i=V,o=i.child;if(V.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(V=c;V!==null;){var f=V;switch(f.tag){case 0:case 11:case 15:to(8,f,i)}var d=f.child;if(d!==null)d.return=f,V=d;else for(;V!==null;){f=V;var h=f.sibling,p=f.return;if(ux(f),f===c){V=null;break}if(h!==null){h.return=p,V=h;break}V=p}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}V=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,V=o;else e:for(;V!==null;){if(i=V,i.flags&2048)switch(i.tag){case 0:case 11:case 15:to(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,V=v;break e}V=i.return}}var m=t.current;for(V=m;V!==null;){o=V;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,V=x;else e:for(o=m;V!==null;){if(a=V,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:sc(9,a)}}catch(S){Ce(a,a.return,S)}if(a===o){V=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,V=b;break e}V=a.return}}if(re=s,kr(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(ql,t)}catch{}r=!0}return r}finally{oe=n,Pt.transition=e}}return!1}function vm(t,e,n){e=ri(n,e),e=Zv(t,e,1),t=lr(t,e,1),e=tt(),t!==null&&(Yo(t,1,e),dt(t,e))}function Ce(t,e,n){if(t.tag===3)vm(t,t,n);else for(;e!==null;){if(e.tag===3){vm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cr===null||!cr.has(r))){t=ri(n,t),t=ex(e,t,1),e=lr(e,t,1),t=tt(),e!==null&&(Yo(e,1,t),dt(e,t));break}}e=e.return}}function yS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tt(),t.pingedLanes|=t.suspendedLanes&n,Fe===t&&(Be&n)===n&&(Me===4||Me===3&&(Be&130023424)===Be&&500>ke()-Kf?Yr(t,0):Qf|=n),dt(t,e)}function _x(t,e){e===0&&(t.mode&1?(e=ya,ya<<=1,!(ya&130023424)&&(ya=4194304)):e=1);var n=tt();t=kn(t,e),t!==null&&(Yo(t,e,n),dt(t,n))}function vS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_x(t,n)}function xS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),_x(t,n)}var wx;wx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ct.current)at=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return at=!1,oS(t,e,n);at=!!(t.flags&131072)}else at=!1,ve&&e.flags&1048576&&Ev(e,dl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ha(t,e),t=e.pendingProps;var s=Zs(e,qe.current);Os(e,n),s=Wf(null,e,r,t,s,n);var i=Uf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ut(r)?(i=!0,cl(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Lf(e),s.updater=rc,e.stateNode=s,s._reactInternals=e,cd(e,r,t,n),e=fd(null,e,r,!0,i,n)):(e.tag=0,ve&&i&&Pf(e),Je(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ha(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=wS(r),t=$t(r,t),s){case 0:e=dd(null,e,r,t,n);break e;case 1:e=lm(null,e,r,t,n);break e;case 11:e=om(null,e,r,t,n);break e;case 14:e=am(null,e,r,$t(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$t(r,s),dd(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$t(r,s),lm(t,e,r,s,n);case 3:e:{if(sx(e),t===null)throw Error(O(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Rv(t,e),pl(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ri(Error(O(423)),e),e=cm(t,e,r,n,s);break e}else if(r!==s){s=ri(Error(O(424)),e),e=cm(t,e,r,n,s);break e}else for(gt=ar(e.stateNode.containerInfo.firstChild),yt=e,ve=!0,Vt=null,n=Iv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ei(),r===s){e=Tn(t,e,n);break e}Je(t,e,r,n)}e=e.child}return e;case 5:return Av(e),t===null&&od(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,td(r,s)?o=null:i!==null&&td(r,i)&&(e.flags|=32),rx(t,e),Je(t,e,o,n),e.child;case 6:return t===null&&od(e),null;case 13:return ix(t,e,n);case 4:return Ff(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ti(e,null,r,n):Je(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$t(r,s),om(t,e,r,s,n);case 7:return Je(t,e,e.pendingProps,n),e.child;case 8:return Je(t,e,e.pendingProps.children,n),e.child;case 12:return Je(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,fe(fl,r._currentValue),r._currentValue=o,i!==null)if(qt(i.value,o)){if(i.children===s.children&&!ct.current){e=Tn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Sn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ad(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(O(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ad(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Je(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Os(e,n),s=Rt(s),r=r(s),e.flags|=1,Je(t,e,r,n),e.child;case 14:return r=e.type,s=$t(r,e.pendingProps),s=$t(r.type,s),am(t,e,r,s,n);case 15:return tx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$t(r,s),Ha(t,e),e.tag=1,ut(r)?(t=!0,cl(e)):t=!1,Os(e,n),Jv(e,r,s),cd(e,r,s,n),fd(null,e,r,!0,t,n);case 19:return ox(t,e,n);case 22:return nx(t,e,n)}throw Error(O(156,e.tag))};function bx(t,e){return Ky(t,e)}function _S(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(t,e,n,r){return new _S(t,e,n,r)}function Zf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wS(t){if(typeof t=="function")return Zf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vf)return 11;if(t===xf)return 14}return 2}function dr(t,e){var n=t.alternate;return n===null?(n=Tt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qa(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Zf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case xs:return Qr(n.children,s,i,e);case yf:o=8,s|=8;break;case ju:return t=Tt(12,n,e,s|2),t.elementType=ju,t.lanes=i,t;case Mu:return t=Tt(13,n,e,s),t.elementType=Mu,t.lanes=i,t;case Ou:return t=Tt(19,n,e,s),t.elementType=Ou,t.lanes=i,t;case Ay:return oc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Py:o=10;break e;case Ry:o=9;break e;case vf:o=11;break e;case xf:o=14;break e;case Hn:o=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=Tt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Qr(t,e,n,r){return t=Tt(7,t,r,e),t.lanes=n,t}function oc(t,e,n,r){return t=Tt(22,t,r,e),t.elementType=Ay,t.lanes=n,t.stateNode={isHidden:!1},t}function fu(t,e,n){return t=Tt(6,t,null,e),t.lanes=n,t}function hu(t,e,n){return e=Tt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bS(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yc(0),this.expirationTimes=Yc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function eh(t,e,n,r,s,i,o,a,l){return t=new bS(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Tt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lf(i),t}function SS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Sx(t){if(!t)return yr;t=t._reactInternals;e:{if(is(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(ut(n))return Sv(t,n,e)}return e}function Cx(t,e,n,r,s,i,o,a,l){return t=eh(n,r,!0,t,s,i,o,a,l),t.context=Sx(null),n=t.current,r=tt(),s=ur(n),i=Sn(r,s),i.callback=e??null,lr(n,i,s),t.current.lanes=s,Yo(t,s,r),dt(t,r),t}function ac(t,e,n,r){var s=e.current,i=tt(),o=ur(s);return n=Sx(n),e.context===null?e.context=n:e.pendingContext=n,e=Sn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=lr(s,e,o),t!==null&&(Qt(t,s,o,i),Wa(t,s,o)),o}function bl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function th(t,e){xm(t,e),(t=t.alternate)&&xm(t,e)}function CS(){return null}var Ex=typeof reportError=="function"?reportError:function(t){console.error(t)};function nh(t){this._internalRoot=t}lc.prototype.render=nh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));ac(t,e,null,null)};lc.prototype.unmount=nh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zr(function(){ac(null,t,null,null)}),e[Nn]=null}};function lc(t){this._internalRoot=t}lc.prototype.unstable_scheduleHydration=function(t){if(t){var e=nv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yn.length&&e!==0&&e<Yn[n].priority;n++);Yn.splice(n,0,t),n===0&&sv(t)}};function rh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _m(){}function ES(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=bl(o);i.call(c)}}var o=Cx(e,r,t,0,null,!1,!1,"",_m);return t._reactRootContainer=o,t[Nn]=o.current,_o(t.nodeType===8?t.parentNode:t),Zr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=bl(l);a.call(c)}}var l=eh(t,0,!1,null,null,!1,!1,"",_m);return t._reactRootContainer=l,t[Nn]=l.current,_o(t.nodeType===8?t.parentNode:t),Zr(function(){ac(e,l,n,r)}),l}function uc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=bl(o);a.call(l)}}ac(e,o,t,s)}else o=ES(n,e,t,s,r);return bl(o)}ev=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Gi(e.pendingLanes);n!==0&&(bf(e,n|1),dt(e,ke()),!(re&6)&&(si=ke()+500,kr()))}break;case 13:Zr(function(){var r=kn(t,1);if(r!==null){var s=tt();Qt(r,t,1,s)}}),th(t,1)}};Sf=function(t){if(t.tag===13){var e=kn(t,134217728);if(e!==null){var n=tt();Qt(e,t,134217728,n)}th(t,134217728)}};tv=function(t){if(t.tag===13){var e=ur(t),n=kn(t,e);if(n!==null){var r=tt();Qt(n,t,e,r)}th(t,e)}};nv=function(){return oe};rv=function(t,e){var n=oe;try{return oe=t,e()}finally{oe=n}};Hu=function(t,e,n){switch(e){case"input":if(Fu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ec(r);if(!s)throw Error(O(90));My(r),Fu(r,s)}}}break;case"textarea":Dy(t,n);break;case"select":e=n.value,e!=null&&Rs(t,!!n.multiple,e,!1)}};Uy=qf;Vy=Zr;var NS={usingClientEntryPoint:!1,Events:[Ko,Ss,ec,By,Wy,qf]},Mi={findFiberByHostInstance:Lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kS={bundleType:Mi.bundleType,version:Mi.version,rendererPackageName:Mi.rendererPackageName,rendererConfig:Mi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Yy(t),t===null?null:t.stateNode},findFiberByHostInstance:Mi.findFiberByHostInstance||CS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ta.isDisabled&&Ta.supportsFiber)try{ql=Ta.inject(kS),cn=Ta}catch{}}_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NS;_t.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rh(e))throw Error(O(200));return SS(t,e,null,n)};_t.createRoot=function(t,e){if(!rh(t))throw Error(O(299));var n=!1,r="",s=Ex;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=eh(t,1,!1,null,null,n,!1,r,s),t[Nn]=e.current,_o(t.nodeType===8?t.parentNode:t),new nh(e)};_t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=Yy(e),t=t===null?null:t.stateNode,t};_t.flushSync=function(t){return Zr(t)};_t.hydrate=function(t,e,n){if(!cc(e))throw Error(O(200));return uc(null,t,e,!0,n)};_t.hydrateRoot=function(t,e,n){if(!rh(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ex;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Cx(e,null,t,1,n??null,s,!1,i,o),t[Nn]=e.current,_o(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new lc(e)};_t.render=function(t,e,n){if(!cc(e))throw Error(O(200));return uc(null,t,e,!1,n)};_t.unmountComponentAtNode=function(t){if(!cc(t))throw Error(O(40));return t._reactRootContainer?(Zr(function(){uc(null,null,t,!1,function(){t._reactRootContainer=null,t[Nn]=null})}),!0):!1};_t.unstable_batchedUpdates=qf;_t.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!cc(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return uc(t,e,n,!1,r)};_t.version="18.3.1-next-f1338f8080-20240426";function Nx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nx)}catch(t){console.error(t)}}Nx(),Ny.exports=_t;var Xo=Ny.exports;const kx=hy(Xo);var Tx,wm=Xo;Tx=wm.createRoot,wm.hydrateRoot;const TS=1,IS=1e6;let pu=0;function PS(){return pu=(pu+1)%Number.MAX_SAFE_INTEGER,pu.toString()}const mu=new Map,bm=t=>{if(mu.has(t))return;const e=setTimeout(()=>{mu.delete(t),so({type:"REMOVE_TOAST",toastId:t})},IS);mu.set(t,e)},RS=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,TS)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?bm(n):t.toasts.forEach(r=>{bm(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ka=[];let qa={toasts:[]};function so(t){qa=RS(qa,t),Ka.forEach(e=>{e(qa)})}function AS({...t}){const e=PS(),n=s=>so({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>so({type:"DISMISS_TOAST",toastId:e});return so({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function jS(){const[t,e]=w.useState(qa);return w.useEffect(()=>(Ka.push(e),()=>{const n=Ka.indexOf(e);n>-1&&Ka.splice(n,1)}),[t]),{...t,toast:AS,dismiss:n=>so({type:"DISMISS_TOAST",toastId:n})}}function Re(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Sm(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ix(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Sm(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Sm(t[s],null)}}}}function Xt(...t){return w.useCallback(Ix(...t),t)}function dc(t,e=[]){let n=[];function r(i,o){const a=w.createContext(o),l=n.length;n=[...n,o];const c=d=>{var v;const{scope:h,children:p,...y}=d,g=((v=h==null?void 0:h[t])==null?void 0:v[l])||a,_=w.useMemo(()=>y,Object.values(y));return u.jsx(g.Provider,{value:_,children:p})};c.displayName=i+"Provider";function f(d,h){var g;const p=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,y=w.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,f]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,MS(s,...e)]}function MS(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Cd(t){const e=OS(t),n=w.forwardRef((r,s)=>{const{children:i,...o}=r,a=w.Children.toArray(i),l=a.find(LS);if(l){const c=l.props.children,f=a.map(d=>d===l?w.Children.count(c)>1?w.Children.only(null):w.isValidElement(c)?c.props.children:null:d);return u.jsx(e,{...o,ref:s,children:w.isValidElement(c)?w.cloneElement(c,void 0,f):null})}return u.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function OS(t){const e=w.forwardRef((n,r)=>{const{children:s,...i}=n;if(w.isValidElement(s)){const o=$S(s),a=FS(i,s.props);return s.type!==w.Fragment&&(a.ref=r?Ix(r,o):o),w.cloneElement(s,a)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Px=Symbol("radix.slottable");function DS(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Px,e}function LS(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Px}function FS(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function $S(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function zS(t){const e=t+"CollectionProvider",[n,r]=dc(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:_,children:v}=g,m=$.useRef(null),x=$.useRef(new Map).current;return u.jsx(s,{scope:_,itemMap:x,collectionRef:m,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=Cd(a),c=$.forwardRef((g,_)=>{const{scope:v,children:m}=g,x=i(a,v),b=Xt(_,x.collectionRef);return u.jsx(l,{ref:b,children:m})});c.displayName=a;const f=t+"CollectionItemSlot",d="data-radix-collection-item",h=Cd(f),p=$.forwardRef((g,_)=>{const{scope:v,children:m,...x}=g,b=$.useRef(null),S=Xt(_,b),C=i(f,v);return $.useEffect(()=>(C.itemMap.set(b,{ref:b,...x}),()=>void C.itemMap.delete(b))),u.jsx(h,{[d]:"",ref:S,children:m})});p.displayName=f;function y(g){const _=i(t+"CollectionConsumer",g);return $.useCallback(()=>{const m=_.collectionRef.current;if(!m)return[];const x=Array.from(m.querySelectorAll(`[${d}]`));return Array.from(_.itemMap.values()).sort((C,N)=>x.indexOf(C.ref.current)-x.indexOf(N.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},y,r]}var BS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ht=BS.reduce((t,e)=>{const n=Cd(`Primitive.${e}`),r=w.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Rx(t,e){t&&Xo.flushSync(()=>t.dispatchEvent(e))}function vr(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function WS(t,e=globalThis==null?void 0:globalThis.document){const n=vr(t);w.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var US="DismissableLayer",Ed="dismissableLayer.update",VS="dismissableLayer.pointerDownOutside",HS="dismissableLayer.focusOutside",Cm,Ax=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sh=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=w.useContext(Ax),[f,d]=w.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=w.useState({}),y=Xt(e,N=>d(N)),g=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(_),m=f?g.indexOf(f):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,b=m>=v,S=YS(N=>{const I=N.target,k=[...c.branches].some(E=>E.contains(I));!b||k||(s==null||s(N),o==null||o(N),N.defaultPrevented||a==null||a())},h),C=QS(N=>{const I=N.target;[...c.branches].some(E=>E.contains(I))||(i==null||i(N),o==null||o(N),N.defaultPrevented||a==null||a())},h);return WS(N=>{m===c.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&a&&(N.preventDefault(),a()))},h),w.useEffect(()=>{if(f)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Cm=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),Em(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Cm)}},[f,h,n,c]),w.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),Em())},[f,c]),w.useEffect(()=>{const N=()=>p({});return document.addEventListener(Ed,N),()=>document.removeEventListener(Ed,N)},[]),u.jsx(ht.div,{...l,ref:y,style:{pointerEvents:x?b?"auto":"none":void 0,...t.style},onFocusCapture:Re(t.onFocusCapture,C.onFocusCapture),onBlurCapture:Re(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Re(t.onPointerDownCapture,S.onPointerDownCapture)})});sh.displayName=US;var GS="DismissableLayerBranch",jx=w.forwardRef((t,e)=>{const n=w.useContext(Ax),r=w.useRef(null),s=Xt(e,r);return w.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(ht.div,{...t,ref:s})});jx.displayName=GS;function YS(t,e=globalThis==null?void 0:globalThis.document){const n=vr(t),r=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Mx(VS,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function QS(t,e=globalThis==null?void 0:globalThis.document){const n=vr(t),r=w.useRef(!1);return w.useEffect(()=>{const s=i=>{i.target&&!r.current&&Mx(HS,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Em(){const t=new CustomEvent(Ed);document.dispatchEvent(t)}function Mx(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Rx(s,i):s.dispatchEvent(i)}var KS=sh,qS=jx,xr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},XS="Portal",Ox=w.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=w.useState(!1);xr(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?kx.createPortal(u.jsx(ht.div,{...r,ref:e}),o):null});Ox.displayName=XS;function JS(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var ih=t=>{const{present:e,children:n}=t,r=ZS(e),s=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),i=Xt(r.ref,eC(s));return typeof n=="function"||r.isPresent?w.cloneElement(s,{ref:i}):null};ih.displayName="Presence";function ZS(t){const[e,n]=w.useState(),r=w.useRef(null),s=w.useRef(t),i=w.useRef("none"),o=t?"mounted":"unmounted",[a,l]=JS(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=Ia(r.current);i.current=a==="mounted"?c:"none"},[a]),xr(()=>{const c=r.current,f=s.current;if(f!==t){const h=i.current,p=Ia(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(f&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),xr(()=>{if(e){let c;const f=e.ownerDocument.defaultView??window,d=p=>{const g=Ia(r.current).includes(p.animationName);if(p.target===e&&g&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},h=p=>{p.target===e&&(i.current=Ia(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{f.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Ia(t){return(t==null?void 0:t.animationName)||"none"}function eC(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var tC=Cy[" useInsertionEffect ".trim().toString()]||xr;function nC({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=rC({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const f=w.useRef(t!==void 0);w.useEffect(()=>{const d=f.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,r])}const c=w.useCallback(f=>{var d;if(a){const h=sC(f)?f(t):f;h!==t&&((d=o.current)==null||d.call(o,h))}else i(f)},[a,t,i,o]);return[l,c]}function rC({defaultProp:t,onChange:e}){const[n,r]=w.useState(t),s=w.useRef(n),i=w.useRef(e);return tC(()=>{i.current=e},[e]),w.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function sC(t){return typeof t=="function"}var iC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),oC="VisuallyHidden",fc=w.forwardRef((t,e)=>u.jsx(ht.span,{...t,ref:e,style:{...iC,...t.style}}));fc.displayName=oC;var aC=fc,oh="ToastProvider",[ah,lC,cC]=zS("Toast"),[Dx,pM]=dc("Toast",[cC]),[uC,hc]=Dx(oh),Lx=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=w.useState(null),[c,f]=w.useState(0),d=w.useRef(!1),h=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${oh}\`. Expected non-empty \`string\`.`),u.jsx(ah.Provider,{scope:e,children:u.jsx(uC,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:w.useCallback(()=>f(p=>p+1),[]),onToastRemove:w.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};Lx.displayName=oh;var Fx="ToastViewport",dC=["F8"],Nd="toast.viewportPause",kd="toast.viewportResume",$x=w.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=dC,label:s="Notifications ({hotkey})",...i}=t,o=hc(Fx,n),a=lC(n),l=w.useRef(null),c=w.useRef(null),f=w.useRef(null),d=w.useRef(null),h=Xt(e,d,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;w.useEffect(()=>{const _=v=>{var x;r.length!==0&&r.every(b=>v[b]||v.code===b)&&((x=d.current)==null||x.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),w.useEffect(()=>{const _=l.current,v=d.current;if(y&&_&&v){const m=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(Nd);v.dispatchEvent(C),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(kd);v.dispatchEvent(C),o.isClosePausedRef.current=!1}},b=C=>{!_.contains(C.relatedTarget)&&x()},S=()=>{_.contains(document.activeElement)||x()};return _.addEventListener("focusin",m),_.addEventListener("focusout",b),_.addEventListener("pointermove",m),_.addEventListener("pointerleave",S),window.addEventListener("blur",m),window.addEventListener("focus",x),()=>{_.removeEventListener("focusin",m),_.removeEventListener("focusout",b),_.removeEventListener("pointermove",m),_.removeEventListener("pointerleave",S),window.removeEventListener("blur",m),window.removeEventListener("focus",x)}}},[y,o.isClosePausedRef]);const g=w.useCallback(({tabbingDirection:_})=>{const m=a().map(x=>{const b=x.ref.current,S=[b,...CC(b)];return _==="forwards"?S:S.reverse()});return(_==="forwards"?m.reverse():m).flat()},[a]);return w.useEffect(()=>{const _=d.current;if(_){const v=m=>{var S,C,N;const x=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!x){const I=document.activeElement,k=m.shiftKey;if(m.target===_&&k){(S=c.current)==null||S.focus();return}const P=g({tabbingDirection:k?"backwards":"forwards"}),L=P.findIndex(R=>R===I);gu(P.slice(L+1))?m.preventDefault():k?(C=c.current)==null||C.focus():(N=f.current)==null||N.focus()}};return _.addEventListener("keydown",v),()=>_.removeEventListener("keydown",v)}},[a,g]),u.jsxs(qS,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&u.jsx(Td,{ref:c,onFocusFromOutsideViewport:()=>{const _=g({tabbingDirection:"forwards"});gu(_)}}),u.jsx(ah.Slot,{scope:n,children:u.jsx(ht.ol,{tabIndex:-1,...i,ref:h})}),y&&u.jsx(Td,{ref:f,onFocusFromOutsideViewport:()=>{const _=g({tabbingDirection:"backwards"});gu(_)}})]})});$x.displayName=Fx;var zx="ToastFocusProxy",Td=w.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=hc(zx,n);return u.jsx(fc,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Td.displayName=zx;var Jo="Toast",fC="toast.swipeStart",hC="toast.swipeMove",pC="toast.swipeCancel",mC="toast.swipeEnd",Bx=w.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=nC({prop:r,defaultProp:s??!0,onChange:i,caller:Jo});return u.jsx(ih,{present:n||a,children:u.jsx(vC,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:vr(t.onPause),onResume:vr(t.onResume),onSwipeStart:Re(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Re(t.onSwipeMove,c=>{const{x:f,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Re(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Re(t.onSwipeEnd,c=>{const{x:f,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});Bx.displayName=Jo;var[gC,yC]=Dx(Jo,{onClose(){}}),vC=w.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:p,...y}=t,g=hc(Jo,n),[_,v]=w.useState(null),m=Xt(e,R=>v(R)),x=w.useRef(null),b=w.useRef(null),S=s||g.duration,C=w.useRef(0),N=w.useRef(S),I=w.useRef(0),{onToastAdd:k,onToastRemove:E}=g,M=vr(()=>{var F;(_==null?void 0:_.contains(document.activeElement))&&((F=g.viewport)==null||F.focus()),o()}),P=w.useCallback(R=>{!R||R===1/0||(window.clearTimeout(I.current),C.current=new Date().getTime(),I.current=window.setTimeout(M,R))},[M]);w.useEffect(()=>{const R=g.viewport;if(R){const F=()=>{P(N.current),c==null||c()},B=()=>{const U=new Date().getTime()-C.current;N.current=N.current-U,window.clearTimeout(I.current),l==null||l()};return R.addEventListener(Nd,B),R.addEventListener(kd,F),()=>{R.removeEventListener(Nd,B),R.removeEventListener(kd,F)}}},[g.viewport,S,l,c,P]),w.useEffect(()=>{i&&!g.isClosePausedRef.current&&P(S)},[i,S,g.isClosePausedRef,P]),w.useEffect(()=>(k(),()=>E()),[k,E]);const L=w.useMemo(()=>_?Qx(_):null,[_]);return g.viewport?u.jsxs(u.Fragment,{children:[L&&u.jsx(xC,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),u.jsx(gC,{scope:n,onClose:M,children:Xo.createPortal(u.jsx(ah.ItemSlot,{scope:n,children:u.jsx(KS,{asChild:!0,onEscapeKeyDown:Re(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||M(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(ht.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:m,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Re(t.onKeyDown,R=>{R.key==="Escape"&&(a==null||a(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:Re(t.onPointerDown,R=>{R.button===0&&(x.current={x:R.clientX,y:R.clientY})}),onPointerMove:Re(t.onPointerMove,R=>{if(!x.current)return;const F=R.clientX-x.current.x,B=R.clientY-x.current.y,U=!!b.current,T=["left","right"].includes(g.swipeDirection),j=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,D=T?j(0,F):0,Y=T?0:j(0,B),W=R.pointerType==="touch"?10:2,H={x:D,y:Y},G={originalEvent:R,delta:H};U?(b.current=H,Pa(hC,d,G,{discrete:!1})):Nm(H,g.swipeDirection,W)?(b.current=H,Pa(fC,f,G,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(F)>W||Math.abs(B)>W)&&(x.current=null)}),onPointerUp:Re(t.onPointerUp,R=>{const F=b.current,B=R.target;if(B.hasPointerCapture(R.pointerId)&&B.releasePointerCapture(R.pointerId),b.current=null,x.current=null,F){const U=R.currentTarget,T={originalEvent:R,delta:F};Nm(F,g.swipeDirection,g.swipeThreshold)?Pa(mC,p,T,{discrete:!0}):Pa(pC,h,T,{discrete:!0}),U.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),xC=t=>{const{__scopeToast:e,children:n,...r}=t,s=hc(Jo,e),[i,o]=w.useState(!1),[a,l]=w.useState(!1);return bC(()=>o(!0)),w.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(Ox,{asChild:!0,children:u.jsx(fc,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},_C="ToastTitle",Wx=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(ht.div,{...r,ref:e})});Wx.displayName=_C;var wC="ToastDescription",Ux=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(ht.div,{...r,ref:e})});Ux.displayName=wC;var Vx="ToastAction",Hx=w.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(Yx,{altText:n,asChild:!0,children:u.jsx(lh,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Vx}\`. Expected non-empty \`string\`.`),null)});Hx.displayName=Vx;var Gx="ToastClose",lh=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=yC(Gx,n);return u.jsx(Yx,{asChild:!0,children:u.jsx(ht.button,{type:"button",...r,ref:e,onClick:Re(t.onClick,s.onClose)})})});lh.displayName=Gx;var Yx=w.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(ht.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Qx(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),SC(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Qx(r))}}),e}function Pa(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Rx(s,i):s.dispatchEvent(i)}var Nm=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function bC(t=()=>{}){const e=vr(t);xr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function SC(t){return t.nodeType===t.ELEMENT_NODE}function CC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function gu(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var EC=Lx,Kx=$x,qx=Bx,Xx=Wx,Jx=Ux,Zx=Hx,e0=lh;function t0(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=t0(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function n0(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=t0(t))&&(r&&(r+=" "),r+=e);return r}const km=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Tm=n0,NC=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Tm(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const f=n==null?void 0:n[c],d=i==null?void 0:i[c];if(f===null)return null;const h=km(f)||km(d);return s[c][h]}),a=n&&Object.entries(n).reduce((c,f)=>{let[d,h]=f;return h===void 0||(c[d]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,f)=>{let{class:d,className:h,...p}=f;return Object.entries(p).every(y=>{let[g,_]=y;return Array.isArray(_)?_.includes({...i,...a}[g]):{...i,...a}[g]===_})?[...c,d,h]:c},[]);return Tm(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r0=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>w.createElement("svg",{ref:l,...TC,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:r0("lucide",s),...a},[...o.map(([c,f])=>w.createElement(c,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=(t,e)=>{const n=w.forwardRef(({className:r,...s},i)=>w.createElement(IC,{ref:i,iconNode:e,className:r0(`lucide-${kC(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=PC("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ch="-",AC=t=>{const e=MC(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(ch);return a[0]===""&&a.length!==1&&a.shift(),s0(a,e)||jC(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},s0=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?s0(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(ch);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Im=/^\[(.+)\]$/,jC=t=>{if(Im.test(t)){const e=Im.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},MC=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return DC(Object.entries(t.classGroups),n).forEach(([i,o])=>{Id(o,r,i,e)}),r},Id=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Pm(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(OC(s)){Id(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Id(o,Pm(e,i),n,r)})})},Pm=(t,e)=>{let n=t;return e.split(ch).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},OC=t=>t.isThemeGetter,DC=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,LC=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},i0="!",FC=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,f=0,d;for(let _=0;_<a.length;_++){let v=a[_];if(c===0){if(v===s&&(r||a.slice(_,_+i)===e)){l.push(a.slice(f,_)),f=_+i;continue}if(v==="/"){d=_;continue}}v==="["?c++:v==="]"&&c--}const h=l.length===0?a:a.substring(f),p=h.startsWith(i0),y=p?h.substring(1):h,g=d&&d>f?d-f:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},$C=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},zC=t=>({cache:LC(t.cacheSize),parseClassName:FC(t),...AC(t)}),BC=/\s+/,WC=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(BC);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=n(c);let y=!!p,g=r(y?h.substring(0,p):h);if(!g){if(!y){a=c+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=c+(a.length>0?" "+a:a);continue}y=!1}const _=$C(f).join(":"),v=d?_+i0:_,m=v+g;if(i.includes(m))continue;i.push(m);const x=s(g,y);for(let b=0;b<x.length;++b){const S=x[b];i.push(v+S)}a=c+(a.length>0?" "+a:a)}return a};function UC(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=o0(e))&&(r&&(r+=" "),r+=n);return r}const o0=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=o0(t[r]))&&(n&&(n+=" "),n+=e);return n};function VC(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((f,d)=>d(f),t());return n=zC(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const f=WC(l,n);return s(l,f),f}return function(){return i(UC.apply(null,arguments))}}const pe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},a0=/^\[(?:([a-z-]+):)?(.+)\]$/i,HC=/^\d+\/\d+$/,GC=new Set(["px","full","screen"]),YC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,KC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mn=t=>Ls(t)||GC.has(t)||HC.test(t),Wn=t=>gi(t,"length",iE),Ls=t=>!!t&&!Number.isNaN(Number(t)),yu=t=>gi(t,"number",Ls),Oi=t=>!!t&&Number.isInteger(Number(t)),JC=t=>t.endsWith("%")&&Ls(t.slice(0,-1)),X=t=>a0.test(t),Un=t=>YC.test(t),ZC=new Set(["length","size","percentage"]),eE=t=>gi(t,ZC,l0),tE=t=>gi(t,"position",l0),nE=new Set(["image","url"]),rE=t=>gi(t,nE,aE),sE=t=>gi(t,"",oE),Di=()=>!0,gi=(t,e,n)=>{const r=a0.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},iE=t=>QC.test(t)&&!KC.test(t),l0=()=>!1,oE=t=>qC.test(t),aE=t=>XC.test(t),lE=()=>{const t=pe("colors"),e=pe("spacing"),n=pe("blur"),r=pe("brightness"),s=pe("borderColor"),i=pe("borderRadius"),o=pe("borderSpacing"),a=pe("borderWidth"),l=pe("contrast"),c=pe("grayscale"),f=pe("hueRotate"),d=pe("invert"),h=pe("gap"),p=pe("gradientColorStops"),y=pe("gradientColorStopPositions"),g=pe("inset"),_=pe("margin"),v=pe("opacity"),m=pe("padding"),x=pe("saturate"),b=pe("scale"),S=pe("sepia"),C=pe("skew"),N=pe("space"),I=pe("translate"),k=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",X,e],P=()=>[X,e],L=()=>["",mn,Wn],R=()=>["auto",Ls,X],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",X],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[Ls,X];return{cacheSize:500,separator:":",theme:{colors:[Di],spacing:[mn,Wn],blur:["none","",Un,X],brightness:Y(),borderColor:[t],borderRadius:["none","","full",Un,X],borderSpacing:P(),borderWidth:L(),contrast:Y(),grayscale:j(),hueRotate:Y(),invert:j(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[JC,Wn],inset:M(),margin:M(),opacity:Y(),padding:P(),saturate:Y(),scale:Y(),sepia:j(),skew:Y(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",X]}],container:["container"],columns:[{columns:[Un]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),X]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Oi,X]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",X]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",Oi,X]}],"grid-cols":[{"grid-cols":[Di]}],"col-start-end":[{col:["auto",{span:["full",Oi,X]},X]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Di]}],"row-start-end":[{row:["auto",{span:[Oi,X]},X]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",X]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",X]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",X,e]}],"min-w":[{"min-w":[X,e,"min","max","fit"]}],"max-w":[{"max-w":[X,e,"none","full","min","max","fit","prose",{screen:[Un]},Un]}],h:[{h:[X,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[X,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[X,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[X,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Un,Wn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yu]}],"font-family":[{font:[Di]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",X]}],"line-clamp":[{"line-clamp":["none",Ls,yu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mn,X]}],"list-image":[{"list-image":["none",X]}],"list-style-type":[{list:["none","disc","decimal",X]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mn,Wn]}],"underline-offset":[{"underline-offset":["auto",mn,X]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",X]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",X]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),tE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",eE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},rE]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:B()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[mn,X]}],"outline-w":[{outline:[mn,Wn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[mn,Wn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Un,sE]}],"shadow-color":[{shadow:[Di]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Un,X]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",X]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",X]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",X]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Oi,X]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",X]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",X]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",X]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[mn,Wn,yu]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},cE=VC(lE);function os(...t){return cE(n0(t))}const uE=EC,c0=w.forwardRef(({className:t,...e},n)=>u.jsx(Kx,{ref:n,className:os("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));c0.displayName=Kx.displayName;const dE=NC("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),u0=w.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(qx,{ref:r,className:os(dE({variant:e}),t),...n}));u0.displayName=qx.displayName;const fE=w.forwardRef(({className:t,...e},n)=>u.jsx(Zx,{ref:n,className:os("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));fE.displayName=Zx.displayName;const d0=w.forwardRef(({className:t,...e},n)=>u.jsx(e0,{ref:n,className:os("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(RC,{className:"h-4 w-4"})}));d0.displayName=e0.displayName;const f0=w.forwardRef(({className:t,...e},n)=>u.jsx(Xx,{ref:n,className:os("text-sm font-semibold",t),...e}));f0.displayName=Xx.displayName;const h0=w.forwardRef(({className:t,...e},n)=>u.jsx(Jx,{ref:n,className:os("text-sm opacity-90",t),...e}));h0.displayName=Jx.displayName;function hE(){const{toasts:t}=jS();return u.jsxs(uE,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(u0,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(f0,{children:n}),r&&u.jsx(h0,{children:r})]}),s,u.jsx(d0,{})]},e)}),u.jsx(c0,{})]})}var Rm=["light","dark"],pE="(prefers-color-scheme: dark)",mE=w.createContext(void 0),gE={setTheme:t=>{},themes:[]},yE=()=>{var t;return(t=w.useContext(mE))!=null?t:gE};w.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",f=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=s?Rm.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,g=!1,_=!0)=>{let v=o?o[y]:y,m=g?y+"|| ''":`'${v}'`,x="";return s&&_&&!g&&Rm.includes(y)&&(x+=`d.style.colorScheme = '${y}';`),n==="class"?g||v?x+=`c.add(${m})`:x+="null":v&&(x+=`d[s](n,${m})`),x},p=t?`!function(){${f}${h(t)}}()`:r?`!function(){try{${f}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${pE}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(i,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${d}}catch(t){}}();`;return w.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var vE=t=>{switch(t){case"success":return wE;case"info":return SE;case"warning":return bE;case"error":return CE;default:return null}},xE=Array(12).fill(0),_E=({visible:t,className:e})=>$.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},$.createElement("div",{className:"sonner-spinner"},xE.map((n,r)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),wE=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bE=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),SE=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),CE=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),EE=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),NE=()=>{let[t,e]=$.useState(document.hidden);return $.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Pd=1,kE=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Pd++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],$.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(IE(l)&&!l.ok){s=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,f=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:f})}else if(e.success!==void 0){s=!1;let c=typeof e.success=="function"?await e.success(l):e.success,f=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:f})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let c=typeof e.error=="function"?await e.error(l):e.error,f=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:f})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Pd++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},it=new kE,TE=(t,e)=>{let n=(e==null?void 0:e.id)||Pd++;return it.addToast({title:t,...e,id:n}),n},IE=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",PE=TE,RE=()=>it.toasts,AE=()=>it.getActiveToasts();Object.assign(PE,{success:it.success,info:it.info,warning:it.warning,error:it.error,custom:it.custom,message:it.message,promise:it.promise,dismiss:it.dismiss,loading:it.loading},{getHistory:RE,getToasts:AE});function jE(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}jE(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ra(t){return t.label!==void 0}var ME=3,OE="32px",DE="16px",Am=4e3,LE=356,FE=14,$E=20,zE=200;function Ft(...t){return t.filter(Boolean).join(" ")}function BE(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var WE=t=>{var e,n,r,s,i,o,a,l,c,f,d;let{invert:h,toast:p,unstyled:y,interacting:g,setHeights:_,visibleToasts:v,heights:m,index:x,toasts:b,expanded:S,removeToast:C,defaultRichColors:N,closeButton:I,style:k,cancelButtonStyle:E,actionButtonStyle:M,className:P="",descriptionClassName:L="",duration:R,position:F,gap:B,loadingIcon:U,expandByDefault:T,classNames:j,icons:D,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:W}=t,[H,G]=$.useState(null),[he,Te]=$.useState(null),[J,en]=$.useState(!1),[On,Ir]=$.useState(!1),[Dn,cs]=$.useState(!1),[Ln,la]=$.useState(!1),[Lc,ca]=$.useState(!1),[Fc,Ei]=$.useState(0),[us,op]=$.useState(0),Ni=$.useRef(p.duration||R||Am),ap=$.useRef(null),Pr=$.useRef(null),Yw=x===0,Qw=x+1<=v,bt=p.type,ds=p.dismissible!==!1,Kw=p.className||"",qw=p.descriptionClassName||"",ua=$.useMemo(()=>m.findIndex(K=>K.toastId===p.id)||0,[m,p.id]),Xw=$.useMemo(()=>{var K;return(K=p.closeButton)!=null?K:I},[p.closeButton,I]),lp=$.useMemo(()=>p.duration||R||Am,[p.duration,R]),$c=$.useRef(0),fs=$.useRef(0),cp=$.useRef(0),hs=$.useRef(null),[Jw,Zw]=F.split("-"),up=$.useMemo(()=>m.reduce((K,ae,ye)=>ye>=ua?K:K+ae.height,0),[m,ua]),dp=NE(),eb=p.invert||h,zc=bt==="loading";fs.current=$.useMemo(()=>ua*B+up,[ua,up]),$.useEffect(()=>{Ni.current=lp},[lp]),$.useEffect(()=>{en(!0)},[]),$.useEffect(()=>{let K=Pr.current;if(K){let ae=K.getBoundingClientRect().height;return op(ae),_(ye=>[{toastId:p.id,height:ae,position:p.position},...ye]),()=>_(ye=>ye.filter(Mt=>Mt.toastId!==p.id))}},[_,p.id]),$.useLayoutEffect(()=>{if(!J)return;let K=Pr.current,ae=K.style.height;K.style.height="auto";let ye=K.getBoundingClientRect().height;K.style.height=ae,op(ye),_(Mt=>Mt.find(Ot=>Ot.toastId===p.id)?Mt.map(Ot=>Ot.toastId===p.id?{...Ot,height:ye}:Ot):[{toastId:p.id,height:ye,position:p.position},...Mt])},[J,p.title,p.description,_,p.id]);let Fn=$.useCallback(()=>{Ir(!0),Ei(fs.current),_(K=>K.filter(ae=>ae.toastId!==p.id)),setTimeout(()=>{C(p)},zE)},[p,C,_,fs]);$.useEffect(()=>{if(p.promise&&bt==="loading"||p.duration===1/0||p.type==="loading")return;let K;return S||g||W&&dp?(()=>{if(cp.current<$c.current){let ae=new Date().getTime()-$c.current;Ni.current=Ni.current-ae}cp.current=new Date().getTime()})():Ni.current!==1/0&&($c.current=new Date().getTime(),K=setTimeout(()=>{var ae;(ae=p.onAutoClose)==null||ae.call(p,p),Fn()},Ni.current)),()=>clearTimeout(K)},[S,g,p,bt,W,dp,Fn]),$.useEffect(()=>{p.delete&&Fn()},[Fn,p.delete]);function tb(){var K,ae,ye;return D!=null&&D.loading?$.createElement("div",{className:Ft(j==null?void 0:j.loader,(K=p==null?void 0:p.classNames)==null?void 0:K.loader,"sonner-loader"),"data-visible":bt==="loading"},D.loading):U?$.createElement("div",{className:Ft(j==null?void 0:j.loader,(ae=p==null?void 0:p.classNames)==null?void 0:ae.loader,"sonner-loader"),"data-visible":bt==="loading"},U):$.createElement(_E,{className:Ft(j==null?void 0:j.loader,(ye=p==null?void 0:p.classNames)==null?void 0:ye.loader),visible:bt==="loading"})}return $.createElement("li",{tabIndex:0,ref:Pr,className:Ft(P,Kw,j==null?void 0:j.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[bt],(n=p==null?void 0:p.classNames)==null?void 0:n[bt]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:N,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":J,"data-promise":!!p.promise,"data-swiped":Lc,"data-removed":On,"data-visible":Qw,"data-y-position":Jw,"data-x-position":Zw,"data-index":x,"data-front":Yw,"data-swiping":Dn,"data-dismissible":ds,"data-type":bt,"data-invert":eb,"data-swipe-out":Ln,"data-swipe-direction":he,"data-expanded":!!(S||T&&J),style:{"--index":x,"--toasts-before":x,"--z-index":b.length-x,"--offset":`${On?Fc:fs.current}px`,"--initial-height":T?"auto":`${us}px`,...k,...p.style},onDragEnd:()=>{cs(!1),G(null),hs.current=null},onPointerDown:K=>{zc||!ds||(ap.current=new Date,Ei(fs.current),K.target.setPointerCapture(K.pointerId),K.target.tagName!=="BUTTON"&&(cs(!0),hs.current={x:K.clientX,y:K.clientY}))},onPointerUp:()=>{var K,ae,ye,Mt;if(Ln||!ds)return;hs.current=null;let Ot=Number(((K=Pr.current)==null?void 0:K.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),$n=Number(((ae=Pr.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Rr=new Date().getTime()-((ye=ap.current)==null?void 0:ye.getTime()),Dt=H==="x"?Ot:$n,zn=Math.abs(Dt)/Rr;if(Math.abs(Dt)>=$E||zn>.11){Ei(fs.current),(Mt=p.onDismiss)==null||Mt.call(p,p),Te(H==="x"?Ot>0?"right":"left":$n>0?"down":"up"),Fn(),la(!0),ca(!1);return}cs(!1),G(null)},onPointerMove:K=>{var ae,ye,Mt,Ot;if(!hs.current||!ds||((ae=window.getSelection())==null?void 0:ae.toString().length)>0)return;let $n=K.clientY-hs.current.y,Rr=K.clientX-hs.current.x,Dt=(ye=t.swipeDirections)!=null?ye:BE(F);!H&&(Math.abs(Rr)>1||Math.abs($n)>1)&&G(Math.abs(Rr)>Math.abs($n)?"x":"y");let zn={x:0,y:0};H==="y"?(Dt.includes("top")||Dt.includes("bottom"))&&(Dt.includes("top")&&$n<0||Dt.includes("bottom")&&$n>0)&&(zn.y=$n):H==="x"&&(Dt.includes("left")||Dt.includes("right"))&&(Dt.includes("left")&&Rr<0||Dt.includes("right")&&Rr>0)&&(zn.x=Rr),(Math.abs(zn.x)>0||Math.abs(zn.y)>0)&&ca(!0),(Mt=Pr.current)==null||Mt.style.setProperty("--swipe-amount-x",`${zn.x}px`),(Ot=Pr.current)==null||Ot.style.setProperty("--swipe-amount-y",`${zn.y}px`)}},Xw&&!p.jsx?$.createElement("button",{"aria-label":Y,"data-disabled":zc,"data-close-button":!0,onClick:zc||!ds?()=>{}:()=>{var K;Fn(),(K=p.onDismiss)==null||K.call(p,p)},className:Ft(j==null?void 0:j.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=D==null?void 0:D.close)!=null?i:EE):null,p.jsx||w.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:$.createElement($.Fragment,null,bt||p.icon||p.promise?$.createElement("div",{"data-icon":"",className:Ft(j==null?void 0:j.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||tb():null,p.type!=="loading"?p.icon||(D==null?void 0:D[bt])||vE(bt):null):null,$.createElement("div",{"data-content":"",className:Ft(j==null?void 0:j.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},$.createElement("div",{"data-title":"",className:Ft(j==null?void 0:j.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?$.createElement("div",{"data-description":"",className:Ft(L,qw,j==null?void 0:j.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),w.isValidElement(p.cancel)?p.cancel:p.cancel&&Ra(p.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||E,onClick:K=>{var ae,ye;Ra(p.cancel)&&ds&&((ye=(ae=p.cancel).onClick)==null||ye.call(ae,K),Fn())},className:Ft(j==null?void 0:j.cancelButton,(f=p==null?void 0:p.classNames)==null?void 0:f.cancelButton)},p.cancel.label):null,w.isValidElement(p.action)?p.action:p.action&&Ra(p.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||M,onClick:K=>{var ae,ye;Ra(p.action)&&((ye=(ae=p.action).onClick)==null||ye.call(ae,K),!K.defaultPrevented&&Fn())},className:Ft(j==null?void 0:j.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function jm(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function UE(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?DE:OE;function l(c){["top","right","bottom","left"].forEach(f=>{n[`${o}-${f}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var VE=w.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:f="light",richColors:d,duration:h,style:p,visibleToasts:y=ME,toastOptions:g,dir:_=jm(),gap:v=FE,loadingIcon:m,icons:x,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:S}=t,[C,N]=$.useState([]),I=$.useMemo(()=>Array.from(new Set([r].concat(C.filter(W=>W.position).map(W=>W.position)))),[C,r]),[k,E]=$.useState([]),[M,P]=$.useState(!1),[L,R]=$.useState(!1),[F,B]=$.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=$.useRef(null),T=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=$.useRef(null),D=$.useRef(!1),Y=$.useCallback(W=>{N(H=>{var G;return(G=H.find(he=>he.id===W.id))!=null&&G.delete||it.dismiss(W.id),H.filter(({id:he})=>he!==W.id)})},[]);return $.useEffect(()=>it.subscribe(W=>{if(W.dismiss){N(H=>H.map(G=>G.id===W.id?{...G,delete:!0}:G));return}setTimeout(()=>{kx.flushSync(()=>{N(H=>{let G=H.findIndex(he=>he.id===W.id);return G!==-1?[...H.slice(0,G),{...H[G],...W},...H.slice(G+1)]:[W,...H]})})})}),[]),$.useEffect(()=>{if(f!=="system"){B(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;let W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:H})=>{B(H?"dark":"light")})}catch{W.addListener(({matches:G})=>{try{B(G?"dark":"light")}catch(he){console.error(he)}})}},[f]),$.useEffect(()=>{C.length<=1&&P(!1)},[C]),$.useEffect(()=>{let W=H=>{var G,he;s.every(Te=>H[Te]||H.code===Te)&&(P(!0),(G=U.current)==null||G.focus()),H.code==="Escape"&&(document.activeElement===U.current||(he=U.current)!=null&&he.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[s]),$.useEffect(()=>{if(U.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,D.current=!1)}},[U.current]),$.createElement("section",{ref:e,"aria-label":`${b} ${T}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((W,H)=>{var G;let[he,Te]=W.split("-");return C.length?$.createElement("ol",{key:W,dir:_==="auto"?jm():_,tabIndex:-1,ref:U,className:a,"data-sonner-toaster":!0,"data-theme":F,"data-y-position":he,"data-lifted":M&&C.length>1&&!i,"data-x-position":Te,style:{"--front-toast-height":`${((G=k[0])==null?void 0:G.height)||0}px`,"--width":`${LE}px`,"--gap":`${v}px`,...p,...UE(l,c)},onBlur:J=>{D.current&&!J.currentTarget.contains(J.relatedTarget)&&(D.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||D.current||(D.current=!0,j.current=J.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{L||P(!1)},onDragEnd:()=>P(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},C.filter(J=>!J.position&&H===0||J.position===W).map((J,en)=>{var On,Ir;return $.createElement(WE,{key:J.id,icons:x,index:en,toast:J,defaultRichColors:d,duration:(On=g==null?void 0:g.duration)!=null?On:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:y,closeButton:(Ir=g==null?void 0:g.closeButton)!=null?Ir:o,interacting:L,position:W,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:Y,toasts:C.filter(Dn=>Dn.position==J.position),heights:k.filter(Dn=>Dn.position==J.position),setHeights:E,expandByDefault:i,gap:v,loadingIcon:m,expanded:M,pauseWhenPageIsHidden:S,swipeDirections:t.swipeDirections})})):null}))});const HE=({...t})=>{const{theme:e="system"}=yE();return u.jsx(VE,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},GE=["top","right","bottom","left"],_r=Math.min,mt=Math.max,Sl=Math.round,Aa=Math.floor,dn=t=>({x:t,y:t}),YE={left:"right",right:"left",bottom:"top",top:"bottom"},QE={start:"end",end:"start"};function Rd(t,e,n){return mt(t,_r(e,n))}function In(t,e){return typeof t=="function"?t(e):t}function Pn(t){return t.split("-")[0]}function yi(t){return t.split("-")[1]}function uh(t){return t==="x"?"y":"x"}function dh(t){return t==="y"?"height":"width"}const KE=new Set(["top","bottom"]);function ln(t){return KE.has(Pn(t))?"y":"x"}function fh(t){return uh(ln(t))}function qE(t,e,n){n===void 0&&(n=!1);const r=yi(t),s=fh(t),i=dh(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Cl(o)),[o,Cl(o)]}function XE(t){const e=Cl(t);return[Ad(t),e,Ad(e)]}function Ad(t){return t.replace(/start|end/g,e=>QE[e])}const Mm=["left","right"],Om=["right","left"],JE=["top","bottom"],ZE=["bottom","top"];function eN(t,e,n){switch(t){case"top":case"bottom":return n?e?Om:Mm:e?Mm:Om;case"left":case"right":return e?JE:ZE;default:return[]}}function tN(t,e,n,r){const s=yi(t);let i=eN(Pn(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Ad)))),i}function Cl(t){return t.replace(/left|right|bottom|top/g,e=>YE[e])}function nN(t){return{top:0,right:0,bottom:0,left:0,...t}}function p0(t){return typeof t!="number"?nN(t):{top:t,right:t,bottom:t,left:t}}function El(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Dm(t,e,n){let{reference:r,floating:s}=t;const i=ln(e),o=fh(e),a=dh(o),l=Pn(e),c=i==="y",f=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:f,y:r.y-s.height};break;case"bottom":p={x:f,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-s.width,y:d};break;default:p={x:r.x,y:r.y}}switch(yi(e)){case"start":p[o]-=h*(n&&c?-1:1);break;case"end":p[o]+=h*(n&&c?-1:1);break}return p}const rN=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:d}=Dm(c,r,l),h=r,p={},y=0;for(let g=0;g<a.length;g++){const{name:_,fn:v}=a[g],{x:m,y:x,data:b,reset:S}=await v({x:f,y:d,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});f=m??f,d=x??d,p={...p,[_]:{...p[_],...b}},S&&y<=50&&(y++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:f,y:d}=Dm(c,h,l)),g=-1)}return{x:f,y:d,placement:h,strategy:s,middlewareData:p}};async function Io(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=In(e,t),y=p0(p),_=a[h?d==="floating"?"reference":"floating":d],v=El(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:f,strategy:l})),m=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),b=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},S=El(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:m,offsetParent:x,strategy:l}):m);return{top:(v.top-S.top+y.top)/b.y,bottom:(S.bottom-v.bottom+y.bottom)/b.y,left:(v.left-S.left+y.left)/b.x,right:(S.right-v.right+y.right)/b.x}}const sN=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:f=0}=In(t,e)||{};if(c==null)return{};const d=p0(f),h={x:n,y:r},p=fh(s),y=dh(p),g=await o.getDimensions(c),_=p==="y",v=_?"top":"left",m=_?"bottom":"right",x=_?"clientHeight":"clientWidth",b=i.reference[y]+i.reference[p]-h[p]-i.floating[y],S=h[p]-i.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let N=C?C[x]:0;(!N||!await(o.isElement==null?void 0:o.isElement(C)))&&(N=a.floating[x]||i.floating[y]);const I=b/2-S/2,k=N/2-g[y]/2-1,E=_r(d[v],k),M=_r(d[m],k),P=E,L=N-g[y]-M,R=N/2-g[y]/2+I,F=Rd(P,R,L),B=!l.arrow&&yi(s)!=null&&R!==F&&i.reference[y]/2-(R<P?E:M)-g[y]/2<0,U=B?R<P?R-P:R-L:0;return{[p]:h[p]+U,data:{[p]:F,centerOffset:R-F-U,...B&&{alignmentOffset:U}},reset:B}}}),iN=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,..._}=In(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Pn(s),m=ln(a),x=Pn(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=h||(x||!g?[Cl(a)]:XE(a)),C=y!=="none";!h&&C&&S.push(...tN(a,g,y,b));const N=[a,...S],I=await Io(e,_),k=[];let E=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&k.push(I[v]),d){const R=qE(s,o,b);k.push(I[R[0]],I[R[1]])}if(E=[...E,{placement:s,overflows:k}],!k.every(R=>R<=0)){var M,P;const R=(((M=i.flip)==null?void 0:M.index)||0)+1,F=N[R];if(F&&(!(d==="alignment"?m!==ln(F):!1)||E.every(T=>T.overflows[0]>0&&ln(T.placement)===m)))return{data:{index:R,overflows:E},reset:{placement:F}};let B=(P=E.filter(U=>U.overflows[0]<=0).sort((U,T)=>U.overflows[1]-T.overflows[1])[0])==null?void 0:P.placement;if(!B)switch(p){case"bestFit":{var L;const U=(L=E.filter(T=>{if(C){const j=ln(T.placement);return j===m||j==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(j=>j>0).reduce((j,D)=>j+D,0)]).sort((T,j)=>T[1]-j[1])[0])==null?void 0:L[0];U&&(B=U);break}case"initialPlacement":B=a;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function Lm(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Fm(t){return GE.some(e=>t[e]>=0)}const oN=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=In(t,e);switch(r){case"referenceHidden":{const i=await Io(e,{...s,elementContext:"reference"}),o=Lm(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Fm(o)}}}case"escaped":{const i=await Io(e,{...s,altBoundary:!0}),o=Lm(i,n.floating);return{data:{escapedOffsets:o,escaped:Fm(o)}}}default:return{}}}}},m0=new Set(["left","top"]);async function aN(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Pn(n),a=yi(n),l=ln(n)==="y",c=m0.has(o)?-1:1,f=i&&l?-1:1,d=In(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof y=="number"&&(p=a==="end"?y*-1:y),l?{x:p*f,y:h*c}:{x:h*c,y:p*f}}const lN=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await aN(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},cN=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:v,y:m}=_;return{x:v,y:m}}},...l}=In(t,e),c={x:n,y:r},f=await Io(e,l),d=ln(Pn(s)),h=uh(d);let p=c[h],y=c[d];if(i){const _=h==="y"?"top":"left",v=h==="y"?"bottom":"right",m=p+f[_],x=p-f[v];p=Rd(m,p,x)}if(o){const _=d==="y"?"top":"left",v=d==="y"?"bottom":"right",m=y+f[_],x=y-f[v];y=Rd(m,y,x)}const g=a.fn({...e,[h]:p,[d]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:i,[d]:o}}}}}},uN=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=In(t,e),f={x:n,y:r},d=ln(s),h=uh(d);let p=f[h],y=f[d];const g=In(a,e),_=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=h==="y"?"height":"width",b=i.reference[h]-i.floating[x]+_.mainAxis,S=i.reference[h]+i.reference[x]-_.mainAxis;p<b?p=b:p>S&&(p=S)}if(c){var v,m;const x=h==="y"?"width":"height",b=m0.has(Pn(s)),S=i.reference[d]-i.floating[x]+(b&&((v=o.offset)==null?void 0:v[d])||0)+(b?0:_.crossAxis),C=i.reference[d]+i.reference[x]+(b?0:((m=o.offset)==null?void 0:m[d])||0)-(b?_.crossAxis:0);y<S?y=S:y>C&&(y=C)}return{[h]:p,[d]:y}}}},dN=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=In(t,e),f=await Io(e,c),d=Pn(s),h=yi(s),p=ln(s)==="y",{width:y,height:g}=i.floating;let _,v;d==="top"||d==="bottom"?(_=d,v=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,_=h==="end"?"top":"bottom");const m=g-f.top-f.bottom,x=y-f.left-f.right,b=_r(g-f[_],m),S=_r(y-f[v],x),C=!e.middlewareData.shift;let N=b,I=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=m),C&&!h){const E=mt(f.left,0),M=mt(f.right,0),P=mt(f.top,0),L=mt(f.bottom,0);p?I=y-2*(E!==0||M!==0?E+M:mt(f.left,f.right)):N=g-2*(P!==0||L!==0?P+L:mt(f.top,f.bottom))}await l({...e,availableWidth:I,availableHeight:N});const k=await o.getDimensions(a.floating);return y!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}};function pc(){return typeof window<"u"}function vi(t){return g0(t)?(t.nodeName||"").toLowerCase():"#document"}function vt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function hn(t){var e;return(e=(g0(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function g0(t){return pc()?t instanceof Node||t instanceof vt(t).Node:!1}function Jt(t){return pc()?t instanceof Element||t instanceof vt(t).Element:!1}function fn(t){return pc()?t instanceof HTMLElement||t instanceof vt(t).HTMLElement:!1}function $m(t){return!pc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof vt(t).ShadowRoot}const fN=new Set(["inline","contents"]);function Zo(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Zt(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!fN.has(s)}const hN=new Set(["table","td","th"]);function pN(t){return hN.has(vi(t))}const mN=[":popover-open",":modal"];function mc(t){return mN.some(e=>{try{return t.matches(e)}catch{return!1}})}const gN=["transform","translate","scale","rotate","perspective"],yN=["transform","translate","scale","rotate","perspective","filter"],vN=["paint","layout","strict","content"];function hh(t){const e=ph(),n=Jt(t)?Zt(t):t;return gN.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||yN.some(r=>(n.willChange||"").includes(r))||vN.some(r=>(n.contain||"").includes(r))}function xN(t){let e=wr(t);for(;fn(e)&&!ii(e);){if(hh(e))return e;if(mc(e))return null;e=wr(e)}return null}function ph(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _N=new Set(["html","body","#document"]);function ii(t){return _N.has(vi(t))}function Zt(t){return vt(t).getComputedStyle(t)}function gc(t){return Jt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function wr(t){if(vi(t)==="html")return t;const e=t.assignedSlot||t.parentNode||$m(t)&&t.host||hn(t);return $m(e)?e.host:e}function y0(t){const e=wr(t);return ii(e)?t.ownerDocument?t.ownerDocument.body:t.body:fn(e)&&Zo(e)?e:y0(e)}function Po(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=y0(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=vt(s);if(i){const a=jd(o);return e.concat(o,o.visualViewport||[],Zo(s)?s:[],a&&n?Po(a):[])}return e.concat(s,Po(s,[],n))}function jd(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function v0(t){const e=Zt(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=fn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Sl(n)!==i||Sl(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function mh(t){return Jt(t)?t:t.contextElement}function Fs(t){const e=mh(t);if(!fn(e))return dn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=v0(e);let o=(i?Sl(n.width):n.width)/r,a=(i?Sl(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const wN=dn(0);function x0(t){const e=vt(t);return!ph()||!e.visualViewport?wN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function bN(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==vt(t)?!1:e}function es(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=mh(t);let o=dn(1);e&&(r?Jt(r)&&(o=Fs(r)):o=Fs(t));const a=bN(i,n,r)?x0(i):dn(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,f=s.width/o.x,d=s.height/o.y;if(i){const h=vt(i),p=r&&Jt(r)?vt(r):r;let y=h,g=jd(y);for(;g&&r&&p!==y;){const _=Fs(g),v=g.getBoundingClientRect(),m=Zt(g),x=v.left+(g.clientLeft+parseFloat(m.paddingLeft))*_.x,b=v.top+(g.clientTop+parseFloat(m.paddingTop))*_.y;l*=_.x,c*=_.y,f*=_.x,d*=_.y,l+=x,c+=b,y=vt(g),g=jd(y)}}return El({width:f,height:d,x:l,y:c})}function gh(t,e){const n=gc(t).scrollLeft;return e?e.left+n:es(hn(t)).left+n}function _0(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:gh(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function SN(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=hn(r),a=e?mc(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=dn(1);const f=dn(0),d=fn(r);if((d||!d&&!i)&&((vi(r)!=="body"||Zo(o))&&(l=gc(r)),fn(r))){const p=es(r);c=Fs(r),f.x=p.x+r.clientLeft,f.y=p.y+r.clientTop}const h=o&&!d&&!i?_0(o,l,!0):dn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+f.x+h.x,y:n.y*c.y-l.scrollTop*c.y+f.y+h.y}}function CN(t){return Array.from(t.getClientRects())}function EN(t){const e=hn(t),n=gc(t),r=t.ownerDocument.body,s=mt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=mt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+gh(t);const a=-n.scrollTop;return Zt(r).direction==="rtl"&&(o+=mt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function NN(t,e){const n=vt(t),r=hn(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=ph();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const kN=new Set(["absolute","fixed"]);function TN(t,e){const n=es(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=fn(t)?Fs(t):dn(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function zm(t,e,n){let r;if(e==="viewport")r=NN(t,n);else if(e==="document")r=EN(hn(t));else if(Jt(e))r=TN(e,n);else{const s=x0(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return El(r)}function w0(t,e){const n=wr(t);return n===e||!Jt(n)||ii(n)?!1:Zt(n).position==="fixed"||w0(n,e)}function IN(t,e){const n=e.get(t);if(n)return n;let r=Po(t,[],!1).filter(a=>Jt(a)&&vi(a)!=="body"),s=null;const i=Zt(t).position==="fixed";let o=i?wr(t):t;for(;Jt(o)&&!ii(o);){const a=Zt(o),l=hh(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&kN.has(s.position)||Zo(o)&&!l&&w0(t,o))?r=r.filter(f=>f!==o):s=a,o=wr(o)}return e.set(t,r),r}function PN(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?mc(e)?[]:IN(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,f)=>{const d=zm(e,f,s);return c.top=mt(d.top,c.top),c.right=_r(d.right,c.right),c.bottom=_r(d.bottom,c.bottom),c.left=mt(d.left,c.left),c},zm(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function RN(t){const{width:e,height:n}=v0(t);return{width:e,height:n}}function AN(t,e,n){const r=fn(e),s=hn(e),i=n==="fixed",o=es(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=dn(0);function c(){l.x=gh(s)}if(r||!r&&!i)if((vi(e)!=="body"||Zo(s))&&(a=gc(e)),r){const p=es(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&c();i&&!r&&s&&c();const f=s&&!r&&!i?_0(s,a):dn(0),d=o.left+a.scrollLeft-l.x-f.x,h=o.top+a.scrollTop-l.y-f.y;return{x:d,y:h,width:o.width,height:o.height}}function vu(t){return Zt(t).position==="static"}function Bm(t,e){if(!fn(t)||Zt(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return hn(t)===n&&(n=n.ownerDocument.body),n}function b0(t,e){const n=vt(t);if(mc(t))return n;if(!fn(t)){let s=wr(t);for(;s&&!ii(s);){if(Jt(s)&&!vu(s))return s;s=wr(s)}return n}let r=Bm(t,e);for(;r&&pN(r)&&vu(r);)r=Bm(r,e);return r&&ii(r)&&vu(r)&&!hh(r)?n:r||xN(t)||n}const jN=async function(t){const e=this.getOffsetParent||b0,n=this.getDimensions,r=await n(t.floating);return{reference:AN(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function MN(t){return Zt(t).direction==="rtl"}const ON={convertOffsetParentRelativeRectToViewportRelativeRect:SN,getDocumentElement:hn,getClippingRect:PN,getOffsetParent:b0,getElementRects:jN,getClientRects:CN,getDimensions:RN,getScale:Fs,isElement:Jt,isRTL:MN};function S0(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function DN(t,e){let n=null,r;const s=hn(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:f,top:d,width:h,height:p}=c;if(a||e(),!h||!p)return;const y=Aa(d),g=Aa(s.clientWidth-(f+h)),_=Aa(s.clientHeight-(d+p)),v=Aa(f),x={rootMargin:-y+"px "+-g+"px "+-_+"px "+-v+"px",threshold:mt(0,_r(1,l))||1};let b=!0;function S(C){const N=C[0].intersectionRatio;if(N!==l){if(!b)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!S0(c,t.getBoundingClientRect())&&o(),b=!1}try{n=new IntersectionObserver(S,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,x)}n.observe(t)}return o(!0),i}function LN(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=mh(t),f=s||i?[...c?Po(c):[],...Po(e)]:[];f.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const d=c&&a?DN(c,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[m]=v;m&&m.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let y,g=l?es(t):null;l&&_();function _(){const v=es(t);g&&!S0(g,v)&&n(),g=v,y=requestAnimationFrame(_)}return n(),()=>{var v;f.forEach(m=>{s&&m.removeEventListener("scroll",n),i&&m.removeEventListener("resize",n)}),d==null||d(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(y)}}const FN=lN,$N=cN,zN=iN,BN=dN,WN=oN,Wm=sN,UN=uN,VN=(t,e,n)=>{const r=new Map,s={platform:ON,...n},i={...s.platform,_c:r};return rN(t,e,{...s,platform:i})};var HN=typeof document<"u",GN=function(){},Xa=HN?w.useLayoutEffect:GN;function Nl(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Nl(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Nl(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function C0(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Um(t,e){const n=C0(t);return Math.round(e*n)/n}function xu(t){const e=w.useRef(t);return Xa(()=>{e.current=t}),e}function YN(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[f,d]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=w.useState(r);Nl(h,r)||p(r);const[y,g]=w.useState(null),[_,v]=w.useState(null),m=w.useCallback(T=>{T!==C.current&&(C.current=T,g(T))},[]),x=w.useCallback(T=>{T!==N.current&&(N.current=T,v(T))},[]),b=i||y,S=o||_,C=w.useRef(null),N=w.useRef(null),I=w.useRef(f),k=l!=null,E=xu(l),M=xu(s),P=xu(c),L=w.useCallback(()=>{if(!C.current||!N.current)return;const T={placement:e,strategy:n,middleware:h};M.current&&(T.platform=M.current),VN(C.current,N.current,T).then(j=>{const D={...j,isPositioned:P.current!==!1};R.current&&!Nl(I.current,D)&&(I.current=D,Xo.flushSync(()=>{d(D)}))})},[h,e,n,M,P]);Xa(()=>{c===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,d(T=>({...T,isPositioned:!1})))},[c]);const R=w.useRef(!1);Xa(()=>(R.current=!0,()=>{R.current=!1}),[]),Xa(()=>{if(b&&(C.current=b),S&&(N.current=S),b&&S){if(E.current)return E.current(b,S,L);L()}},[b,S,L,E,k]);const F=w.useMemo(()=>({reference:C,floating:N,setReference:m,setFloating:x}),[m,x]),B=w.useMemo(()=>({reference:b,floating:S}),[b,S]),U=w.useMemo(()=>{const T={position:n,left:0,top:0};if(!B.floating)return T;const j=Um(B.floating,f.x),D=Um(B.floating,f.y);return a?{...T,transform:"translate("+j+"px, "+D+"px)",...C0(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:D}},[n,a,B.floating,f.x,f.y]);return w.useMemo(()=>({...f,update:L,refs:F,elements:B,floatingStyles:U}),[f,L,F,B,U])}const QN=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Wm({element:r.current,padding:s}).fn(n):{}:r?Wm({element:r,padding:s}).fn(n):{}}}},KN=(t,e)=>({...FN(t),options:[t,e]}),qN=(t,e)=>({...$N(t),options:[t,e]}),XN=(t,e)=>({...UN(t),options:[t,e]}),JN=(t,e)=>({...zN(t),options:[t,e]}),ZN=(t,e)=>({...BN(t),options:[t,e]}),ek=(t,e)=>({...WN(t),options:[t,e]}),tk=(t,e)=>({...QN(t),options:[t,e]});var nk="Arrow",E0=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(ht.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});E0.displayName=nk;var rk=E0;function sk(t){const[e,n]=w.useState(void 0);return xr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var N0="Popper",[k0,T0]=dc(N0),[mM,I0]=k0(N0),P0="PopperAnchor",R0=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=I0(P0,n),o=w.useRef(null),a=Xt(e,o);return w.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(ht.div,{...s,ref:a})});R0.displayName=P0;var yh="PopperContent",[ik,ok]=k0(yh),A0=w.forwardRef((t,e)=>{var J,en,On,Ir,Dn,cs;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...g}=t,_=I0(yh,n),[v,m]=w.useState(null),x=Xt(e,Ln=>m(Ln)),[b,S]=w.useState(null),C=sk(b),N=(C==null?void 0:C.width)??0,I=(C==null?void 0:C.height)??0,k=r+(i!=="center"?"-"+i:""),E=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},M=Array.isArray(c)?c:[c],P=M.length>0,L={padding:E,boundary:M.filter(lk),altBoundary:P},{refs:R,floatingStyles:F,placement:B,isPositioned:U,middlewareData:T}=YN({strategy:"fixed",placement:k,whileElementsMounted:(...Ln)=>LN(...Ln,{animationFrame:p==="always"}),elements:{reference:_.anchor},middleware:[KN({mainAxis:s+I,alignmentAxis:o}),l&&qN({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?XN():void 0,...L}),l&&JN({...L}),ZN({...L,apply:({elements:Ln,rects:la,availableWidth:Lc,availableHeight:ca})=>{const{width:Fc,height:Ei}=la.reference,us=Ln.floating.style;us.setProperty("--radix-popper-available-width",`${Lc}px`),us.setProperty("--radix-popper-available-height",`${ca}px`),us.setProperty("--radix-popper-anchor-width",`${Fc}px`),us.setProperty("--radix-popper-anchor-height",`${Ei}px`)}}),b&&tk({element:b,padding:a}),ck({arrowWidth:N,arrowHeight:I}),h&&ek({strategy:"referenceHidden",...L})]}),[j,D]=O0(B),Y=vr(y);xr(()=>{U&&(Y==null||Y())},[U,Y]);const W=(J=T.arrow)==null?void 0:J.x,H=(en=T.arrow)==null?void 0:en.y,G=((On=T.arrow)==null?void 0:On.centerOffset)!==0,[he,Te]=w.useState();return xr(()=>{v&&Te(window.getComputedStyle(v).zIndex)},[v]),u.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:U?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(Ir=T.transformOrigin)==null?void 0:Ir.x,(Dn=T.transformOrigin)==null?void 0:Dn.y].join(" "),...((cs=T.hide)==null?void 0:cs.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(ik,{scope:n,placedSide:j,onArrowChange:S,arrowX:W,arrowY:H,shouldHideArrow:G,children:u.jsx(ht.div,{"data-side":j,"data-align":D,...g,ref:x,style:{...g.style,animation:U?void 0:"none"}})})})});A0.displayName=yh;var j0="PopperArrow",ak={top:"bottom",right:"left",bottom:"top",left:"right"},M0=w.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=ok(j0,r),o=ak[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(rk,{...s,ref:n,style:{...s.style,display:"block"}})})});M0.displayName=j0;function lk(t){return t!==null}var ck=t=>({name:"transformOrigin",options:t,fn(e){var _,v,m;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,f]=O0(n),d={start:"0%",center:"50%",end:"100%"}[f],h=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,p=(((m=s.arrow)==null?void 0:m.y)??0)+l/2;let y="",g="";return c==="bottom"?(y=o?d:`${h}px`,g=`${-l}px`):c==="top"?(y=o?d:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(y=`${-l}px`,g=o?d:`${p}px`):c==="left"&&(y=`${r.floating.width+l}px`,g=o?d:`${p}px`),{data:{x:y,y:g}}}});function O0(t){const[e,n="center"]=t.split("-");return[e,n]}var uk=R0,dk=A0,fk=M0,[yc,gM]=dc("Tooltip",[T0]),vh=T0(),D0="TooltipProvider",hk=700,Vm="tooltip.open",[pk,L0]=yc(D0),F0=t=>{const{__scopeTooltip:e,delayDuration:n=hk,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=w.useRef(!0),a=w.useRef(!1),l=w.useRef(0);return w.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(pk,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:w.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};F0.displayName=D0;var $0="Tooltip",[yM,vc]=yc($0),Md="TooltipTrigger",mk=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=vc(Md,n),i=L0(Md,n),o=vh(n),a=w.useRef(null),l=Xt(e,a,s.onTriggerChange),c=w.useRef(!1),f=w.useRef(!1),d=w.useCallback(()=>c.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),u.jsx(uk,{asChild:!0,...o,children:u.jsx(ht.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Re(t.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:Re(t.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:Re(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Re(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Re(t.onBlur,s.onClose),onClick:Re(t.onClick,s.onClose)})})});mk.displayName=Md;var gk="TooltipPortal",[vM,yk]=yc(gk,{forceMount:void 0}),oi="TooltipContent",z0=w.forwardRef((t,e)=>{const n=yk(oi,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=vc(oi,t.__scopeTooltip);return u.jsx(ih,{present:r||o.open,children:o.disableHoverableContent?u.jsx(B0,{side:s,...i,ref:e}):u.jsx(vk,{side:s,...i,ref:e})})}),vk=w.forwardRef((t,e)=>{const n=vc(oi,t.__scopeTooltip),r=L0(oi,t.__scopeTooltip),s=w.useRef(null),i=Xt(e,s),[o,a]=w.useState(null),{trigger:l,onClose:c}=n,f=s.current,{onPointerInTransitChange:d}=r,h=w.useCallback(()=>{a(null),d(!1)},[d]),p=w.useCallback((y,g)=>{const _=y.currentTarget,v={x:y.clientX,y:y.clientY},m=Sk(v,_.getBoundingClientRect()),x=Ck(v,m),b=Ek(g.getBoundingClientRect()),S=kk([...x,...b]);a(S),d(!0)},[d]);return w.useEffect(()=>()=>h(),[h]),w.useEffect(()=>{if(l&&f){const y=_=>p(_,f),g=_=>p(_,l);return l.addEventListener("pointerleave",y),f.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",y),f.removeEventListener("pointerleave",g)}}},[l,f,p,h]),w.useEffect(()=>{if(o){const y=g=>{const _=g.target,v={x:g.clientX,y:g.clientY},m=(l==null?void 0:l.contains(_))||(f==null?void 0:f.contains(_)),x=!Nk(v,o);m?h():x&&(h(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,f,o,c,h]),u.jsx(B0,{...t,ref:i})}),[xk,_k]=yc($0,{isInside:!1}),wk=DS("TooltipContent"),B0=w.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=vc(oi,n),c=vh(n),{onClose:f}=l;return w.useEffect(()=>(document.addEventListener(Vm,f),()=>document.removeEventListener(Vm,f)),[f]),w.useEffect(()=>{if(l.trigger){const d=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,f]),u.jsx(sh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:u.jsxs(dk,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(wk,{children:r}),u.jsx(xk,{scope:n,isInside:!0,children:u.jsx(aC,{id:l.contentId,role:"tooltip",children:s||r})})]})})});z0.displayName=oi;var W0="TooltipArrow",bk=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=vh(n);return _k(W0,n).isInside?null:u.jsx(fk,{...s,...r,ref:e})});bk.displayName=W0;function Sk(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Ck(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Ek(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function Nk(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,f=a.y,d=l.x,h=l.y;f>r!=h>r&&n<(d-c)*(r-f)/(h-f)+c&&(s=!s)}return s}function kk(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Tk(e)}function Tk(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Ik=F0,U0=z0;const Pk=Ik,Rk=w.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(U0,{ref:r,sideOffset:e,className:os("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Rk.displayName=U0.displayName;var xc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_c=typeof window>"u"||"Deno"in globalThis;function zt(){}function Ak(t,e){return typeof t=="function"?t(e):t}function jk(t){return typeof t=="number"&&t>=0&&t!==1/0}function Mk(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Od(t,e){return typeof t=="function"?t(e):t}function Ok(t,e){return typeof t=="function"?t(e):t}function Hm(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==xh(o,e.options))return!1}else if(!Ao(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Gm(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ro(e.options.mutationKey)!==Ro(i))return!1}else if(!Ao(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function xh(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ro)(t)}function Ro(t){return JSON.stringify(t,(e,n)=>Dd(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ao(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Ao(t[n],e[n])):!1}function V0(t,e){if(t===e)return t;const n=Ym(t)&&Ym(e);if(n||Dd(t)&&Dd(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let c=0;for(let f=0;f<o;f++){const d=n?f:i[f];(!n&&l.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=V0(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function Ym(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Dd(t){if(!Qm(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Qm(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Qm(t){return Object.prototype.toString.call(t)==="[object Object]"}function Dk(t){return new Promise(e=>{setTimeout(e,t)})}function Lk(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?V0(t,e):e}function Fk(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function $k(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var _h=Symbol();function H0(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===_h?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Br,Kn,Vs,iy,zk=(iy=class extends xc{constructor(){super();se(this,Br);se(this,Kn);se(this,Vs);q(this,Vs,e=>{if(!_c&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){A(this,Kn)||this.setEventListener(A(this,Vs))}onUnsubscribe(){var e;this.hasListeners()||((e=A(this,Kn))==null||e.call(this),q(this,Kn,void 0))}setEventListener(e){var n;q(this,Vs,e),(n=A(this,Kn))==null||n.call(this),q(this,Kn,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){A(this,Br)!==e&&(q(this,Br,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof A(this,Br)=="boolean"?A(this,Br):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Br=new WeakMap,Kn=new WeakMap,Vs=new WeakMap,iy),G0=new zk,Hs,qn,Gs,oy,Bk=(oy=class extends xc{constructor(){super();se(this,Hs,!0);se(this,qn);se(this,Gs);q(this,Gs,e=>{if(!_c&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){A(this,qn)||this.setEventListener(A(this,Gs))}onUnsubscribe(){var e;this.hasListeners()||((e=A(this,qn))==null||e.call(this),q(this,qn,void 0))}setEventListener(e){var n;q(this,Gs,e),(n=A(this,qn))==null||n.call(this),q(this,qn,e(this.setOnline.bind(this)))}setOnline(e){A(this,Hs)!==e&&(q(this,Hs,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return A(this,Hs)}},Hs=new WeakMap,qn=new WeakMap,Gs=new WeakMap,oy),kl=new Bk;function Wk(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function Uk(t){return Math.min(1e3*2**t,3e4)}function Y0(t){return(t??"online")==="online"?kl.isOnline():!0}var Q0=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function _u(t){return t instanceof Q0}function K0(t){let e=!1,n=0,r=!1,s;const i=Wk(),o=g=>{var _;r||(h(new Q0(g)),(_=t.abort)==null||_.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>G0.isFocused()&&(t.networkMode==="always"||kl.isOnline())&&t.canRun(),f=()=>Y0(t.networkMode)&&t.canRun(),d=g=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,g),s==null||s(),i.resolve(g))},h=g=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,g),s==null||s(),i.reject(g))},p=()=>new Promise(g=>{var _;s=v=>{(r||c())&&g(v)},(_=t.onPause)==null||_.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),y=()=>{if(r)return;let g;const _=n===0?t.initialPromise:void 0;try{g=_??t.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(d).catch(v=>{var C;if(r)return;const m=t.retry??(_c?0:3),x=t.retryDelay??Uk,b=typeof x=="function"?x(n,v):x,S=m===!0||typeof m=="number"&&n<m||typeof m=="function"&&m(n,v);if(e||!S){h(v);return}n++,(C=t.onFail)==null||C.call(t,n,v),Dk(b).then(()=>c()?void 0:p()).then(()=>{e?h(v):y()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:f,start:()=>(f()?y():p().then(y),i)}}var Vk=t=>setTimeout(t,0);function Hk(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=Vk;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Ze=Hk(),Wr,ay,q0=(ay=class{constructor(){se(this,Wr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),jk(this.gcTime)&&q(this,Wr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(_c?1/0:5*60*1e3))}clearGcTimeout(){A(this,Wr)&&(clearTimeout(A(this,Wr)),q(this,Wr,void 0))}},Wr=new WeakMap,ay),Ys,Ur,Et,Vr,Ye,Vo,Hr,Bt,gn,ly,Gk=(ly=class extends q0{constructor(e){super();se(this,Bt);se(this,Ys);se(this,Ur);se(this,Et);se(this,Vr);se(this,Ye);se(this,Vo);se(this,Hr);q(this,Hr,!1),q(this,Vo,e.defaultOptions),this.setOptions(e.options),this.observers=[],q(this,Vr,e.client),q(this,Et,A(this,Vr).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,q(this,Ys,Qk(this.options)),this.state=e.state??A(this,Ys),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=A(this,Ye))==null?void 0:e.promise}setOptions(e){this.options={...A(this,Vo),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&A(this,Et).remove(this)}setData(e,n){const r=Lk(this.state.data,e,this.options);return Ve(this,Bt,gn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ve(this,Bt,gn).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=A(this,Ye))==null?void 0:r.promise;return(s=A(this,Ye))==null||s.cancel(e),n?n.then(zt).catch(zt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(A(this,Ys))}isActive(){return this.observers.some(e=>Ok(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_h||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Od(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Mk(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=A(this,Ye))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=A(this,Ye))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),A(this,Et).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(A(this,Ye)&&(A(this,Hr)?A(this,Ye).cancel({revert:!0}):A(this,Ye).cancelRetry()),this.scheduleGc()),A(this,Et).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ve(this,Bt,gn).call(this,{type:"invalidate"})}fetch(e,n){var c,f,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(A(this,Ye))return A(this,Ye).continueRetry(),A(this,Ye).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(q(this,Hr,!0),r.signal)})},i=()=>{const h=H0(this.options,n),y=(()=>{const g={client:A(this,Vr),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return q(this,Hr,!1),this.options.persister?this.options.persister(h,y,this):h(y)},a=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:A(this,Vr),state:this.state,fetchFn:i};return s(h),h})();(c=this.options.behavior)==null||c.onFetch(a,this),q(this,Ur,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&Ve(this,Bt,gn).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=h=>{var p,y,g,_;_u(h)&&h.silent||Ve(this,Bt,gn).call(this,{type:"error",error:h}),_u(h)||((y=(p=A(this,Et).config).onError)==null||y.call(p,h,this),(_=(g=A(this,Et).config).onSettled)==null||_.call(g,this.state.data,h,this)),this.scheduleGc()};return q(this,Ye,K0({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var p,y,g,_;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){l(v);return}(y=(p=A(this,Et).config).onSuccess)==null||y.call(p,h,this),(_=(g=A(this,Et).config).onSettled)==null||_.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,p)=>{Ve(this,Bt,gn).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{Ve(this,Bt,gn).call(this,{type:"pause"})},onContinue:()=>{Ve(this,Bt,gn).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),A(this,Ye).start()}},Ys=new WeakMap,Ur=new WeakMap,Et=new WeakMap,Vr=new WeakMap,Ye=new WeakMap,Vo=new WeakMap,Hr=new WeakMap,Bt=new WeakSet,gn=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Yk(r.data,this.options),fetchMeta:e.meta??null};case"success":return q(this,Ur,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return _u(s)&&s.revert&&A(this,Ur)?{...A(this,Ur),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Ze.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),A(this,Et).notify({query:this,type:"updated",action:e})})},ly);function Yk(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Y0(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Qk(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var rn,cy,Kk=(cy=class extends xc{constructor(e={}){super();se(this,rn);this.config=e,q(this,rn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??xh(s,n);let o=this.get(i);return o||(o=new Gk({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){A(this,rn).has(e.queryHash)||(A(this,rn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=A(this,rn).get(e.queryHash);n&&(e.destroy(),n===e&&A(this,rn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ze.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return A(this,rn).get(e)}getAll(){return[...A(this,rn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Hm(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Hm(e,r)):n}notify(e){Ze.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ze.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ze.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},rn=new WeakMap,cy),sn,Xe,Gr,on,Vn,uy,qk=(uy=class extends q0{constructor(e){super();se(this,on);se(this,sn);se(this,Xe);se(this,Gr);this.mutationId=e.mutationId,q(this,Xe,e.mutationCache),q(this,sn,[]),this.state=e.state||Xk(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){A(this,sn).includes(e)||(A(this,sn).push(e),this.clearGcTimeout(),A(this,Xe).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){q(this,sn,A(this,sn).filter(n=>n!==e)),this.scheduleGc(),A(this,Xe).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){A(this,sn).length||(this.state.status==="pending"?this.scheduleGc():A(this,Xe).remove(this))}continue(){var e;return((e=A(this,Gr))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,l,c,f,d,h,p,y,g,_,v,m,x,b,S,C,N,I;const n=()=>{Ve(this,on,Vn).call(this,{type:"continue"})};q(this,Gr,K0({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(k,E)=>{Ve(this,on,Vn).call(this,{type:"failed",failureCount:k,error:E})},onPause:()=>{Ve(this,on,Vn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>A(this,Xe).canRun(this)}));const r=this.state.status==="pending",s=!A(this,Gr).canStart();try{if(r)n();else{Ve(this,on,Vn).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=A(this,Xe).config).onMutate)==null?void 0:o.call(i,e,this));const E=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));E!==this.state.context&&Ve(this,on,Vn).call(this,{type:"pending",context:E,variables:e,isPaused:s})}const k=await A(this,Gr).start();return await((f=(c=A(this,Xe).config).onSuccess)==null?void 0:f.call(c,k,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,k,e,this.state.context)),await((y=(p=A(this,Xe).config).onSettled)==null?void 0:y.call(p,k,null,this.state.variables,this.state.context,this)),await((_=(g=this.options).onSettled)==null?void 0:_.call(g,k,null,e,this.state.context)),Ve(this,on,Vn).call(this,{type:"success",data:k}),k}catch(k){try{throw await((m=(v=A(this,Xe).config).onError)==null?void 0:m.call(v,k,e,this.state.context,this)),await((b=(x=this.options).onError)==null?void 0:b.call(x,k,e,this.state.context)),await((C=(S=A(this,Xe).config).onSettled)==null?void 0:C.call(S,void 0,k,this.state.variables,this.state.context,this)),await((I=(N=this.options).onSettled)==null?void 0:I.call(N,void 0,k,e,this.state.context)),k}finally{Ve(this,on,Vn).call(this,{type:"error",error:k})}}finally{A(this,Xe).runNext(this)}}},sn=new WeakMap,Xe=new WeakMap,Gr=new WeakMap,on=new WeakSet,Vn=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ze.batch(()=>{A(this,sn).forEach(r=>{r.onMutationUpdate(e)}),A(this,Xe).notify({mutation:this,type:"updated",action:e})})},uy);function Xk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xn,Wt,Ho,dy,Jk=(dy=class extends xc{constructor(e={}){super();se(this,xn);se(this,Wt);se(this,Ho);this.config=e,q(this,xn,new Set),q(this,Wt,new Map),q(this,Ho,0)}build(e,n,r){const s=new qk({mutationCache:this,mutationId:++da(this,Ho)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){A(this,xn).add(e);const n=ja(e);if(typeof n=="string"){const r=A(this,Wt).get(n);r?r.push(e):A(this,Wt).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(A(this,xn).delete(e)){const n=ja(e);if(typeof n=="string"){const r=A(this,Wt).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&A(this,Wt).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=ja(e);if(typeof n=="string"){const r=A(this,Wt).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=ja(e);if(typeof n=="string"){const s=(r=A(this,Wt).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ze.batch(()=>{A(this,xn).forEach(e=>{this.notify({type:"removed",mutation:e})}),A(this,xn).clear(),A(this,Wt).clear()})}getAll(){return Array.from(A(this,xn))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Gm(n,r))}findAll(e={}){return this.getAll().filter(n=>Gm(e,n))}notify(e){Ze.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ze.batch(()=>Promise.all(e.map(n=>n.continue().catch(zt))))}},xn=new WeakMap,Wt=new WeakMap,Ho=new WeakMap,dy);function ja(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Km(t){return{onFetch:(e,n)=>{var f,d,h,p,y;const r=e.options,s=(h=(d=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const _=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},v=H0(e.options,e.fetchOptions),m=async(x,b,S)=>{if(g)return Promise.reject();if(b==null&&x.pages.length)return Promise.resolve(x);const N=(()=>{const M={client:e.client,queryKey:e.queryKey,pageParam:b,direction:S?"backward":"forward",meta:e.options.meta};return _(M),M})(),I=await v(N),{maxPages:k}=e.options,E=S?$k:Fk;return{pages:E(x.pages,I,k),pageParams:E(x.pageParams,b,k)}};if(s&&i.length){const x=s==="backward",b=x?Zk:qm,S={pages:i,pageParams:o},C=b(r,S);a=await m(S,C,x)}else{const x=t??i.length;do{const b=l===0?o[0]??r.initialPageParam:qm(r,a);if(l>0&&b==null)break;a=await m(a,b),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var g,_;return(_=(g=e.options).persister)==null?void 0:_.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function qm(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Zk(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Se,Xn,Jn,Qs,Ks,Zn,qs,Xs,fy,eT=(fy=class{constructor(t={}){se(this,Se);se(this,Xn);se(this,Jn);se(this,Qs);se(this,Ks);se(this,Zn);se(this,qs);se(this,Xs);q(this,Se,t.queryCache||new Kk),q(this,Xn,t.mutationCache||new Jk),q(this,Jn,t.defaultOptions||{}),q(this,Qs,new Map),q(this,Ks,new Map),q(this,Zn,0)}mount(){da(this,Zn)._++,A(this,Zn)===1&&(q(this,qs,G0.subscribe(async t=>{t&&(await this.resumePausedMutations(),A(this,Se).onFocus())})),q(this,Xs,kl.subscribe(async t=>{t&&(await this.resumePausedMutations(),A(this,Se).onOnline())})))}unmount(){var t,e;da(this,Zn)._--,A(this,Zn)===0&&((t=A(this,qs))==null||t.call(this),q(this,qs,void 0),(e=A(this,Xs))==null||e.call(this),q(this,Xs,void 0))}isFetching(t){return A(this,Se).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return A(this,Xn).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=A(this,Se).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=A(this,Se).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Od(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return A(this,Se).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=A(this,Se).get(r.queryHash),i=s==null?void 0:s.state.data,o=Ak(e,i);if(o!==void 0)return A(this,Se).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ze.batch(()=>A(this,Se).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=A(this,Se).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=A(this,Se);Ze.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=A(this,Se);return Ze.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ze.batch(()=>A(this,Se).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(zt).catch(zt)}invalidateQueries(t,e={}){return Ze.batch(()=>(A(this,Se).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ze.batch(()=>A(this,Se).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(zt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(zt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=A(this,Se).build(this,e);return n.isStaleByTime(Od(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(zt).catch(zt)}fetchInfiniteQuery(t){return t.behavior=Km(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(zt).catch(zt)}ensureInfiniteQueryData(t){return t.behavior=Km(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return kl.isOnline()?A(this,Xn).resumePausedMutations():Promise.resolve()}getQueryCache(){return A(this,Se)}getMutationCache(){return A(this,Xn)}getDefaultOptions(){return A(this,Jn)}setDefaultOptions(t){q(this,Jn,t)}setQueryDefaults(t,e){A(this,Qs).set(Ro(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...A(this,Qs).values()],n={};return e.forEach(r=>{Ao(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){A(this,Ks).set(Ro(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...A(this,Ks).values()],n={};return e.forEach(r=>{Ao(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...A(this,Jn).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=xh(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===_h&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...A(this,Jn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){A(this,Se).clear(),A(this,Xn).clear()}},Se=new WeakMap,Xn=new WeakMap,Jn=new WeakMap,Qs=new WeakMap,Ks=new WeakMap,Zn=new WeakMap,qs=new WeakMap,Xs=new WeakMap,fy),tT=w.createContext(void 0),nT=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(tT.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tl(){return Tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tl.apply(this,arguments)}var nr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(nr||(nr={}));const Xm="popstate";function rT(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Ld("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:J0(s)}return iT(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function X0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sT(){return Math.random().toString(36).substr(2,8)}function Jm(t,e){return{usr:t.state,key:t.key,idx:e}}function Ld(t,e,n,r){return n===void 0&&(n=null),Tl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?wc(e):e,{state:n,key:e&&e.key||r||sT()})}function J0(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function wc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function iT(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=nr.Pop,l=null,c=f();c==null&&(c=0,o.replaceState(Tl({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function d(){a=nr.Pop;let _=f(),v=_==null?null:_-c;c=_,l&&l({action:a,location:g.location,delta:v})}function h(_,v){a=nr.Push;let m=Ld(g.location,_,v);c=f()+1;let x=Jm(m,c),b=g.createHref(m);try{o.pushState(x,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(b)}i&&l&&l({action:a,location:g.location,delta:1})}function p(_,v){a=nr.Replace;let m=Ld(g.location,_,v);c=f();let x=Jm(m,c),b=g.createHref(m);o.replaceState(x,"",b),i&&l&&l({action:a,location:g.location,delta:0})}function y(_){let v=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof _=="string"?_:J0(_);return m=m.replace(/ $/,"%20"),ft(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let g={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Xm,d),l=_,()=>{s.removeEventListener(Xm,d),l=null}},createHref(_){return e(s,_)},createURL:y,encodeLocation(_){let v=y(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(_){return o.go(_)}};return g}var Zm;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Zm||(Zm={}));function oT(t,e,n){return n===void 0&&(n="/"),aT(t,e,n,!1)}function aT(t,e,n,r){let s=typeof e=="string"?wc(e):e,i=t_(s.pathname||"/",n);if(i==null)return null;let o=Z0(t);lT(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=xT(i);a=yT(o[l],c,r)}return a}function Z0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ft(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=$s([r,l.relativePath]),f=n.concat(l);i.children&&i.children.length>0&&(ft(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Z0(i.children,e,f,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:mT(c,i.index),routesMeta:f})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of e_(i.path))s(i,o,l)}),e}function e_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=e_(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function lT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cT=/^:[\w-]+$/,uT=3,dT=2,fT=1,hT=10,pT=-2,eg=t=>t==="*";function mT(t,e){let n=t.split("/"),r=n.length;return n.some(eg)&&(r+=pT),e&&(r+=dT),n.filter(s=>!eg(s)).reduce((s,i)=>s+(cT.test(i)?uT:i===""?fT:hT),r)}function gT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function yT(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",d=tg({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),h=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=tg({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:$s([i,d.pathname]),pathnameBase:_T($s([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=$s([i,d.pathnameBase]))}return o}function tg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vT(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,f,d)=>{let{paramName:h,isOptional:p}=f;if(h==="*"){let g=a[d]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=a[d];return p&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function vT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),X0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function xT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return X0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function t_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const $s=t=>t.join("/").replace(/\/\/+/g,"/"),_T=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function wT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const n_=["post","put","patch","delete"];new Set(n_);const bT=["get",...n_];new Set(bT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(){return Il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Il.apply(this,arguments)}const ST=w.createContext(null),CT=w.createContext(null),r_=w.createContext(null),bc=w.createContext(null),Sc=w.createContext({outlet:null,matches:[],isDataRoute:!1}),s_=w.createContext(null);function wh(){return w.useContext(bc)!=null}function i_(){return wh()||ft(!1),w.useContext(bc).location}function ET(t,e){return NT(t,e)}function NT(t,e,n,r){wh()||ft(!1);let{navigator:s}=w.useContext(r_),{matches:i}=w.useContext(Sc),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=i_(),f;if(e){var d;let _=typeof e=="string"?wc(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||ft(!1),f=_}else f=c;let h=f.pathname||"/",p=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=oT(t,{pathname:p}),g=RT(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:$s([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:$s([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&g?w.createElement(bc.Provider,{value:{location:Il({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:nr.Pop}},g):g}function kT(){let t=OT(),e=wT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:s},n):null,null)}const TT=w.createElement(kT,null);class IT extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(Sc.Provider,{value:this.props.routeContext},w.createElement(s_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PT(t){let{routeContext:e,match:n,children:r}=t,s=w.useContext(ST);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Sc.Provider,{value:e},r)}function RT(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let f=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);f>=0||ft(!1),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:h,errors:p}=n,y=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,d,h)=>{let p,y=!1,g=null,_=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||TT,l&&(c<0&&h===0?(y=!0,_=null):c===h&&(y=!0,_=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,h+1)),m=()=>{let x;return p?x=g:y?x=_:d.route.Component?x=w.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=f,w.createElement(PT,{match:d,routeContext:{outlet:f,matches:v,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?w.createElement(IT,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:m(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):m()},null)}var Fd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Fd||{});function AT(t){let e=w.useContext(CT);return e||ft(!1),e}function jT(t){let e=w.useContext(Sc);return e||ft(!1),e}function MT(t){let e=jT(),n=e.matches[e.matches.length-1];return n.route.id||ft(!1),n.route.id}function OT(){var t;let e=w.useContext(s_),n=AT(Fd.UseRouteError),r=MT(Fd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function DT(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function $d(t){ft(!1)}function LT(t){let{basename:e="/",children:n=null,location:r,navigationType:s=nr.Pop,navigator:i,static:o=!1,future:a}=t;wh()&&ft(!1);let l=e.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:i,static:o,future:Il({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=wc(r));let{pathname:f="/",search:d="",hash:h="",state:p=null,key:y="default"}=r,g=w.useMemo(()=>{let _=t_(f,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:p,key:y},navigationType:s}},[l,f,d,h,p,y,s]);return g==null?null:w.createElement(r_.Provider,{value:c},w.createElement(bc.Provider,{children:n,value:g}))}function FT(t){let{children:e,location:n}=t;return ET(zd(e),n)}new Promise(()=>{});function zd(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,s)=>{if(!w.isValidElement(r))return;let i=[...e,s];if(r.type===w.Fragment){n.push.apply(n,zd(r.props.children,i));return}r.type!==$d&&ft(!1),!r.props.index||!r.props.children||ft(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=zd(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const $T="6";try{window.__reactRouterVersion=$T}catch{}const zT="startTransition",ng=Cy[zT];function BT(t){let{basename:e,children:n,future:r,window:s}=t,i=w.useRef();i.current==null&&(i.current=rT({window:s,v5Compat:!0}));let o=i.current,[a,l]=w.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},f=w.useCallback(d=>{c&&ng?ng(()=>l(d)):l(d)},[l,c]);return w.useLayoutEffect(()=>o.listen(f),[o,f]),w.useEffect(()=>DT(r),[r]),w.createElement(LT,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var rg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(rg||(rg={}));var sg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sg||(sg={}));const Pl=["Mantas","Lukas","Tomas","Domantas","Jonas","Mindaugas","Arvydas","arnas","Donatas","Paulius","Rokas","Ignas","Deividas","Karolis","Martynas","Edgaras","Aurimas","Giedrius","Renaldas","Eimantas","Marius","Dovydas","Justas","Linas","Arnas","Benas","Vytautas","Gediminas","Andrius","ygimantas"],Rl=["Sabonis","Valaninas","Jasikeviius","Kleiza","Songaila","Kavaliauskas","Motiejnas","Kuzminskas","Lekavicius","Grigonis","Jokubaitis","Brazdeikis","Butkevicius","Dima","Echodas","Geben","Jankunas","Kalnietis","Likauskis","Maciulis","Normantas","Orelik","Pocius","Seibutis","Tubelis","Ulanovas","Velika","ukauskas","Birutis","Bendzius"];let WT=0;function o_(){return`p_${++WT}`}function bh(t,e){const n=t*120,r=1+e*.06;return Math.round(n*r)}function Qe(t,e){return Math.floor(Math.random()*(e-t+1))+t}function a_(t,e){const n=30+e*10,r=e>=3?12:10,s={height:t==="Defender"?Qe(195,212):t==="Sharpshooter"?Qe(185,205):Qe(178,195),shooting:Qe(n-r,n+r),defending:Qe(n-r,n+r),dribbling:Qe(n-r,n+r),passing:Qe(n-r,n+r)};return t==="Sharpshooter"?s.shooting=Math.min(99,s.shooting+15):t==="Defender"?(s.defending=Math.min(99,s.defending+15),s.height=Math.max(s.height,198)):(s.passing=Math.min(99,s.passing+12),s.dribbling=Math.min(99,s.dribbling+10)),s.shooting=Math.max(1,Math.min(99,s.shooting)),s.defending=Math.max(1,Math.min(99,s.defending)),s.dribbling=Math.max(1,Math.min(99,s.dribbling)),s.passing=Math.max(1,Math.min(99,s.passing)),s}function l_(t){return Math.round((t.shooting+t.defending+t.dribbling+t.passing)/4)}function c_(t){return t>=80?"Legendary":t>=70?"Epic":t>=60?"Rare":"Common"}function u_(t,e){const n=["Sharpshooter","Defender","Playmaker"],r=e||n[Math.floor(Math.random()*n.length)],s=a_(r,t),i=l_(s),o=bh(i,t);return{id:o_(),name:`${Pl[Qe(0,Pl.length-1)]} ${Rl[Qe(0,Rl.length-1)]}`,age:Qe(19,34),role:r,attributes:s,overall:i,salary:o,contractYears:Qe(1,3),rarity:c_(i)}}function UT(t,e){const n=[],r=["Sharpshooter","Sharpshooter","Defender","Defender","Playmaker","Playmaker"];for(let s=0;s<t;s++){const i=s<r.length?r[s]:void 0;n.push(u_(e,i))}return n}const zs=[{id:"zalgiris",name:"BC algiris",shortName:"AL",division:"rkl",prestige:5,color:"#00a651",budget:5e5},{id:"rytas",name:"BC Rytas",shortName:"RYT",division:"rkl",prestige:4,color:"#e31e24",budget:4e5},{id:"neptunas",name:"BC Neptnas",shortName:"NEP",division:"rkl",prestige:3,color:"#0066cc",budget:3e5},{id:"lietkabelis",name:"BC Lietkabelis",shortName:"LTK",division:"rkl",prestige:3,color:"#ff8c00",budget:28e4},{id:"juventus",name:"BC Juventus",shortName:"JUV",division:"rkl",prestige:2,color:"#8b0000",budget:22e4},{id:"pieno",name:"Pieno vaigds",shortName:"P",division:"rkl",prestige:2,color:"#4169e1",budget:2e5},{id:"wolves",name:"BC Wolves",shortName:"WOL",division:"rkl",prestige:2,color:"#555555",budget:19e4},{id:"siauliai",name:"BC iauliai",shortName:"IA",division:"rkl",prestige:2,color:"#daa520",budget:18e4},{id:"kruoja",name:"BC Kruoja",shortName:"KRU",division:"lkl",prestige:1,color:"#9932cc",budget:1e5},{id:"rida",name:"BC Rida",shortName:"RID",division:"lkl",prestige:1,color:"#2e8b57",budget:95e3},{id:"prienai",name:"BC Prienai",shortName:"PRI",division:"lkl",prestige:1,color:"#dc143c",budget:85e3},{id:"mazeikiai",name:"BC Maeikiai",shortName:"MA",division:"lkl",prestige:1,color:"#4682b4",budget:88e3}];function VT(){return zs.map(t=>{const e=UT(t.prestige>=3?10:8,t.prestige),n=[...e].sort((i,o)=>o.overall-i.overall),r=new Set(n.slice(0,5).map(i=>i.id)),s=e.map(i=>({...i,isStarter:r.has(i.id)}));return{...t,budget:Math.round(t.budget/2),players:s}})}function Qi(t,e=!1,n=2){const r=[],s=t==="lkl",i=n>=4?1.5:n>=3?1.2:n>=2?1:.7;let o;s?o=Math.round((e?10:5)*i):o=Math.round((e?18:7)*i);const a=Math.max(1,n-1),l=Math.min(5,n+1);for(let c=0;c<o;c++){const f=Qe(a,l),d=u_(f);if(s){const h=Qe(5,15);r.push({...d,attributes:d.attributes,overall:d.overall,askingSalary:0,salary:0,contractYears:0,attributeRanges:{shooting:{min:d.attributes.shooting,max:Math.min(99,d.attributes.shooting+h)},defending:{min:d.attributes.defending,max:Math.min(99,d.attributes.defending+h)},dribbling:{min:d.attributes.dribbling,max:Math.min(99,d.attributes.dribbling+h)},passing:{min:d.attributes.passing,max:Math.min(99,d.attributes.passing+h)},overall:{min:d.overall,max:Math.min(99,d.overall+h)}}})}else r.push({...d,askingSalary:Math.round(d.salary*(1+Math.random()*.3)),contractYears:0})}return r}function d_(t){const e=["Sharpshooter","Defender","Playmaker"],n=e[Math.floor(Math.random()*e.length)],r=a_(n,Math.max(1,t-1)),s=l_(r);return{id:o_(),name:`${Pl[Qe(0,Pl.length-1)]} ${Rl[Qe(0,Rl.length-1)]}`,age:Qe(17,20),role:n,attributes:r,overall:s,salary:0,contractYears:2,isYouth:!0,rarity:c_(s)}}const HT=[{id:"foreign_investment",name:"Foreign Investment",description:"+15% transfer budget",emoji:""},{id:"financial_crisis",name:"Financial Crisis",description:"30% income",emoji:""},{id:"injury_crisis",name:"Injury Crisis",description:"Random rating penalties during matches",emoji:""},{id:"fan_boom",name:"Fan Boom",description:"Bonus prestige growth",emoji:""}],Bd=[{id:"bonus_ticket_10",name:"Packed Arena",description:"+10% ticket income this season",emoji:""},{id:"bonus_sponsor_10",name:"New Sponsor Deal",description:"+10% sponsor income this season",emoji:""},{id:"bonus_wage_minus10",name:"Salary Restructure",description:"Player wage bill -10% this season",emoji:""}],xi=[{id:"rkl",name:"A League (RKL)"},{id:"lkl",name:"B League (LKL)"}];function xe(t,e){return Math.floor(Math.random()*(e-t+1))+t}function ig(t,e){if(t.players.length===0)return 30;let n=t.players.reduce((r,s)=>r+s.overall,0)/t.players.length;return e==="injury_crisis"&&(n-=xe(0,8)),Math.max(20,n+t.prestige*3)}function og(t){const e=t.players.filter(o=>o.isStarter);if(e.length<5)return"balanced";const n=e.filter(o=>o.role==="Defender").length,r=e.filter(o=>o.role==="Sharpshooter").length,s=e.filter(o=>o.role==="Playmaker").length,i=Math.max(n,r,s);if(i>=2){if(n===i)return"defensive";if(r===i)return"offensive";if(s===i)return"playmaking"}return"balanced"}function ag(t,e){return t==="balanced"||e==="balanced"?0:t==="defensive"&&e==="playmaking"||t==="playmaking"&&e==="offensive"||t==="offensive"&&e==="defensive"?.1:0}function GT(t){if(t.length===0)return[];const e=[...t];e.length%2!==0&&e.push("__BYE__");const r=e.length,s=[];for(let o=0;o<r-1;o++){const a=[];for(let f=0;f<r/2;f++){const d=e[f],h=e[r-1-f];d!=="__BYE__"&&h!=="__BYE__"&&a.push({homeTeamId:d,awayTeamId:h})}s.push(a);const l=e[0],c=e.slice(1);c.unshift(c.pop()),e.splice(0,e.length,l,...c)}const i=s.map(o=>o.map(a=>({homeTeamId:a.awayTeamId,awayTeamId:a.homeTeamId})));return[...s,...i]}function f_(t,e,n){const r=og(t),s=og(e),i=ag(r,s),o=ag(s,r),a=ig(t,n)*(1+i)+xe(0,6),l=ig(e,n)*(1+o),c=60+(a-50)*.5,f=60+(l-50)*.5,d=Math.max(40,Math.round(c+xe(-8,8))),h=Math.max(40,Math.round(f+xe(-8,8)));return d===h?{homeScore:d+1,awayScore:h}:{homeScore:d,awayScore:h}}function h_(t){const e={};for(const n of xi)e[n.id]=t.filter(r=>r.division===n.id).map(r=>({teamId:r.id,wins:0,losses:0,pointsFor:0,pointsAgainst:0,streak:0}));return e}function p_(t){const e=VT(),n=m_();return{selectedTeamId:t,season:1,week:0,phase:"preseason",teams:e,standings:h_(e),schedule:[],seasonModifier:n,declinedPlayerIds:[],playoffBracket:[],gameOver:!1,finances:io(e.find(r=>r.id===t),n),youthIntakeUsed:!1,consecutiveNegativeSeasons:0}}function io(t,e){const n=t.prestige*.5;let r=Math.round((2e4+n*3e4)/2),s=Math.round((15e3+n*25e3)/2),i=0;e==="financial_crisis"&&(r=Math.round(r*.7),s=Math.round(s*.7));const o=t.players.reduce((a,l)=>a+l.salary,0);return{ticketIncome:r,sponsorIncome:s,prizeIncome:i,totalWages:o,transferSpending:0,balance:t.budget}}function m_(){const t=["foreign_investment","financial_crisis","injury_crisis","fan_boom"];return t[Math.floor(Math.random()*t.length)]}function YT(t){const e={...t};return t.week===7||t.week===8?(e.teams.filter(s=>!s.players.find(i=>i.isStarter)&&s.prestige>=4&&s.id!==t.selectedTeamId).forEach(s=>{const i=s.players.filter(d=>d.isStarter),o=i.filter(d=>d.role==="Sharpshooter").length<2,a=i.filter(d=>d.role==="Defender").length<2,l=i.filter(d=>d.role==="Playmaker").length<1,c=[];o&&c.push("Sharpshooter"),a&&c.push("Defender"),l&&c.push("Playmaker");const f=Math.min(3,c.length);for(let d=0;d<f;d++){const h=c[d],p=30+s.prestige*10,y=8,g={height:h==="Defender"?xe(195,212):h==="Sharpshooter"?xe(185,205):xe(178,195),shooting:xe(p-y,p+y),defending:xe(p-y,p+y),dribbling:xe(p-y,p+y),passing:xe(p-y,p+y)};h==="Sharpshooter"?g.shooting=Math.min(99,g.shooting+15):h==="Defender"?g.defending=Math.min(99,g.defending+15):(g.passing=Math.min(99,g.passing+12),g.dribbling=Math.min(99,g.dribbling+10));const _=Math.round((g.shooting+g.defending+g.dribbling+g.passing)/4),v=bh(_,s.prestige),m={id:`ai_transfer_${s.id}_${Date.now()}_${d}`,name:`${["Mantas","Lukas","Tomas","Domantas","Jonas"][Math.floor(Math.random()*5)]} ${["Sabonis","Valaninas","Jasikeviius","Kleiza","Songaila"][Math.floor(Math.random()*5)]}`,age:xe(19,30),role:h,attributes:g,overall:_,salary:v,contractYears:xe(2,4),isStarter:!1};e.teams=e.teams.map(x=>x.id===s.id?{...x,players:[...x.players,m]}:x)}}),e):t}function g_(t){const e={...t};e.week+=1;const r=YT(e),s={...r.standings};for(const c of xi){const f=r.teams.filter(g=>g.division===c.id).map(g=>g.id),d=GT(f),h=e.week-1,p=d[h],y=[...s[c.id]||[]];if(!p){s[c.id]=y;continue}for(const g of p){const _=r.teams.find(C=>C.id===g.homeTeamId),v=r.teams.find(C=>C.id===g.awayTeamId),m=f_(_,v,r.seasonModifier),x=y.find(C=>C.teamId===_.id),b=y.find(C=>C.teamId===v.id);x&&b&&(x.pointsFor+=m.homeScore,x.pointsAgainst+=m.awayScore,b.pointsFor+=m.awayScore,b.pointsAgainst+=m.homeScore,m.homeScore>m.awayScore?(x.wins+=1,b.losses+=1,x.streak=x.streak>0?x.streak+1:1,b.streak=b.streak<0?b.streak-1:-1):(b.wins+=1,x.losses+=1,b.streak=b.streak>0?b.streak+1:1,x.streak=x.streak<0?x.streak-1:-1));const S=r.teams.find(C=>C.id===r.selectedTeamId);_.division===S.division&&(e.schedule=[...e.schedule||r.schedule,{homeTeamId:_.id,awayTeamId:v.id,homeScore:m.homeScore,awayScore:m.awayScore,week:e.week}])}s[c.id]=y}e.standings=s;const i=t.teams.find(c=>c.id===t.selectedTeamId),a=2*(t.teams.filter(c=>c.division===i.division).length-1);if(e.week>=a){const c=i.division,f=[...s[c]].sort((p,y)=>y.wins-p.wins||y.pointsFor-y.pointsAgainst-(p.pointsFor-p.pointsAgainst)),d=f.findIndex(p=>p.teamId===t.selectedTeamId)+1;let h=0;if(c==="rkl"?h={1:23e4,2:2e5,3:19e4,4:16e4,5:15e4,6:125e3,7:1e5,8:75e3}[d]||0:h={1:5e4,2:35e3,3:28e3,4:22e3}[d]||0,e.finances={...e.finances,prizeIncome:e.finances.prizeIncome+h},i.division==="rkl"){e.phase="playoffs";const p=f;e.playoffBracket=[{round:1,team1Id:p[0].teamId,team2Id:p[3].teamId,team1Wins:0,team2Wins:0},{round:1,team1Id:p[1].teamId,team2Id:p[2].teamId,team1Wins:0,team2Wins:0}]}else e.phase="offseason"}if((e.schedule||[]).filter(c=>c.week===e.week&&c.homeTeamId===t.selectedTeamId).length>0){const c=t.seasonBonus==="bonus_ticket_10"?1.1:1;e.finances={...e.finances,ticketIncome:e.finances.ticketIncome+Math.round(i.prestige*1500/2*c)}}return e}function QT(t,e){const n={...t},r=[...t.playoffBracket],s={...r[e]},i=t.teams.find(f=>f.id===s.team1Id),o=t.teams.find(f=>f.id===s.team2Id),a=f_(i,o,t.seasonModifier);if(a.homeScore>a.awayScore?s.team1Wins+=1:s.team2Wins+=1,s.team1Wins>=3?s.winnerId=s.team1Id:s.team2Wins>=3&&(s.winnerId=s.team2Id),r[e]=s,n.playoffBracket=r,r.filter(f=>f.round===1).every(f=>f.winnerId)&&r.length===2){const f=r.filter(d=>d.round===1).map(d=>d.winnerId);r.push({round:2,team1Id:f[0],team2Id:f[1],team1Wins:0,team2Wins:0}),n.playoffBracket=r}const c=r.find(f=>f.round===2);return c!=null&&c.winnerId&&(n.phase="offseason"),n}function KT(t){const e={...t};e.youthIntakeUsed=!1;const n=e.teams.map(l=>{const c=l.id===t.selectedTeamId;let f=l.players.map(d=>{let h=d.joinedThisOffseason?d.contractYears:d.contractYears-1,p=d.age+1;if(p>=32){const g=(p-32)*.12;Math.random()<g&&(h=0)}let y={...d,contractYears:h,age:p,joinedThisOffseason:!1};if(c){if(y.age<23&&Math.random()<.7){const g={...y.attributes},_=xe(1,3);for(let v=0;v<_;v++){const m=["shooting","defending","dribbling","passing"][Math.floor(Math.random()*4)];typeof g[m]=="number"&&g[m]<99&&(g[m]=Math.min(99,g[m]+1))}y.attributes=g,y.overall=Math.round((g.shooting+g.defending+g.dribbling+g.passing)/4)}y.isStarter?y.seasonsWithoutPlay=0:y.seasonsWithoutPlay=(y.seasonsWithoutPlay||0)+1}return y}).filter(d=>d.contractYears>0);return{...l,players:f}});if(e.teams=n,e.teams=e.teams.map(l=>{if(l.id===t.selectedTeamId)return l;const f=l.players,d=10-f.length;if(d<=0)return l;const h=[];for(let p=0;p<d;p++){const y=["Sharpshooter","Defender","Playmaker"],g=y[Math.floor(Math.random()*y.length)],_=30+l.prestige*10,v=10,m={height:g==="Defender"?xe(195,212):g==="Sharpshooter"?xe(185,205):xe(178,195),shooting:xe(_-v,_+v),defending:xe(_-v,_+v),dribbling:xe(_-v,_+v),passing:xe(_-v,_+v)};g==="Sharpshooter"?m.shooting=Math.min(99,m.shooting+15):g==="Defender"?m.defending=Math.min(99,m.defending+15):(m.passing=Math.min(99,m.passing+12),m.dribbling=Math.min(99,m.dribbling+10));const x=Math.round((m.shooting+m.defending+m.dribbling+m.passing)/4),b=bh(x,l.prestige);h.push({id:`ai_${l.id}_${Date.now()}_${p}`,name:`${["Mantas","Lukas","Tomas","Domantas","Jonas","Mindaugas","Arvydas","arnas","Donatas","Paulius"][Math.floor(Math.random()*10)]} ${["Sabonis","Valaninas","Jasikeviius","Kleiza","Songaila","Kavaliauskas","Motiejnas","Kuzminskas","Lekavicius","Grigonis"][Math.floor(Math.random()*10)]}`,age:xe(19,34),role:g,attributes:m,overall:x,salary:b,contractYears:xe(1,3),isStarter:f.length+h.length<=5})}return{...l,players:[...f,...h]}}),e.teams.find(l=>l.id===t.selectedTeamId).players.length<5)return e.gameOver=!0,e.gameOverReason="You started the off-season with fewer than 5 players under contract. Your career is over!",e;const s=t.finances.balance+t.finances.ticketIncome+t.finances.sponsorIncome+t.finances.prizeIncome-t.finances.totalWages-t.finances.transferSpending;if(s<-5e4){if(e.consecutiveNegativeSeasons=(t.consecutiveNegativeSeasons||0)+1,e.consecutiveNegativeSeasons>=2)return e.gameOver=!0,e.gameOverReason="Your club has been in severe debt (below -$50,000) for consecutive seasons. The board has terminated your contract!",e}else e.consecutiveNegativeSeasons=0;const i=[...e.standings.rkl||[]].sort((l,c)=>{const f=l.pointsFor-l.pointsAgainst,d=c.pointsFor-c.pointsAgainst;return c.wins!==l.wins?c.wins-l.wins:d-f}),o=[...e.standings.lkl||[]].sort((l,c)=>{const f=l.pointsFor-l.pointsAgainst,d=c.pointsFor-c.pointsAgainst;return c.wins!==l.wins?c.wins-l.wins:d-f});if(i.length>0&&o.length>0){const l=i[i.length-1].teamId,c=o[0].teamId;e.teams=e.teams.map(f=>f.id===c?{...f,division:"rkl"}:f.id===l?{...f,division:"lkl"}:f)}e.season+=1,e.week=0,e.phase="preseason",e.seasonModifier=m_(),e.declinedPlayerIds=[],e.standings=h_(e.teams),e.schedule=[],e.playoffBracket=[],t.seasonModifier==="fan_boom"&&(e.teams=e.teams.map(l=>l.id===t.selectedTeamId?{...l,prestige:Math.min(5,l.prestige+1)}:l));const a=e.teams.find(l=>l.id===t.selectedTeamId);return e.finances={...io(a,e.seasonModifier),balance:s},e.seasonModifier==="foreign_investment"&&(e.finances.balance=Math.round(e.finances.balance*1.15)),e}function y_(t,e,n,r){const s=t.teams.find(a=>a.id===t.selectedTeamId);if(s.players.length>=12)return{success:!1,newState:t,reason:"Squad is full! Maximum capacity is 12 players."};if(t.declinedPlayerIds.includes(e.id))return{success:!1,newState:t,reason:"This player has already declined your offer. You cannot offer again."};if(r>s.budget+t.finances.balance)return{success:!1,newState:t,reason:"You don't have enough budget to afford this contract."};let i=.5;if(r>=e.askingSalary&&(i+=.25),r>=e.askingSalary*1.2&&(i+=.15),r<e.askingSalary*.8&&(i-=.3),n===2&&(i+=.1),i+=s.prestige*.05,i=Math.max(.05,Math.min(.95,i)),Math.random()<i){let a=e.attributes,l=e.overall;e.attributeRanges&&(a={height:e.attributes.height,shooting:Math.floor(Math.random()*(e.attributeRanges.shooting.max-e.attributeRanges.shooting.min+1))+e.attributeRanges.shooting.min,defending:Math.floor(Math.random()*(e.attributeRanges.defending.max-e.attributeRanges.defending.min+1))+e.attributeRanges.defending.min,dribbling:Math.floor(Math.random()*(e.attributeRanges.dribbling.max-e.attributeRanges.dribbling.min+1))+e.attributeRanges.dribbling.min,passing:Math.floor(Math.random()*(e.attributeRanges.passing.max-e.attributeRanges.passing.min+1))+e.attributeRanges.passing.min},l=Math.round((a.shooting+a.defending+a.dribbling+a.passing)/4));const c={id:e.id,name:e.name,age:e.age,role:e.role,attributes:a,overall:l,salary:r,contractYears:n,isStarter:!1,seasonsWithoutPlay:0,joinedThisOffseason:t.phase==="offseason"},f=t.teams.map(d=>d.id===t.selectedTeamId?{...d,players:[...d.players,c],budget:d.budget-r}:d);return{success:!0,newState:{...t,teams:f,finances:{...t.finances,transferSpending:t.finances.transferSpending+r,totalWages:t.finances.totalWages+r,balance:t.finances.balance-r}}}}else return{success:!1,newState:{...t,declinedPlayerIds:[...t.declinedPlayerIds,e.id]},reason:"Player declined your offer."}}const Sh=w.createContext(null);function qT({children:t}){const[e,n]=w.useState(null),[r,s]=w.useState("dashboard"),[i,o]=w.useState([]),[a,l]=w.useState([]);function c(){return[...Bd.map(N=>N.id)].sort(()=>Math.random()-.5).slice(0,3)}const f=w.useCallback(S=>{const C=p_(S);l(c()),n({...C,seasonBonus:null});const N=C.teams.find(I=>I.id===S);N&&o(Qi(N.division,!1,N.prestige)),s("dashboard")},[]),d=w.useCallback(()=>{e&&n({...e,phase:"regular"})},[e]),h=w.useCallback(()=>{if(!e||e.phase!=="offseason")return;const S=KT(e),C=S.teams.find(N=>N.id===S.selectedTeamId);C&&o(Qi(C.division,!1,C.prestige)),l(c()),n({...S,seasonBonus:null})},[e]),p=w.useCallback(S=>{if(!e)return;l([]);let C={...e.finances};S==="bonus_sponsor_10"?C={...C,sponsorIncome:Math.round(C.sponsorIncome*1.1)}:S==="bonus_wage_minus10"&&(C={...C,totalWages:Math.round(C.totalWages*.9)}),n({...e,seasonBonus:S,finances:C})},[e]),y=w.useCallback(()=>{if(!e||e.phase!=="regular")return;const S=g_(e);if(S.phase==="offseason"){const C=S.teams.find(N=>N.id===S.selectedTeamId);C&&o(Qi(C.division,!0,C.prestige))}n(S)},[e]),g=w.useCallback(S=>{if(!e||e.phase!=="playoffs")return;const C=QT(e,S);if(C.phase==="offseason"){const N=C.teams.find(I=>I.id===C.selectedTeamId);N&&o(Qi(N.division,!0,N.prestige))}n(C)},[e]),_=w.useCallback((S,C,N)=>{if(!e)return{success:!1,reason:"Game not initialized"};const{success:I,newState:k,reason:E}=y_(e,S,C,N);return n(k),o(M=>M.filter(P=>P.id!==S.id)),{success:I,reason:E}},[e]),v=w.useCallback(()=>{if(!e||e.youthIntakeUsed)return;const S=e.teams.find(M=>M.id===e.selectedTeamId),C=12-S.players.length;if(C<=0)return;const N=Math.min(2,C),I=[];let k=0;for(let M=0;M<N;M++){const P=d_(S.prestige);P.isStarter=!1,P.seasonsWithoutPlay=0,I.push(P),k+=P.salary}const E=e.teams.map(M=>M.id===e.selectedTeamId?{...M,players:[...M.players,...I]}:M);n({...e,teams:E,finances:{...e.finances,totalWages:e.finances.totalWages+k},youthIntakeUsed:!0})},[e]),m=w.useCallback(S=>{if(!e)return;const C=e.teams.find(k=>k.id===e.selectedTeamId),N=C.players.find(k=>k.id===S);if(!N||!N.isStarter&&C.players.filter(k=>k.isStarter).length>=5)return;const I=e.teams.map(k=>k.id===e.selectedTeamId?{...k,players:k.players.map(E=>E.id===S?{...E,isStarter:!E.isStarter}:E)}:k);n({...e,teams:I})},[e]),x=w.useCallback(S=>{if(!e)return;const N=e.teams.find(k=>k.id===e.selectedTeamId).players.find(k=>k.id===S);if(!N)return;const I=e.teams.map(k=>k.id===e.selectedTeamId?{...k,players:k.players.filter(E=>E.id!==S)}:k);n({...e,teams:I,finances:{...e.finances,totalWages:e.finances.totalWages-N.salary}})},[e]),b=w.useCallback(S=>{if(!e)return{success:!1,reason:"Game not initialized"};const C=e.teams.find(P=>P.id===e.selectedTeamId),N=C.players.find(P=>P.id===S);if(!N)return{success:!1,reason:"Player not found"};if(N.contractYears>1)return{success:!1,reason:"Can only renew with 1 year remaining"};let I,k;if(N.salary===0){const P=1+C.prestige*.1;I=Math.round(N.overall*100*P),k=I}else{const P=1+C.prestige*.1;I=Math.round(N.salary*1.15*P),k=I-N.salary}if(e.finances.balance<k)return{success:!1,reason:"Insufficient funds for salary increase"};const E=e.phase==="offseason"?2:1,M=e.teams.map(P=>P.id===e.selectedTeamId?{...P,players:P.players.map(L=>L.id===S?{...L,contractYears:L.contractYears+E,salary:I,isYouth:!1}:L)}:P);return n({...e,teams:M,finances:{...e.finances,totalWages:e.finances.totalWages+k,balance:e.finances.balance-k}}),{success:!0}},[e]);return u.jsx(Sh.Provider,{value:{state:e,view:r,freeAgents:i,seasonBonusChoices:a,multiplayerLobby:null,setView:s,startGame:f,playWeek:y,playPlayoffGame:g,makeTransferOffer:_,intakeYouth:v,startRegularSeason:d,startNewSeason:h,toggleStarter:m,releasePlayer:x,renewContract:b,chooseSeasonBonus:p},children:t})}function XT({children:t,initialGameState:e,initialFinances:n,lobbyState:r,onReady:s,onCancelReady:i,onUpdateTeam:o}){const[a,l]=w.useState(()=>({...e,selectedTeamId:r.myTeamId,finances:n})),[c,f]=w.useState("dashboard"),[d,h]=w.useState(()=>{const E=e.teams.find(M=>M.id===r.myTeamId);return E?Qi(E.division,!1,E.prestige):[]}),[p]=w.useState([]);w.useEffect(()=>{l(E=>({...e,selectedTeamId:r.myTeamId,finances:n}))},[e.week,e.phase,e.standings]),w.useEffect(()=>{l(E=>({...E,finances:n}))},[n.ticketIncome,n.balance]);const y=w.useCallback(async E=>{l(E),await o(E,E.finances)},[o]),g=w.useCallback(async()=>{!a||a.phase!=="regular"||(r.myReady?await i():await s())},[a,r.myReady,s,i]),_=w.useCallback(E=>{},[]),v=w.useCallback(()=>{a&&l({...a,phase:"regular"})},[a]),m=w.useCallback(()=>{},[]),x=w.useCallback(E=>{},[]),b=w.useCallback(E=>{if(!a)return;let M={...a.finances};E==="bonus_sponsor_10"?M={...M,sponsorIncome:Math.round(M.sponsorIncome*1.1)}:E==="bonus_wage_minus10"&&(M={...M,totalWages:Math.round(M.totalWages*.9)}),y({...a,seasonBonus:E,finances:M})},[a,y]),S=w.useCallback((E,M,P)=>{if(!a)return{success:!1,reason:"Game not initialized"};const{success:L,newState:R,reason:F}=y_(a,E,M,P);return h(B=>B.filter(U=>U.id!==E.id)),L?y(R):l(R),{success:L,reason:F}},[a,y]),C=w.useCallback(()=>{if(!a||a.youthIntakeUsed)return;const E=a.teams.find(B=>B.id===a.selectedTeamId),M=12-E.players.length;if(M<=0)return;const P=Math.min(2,M),L=[];let R=0;for(let B=0;B<P;B++){const U=d_(E.prestige);U.isStarter=!1,L.push(U),R+=U.salary}const F=a.teams.map(B=>B.id===a.selectedTeamId?{...B,players:[...B.players,...L]}:B);y({...a,teams:F,finances:{...a.finances,totalWages:a.finances.totalWages+R},youthIntakeUsed:!0})},[a,y]),N=w.useCallback(E=>{if(!a)return;const M=a.teams.find(R=>R.id===a.selectedTeamId),P=M.players.find(R=>R.id===E);if(!P||!P.isStarter&&M.players.filter(R=>R.isStarter).length>=5)return;const L=a.teams.map(R=>R.id===a.selectedTeamId?{...R,players:R.players.map(F=>F.id===E?{...F,isStarter:!F.isStarter}:F)}:R);y({...a,teams:L})},[a,y]),I=w.useCallback(E=>{if(!a)return;const P=a.teams.find(R=>R.id===a.selectedTeamId).players.find(R=>R.id===E);if(!P)return;const L=a.teams.map(R=>R.id===a.selectedTeamId?{...R,players:R.players.filter(F=>F.id!==E)}:R);y({...a,teams:L,finances:{...a.finances,totalWages:a.finances.totalWages-P.salary}})},[a,y]),k=w.useCallback(E=>{if(!a)return{success:!1,reason:"Game not initialized"};const M=a.teams.find(U=>U.id===a.selectedTeamId),P=M.players.find(U=>U.id===E);if(!P)return{success:!1,reason:"Player not found"};if(P.contractYears>1)return{success:!1,reason:"Can only renew with 1 year remaining"};let L,R;if(P.salary===0?(L=Math.round(P.overall*100*(1+M.prestige*.1)),R=L):(L=Math.round(P.salary*1.15*(1+M.prestige*.1)),R=L-P.salary),a.finances.balance<R)return{success:!1,reason:"Insufficient funds"};const F=a.phase==="offseason"?2:1,B=a.teams.map(U=>U.id===a.selectedTeamId?{...U,players:U.players.map(T=>T.id===E?{...T,contractYears:T.contractYears+F,salary:L,isYouth:!1}:T)}:U);return y({...a,teams:B,finances:{...a.finances,totalWages:a.finances.totalWages+R,balance:a.finances.balance-R}}),{success:!0}},[a,y]);return u.jsx(Sh.Provider,{value:{state:a,view:c,freeAgents:d,seasonBonusChoices:p,multiplayerLobby:r,setView:f,startGame:_,playWeek:g,playPlayoffGame:x,makeTransferOffer:S,intakeYouth:C,startRegularSeason:v,startNewSeason:m,toggleStarter:N,releasePlayer:I,renewContract:k,chooseSeasonBonus:b},children:t})}function Tr(){const t=w.useContext(Sh);if(!t)throw new Error("useGame must be used within GameProvider");return t}function JT({onSelectTeam:t}){const[e,n]=$.useState("rkl"),r=zs.filter(s=>s.division===e);return u.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center",children:u.jsxs("div",{className:"w-full max-w-3xl",children:[u.jsxs("div",{className:"fm-header px-6 py-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-foreground tracking-tight",children:" Basketball Manager"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Select your team to begin"})]}),u.jsx("div",{className:"flex gap-2 px-6 py-3 border-b border-border bg-card/50",children:xi.map(s=>u.jsx("button",{onClick:()=>n(s.id),className:`px-4 py-2 text-sm font-medium rounded-md whitespace-nowrap transition-all ${e===s.id?"bg-primary text-primary-foreground":"bg-secondary text-muted-foreground hover:text-foreground"}`,children:s.name},s.id))}),u.jsx("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 gap-3",children:r.map(s=>u.jsxs("button",{onClick:()=>t(s.id),className:"flex items-center gap-4 p-4 rounded-lg bg-card border border-border hover:border-primary/50 hover:glow-primary transition-all group text-left",children:[u.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-sm font-bold shrink-0",style:{backgroundColor:s.color+"33",color:s.color},children:s.shortName}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-sm font-semibold text-foreground group-hover:text-primary transition-colors",children:s.name}),u.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[u.jsxs("span",{className:"text-xs text-muted-foreground",children:["Prestige: ","".repeat(s.prestige)]}),u.jsxs("span",{className:"text-xs text-mono text-muted-foreground",children:["$",(s.budget/2).toLocaleString()]})]})]}),u.jsx("svg",{className:"w-4 h-4 text-muted-foreground group-hover:text-primary transition-colors shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},s.id))})]})})}function lg(t){const e=t.players.filter(i=>i.isStarter);if(e.length<5)return"balanced";const n=e.filter(i=>i.role==="Defender").length,r=e.filter(i=>i.role==="Sharpshooter").length,s=e.filter(i=>i.role==="Playmaker").length;return n>=3?"defensive":r>=3?"offensive":s>=3?"playmaking":"balanced"}function ZT(t,e){return t==="balanced"||e==="balanced"?0:t==="defensive"&&e==="offensive"||t==="offensive"&&e==="playmaking"||t==="playmaking"&&e==="defensive"?10:0}function cg(){var x;const{state:t,playWeek:e,startRegularSeason:n,startNewSeason:r,freeAgents:s,seasonBonusChoices:i,chooseSeasonBonus:o,multiplayerLobby:a}=Tr();if(!t)return null;const l=t.teams.find(b=>b.id===t.selectedTeamId),c=t.seasonModifier?HT.find(b=>b.id===t.seasonModifier):null,f=t.seasonBonus?Bd.find(b=>b.id===t.seasonBonus):null,d=((x=xi.find(b=>b.id===l.division))==null?void 0:x.name)||"",h=l.division==="lkl",p=[...t.standings[l.division]||[]].sort((b,S)=>S.wins-b.wins||S.pointsFor-S.pointsAgainst-(b.pointsFor-b.pointsAgainst)),y=p.find(b=>b.teamId===t.selectedTeamId),g=p.findIndex(b=>b.teamId===t.selectedTeamId)+1,_=[...t.schedule].reverse().find(b=>b.homeTeamId===t.selectedTeamId||b.awayTeamId===t.selectedTeamId),v=lg(l),m=t.phase==="preseason"&&!t.gameOver&&!t.seasonBonus&&i.length>0;return u.jsxs("div",{className:"space-y-4 animate-fade-in",children:[u.jsx("div",{className:"fm-header px-4 py-4 rounded-lg",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-14 h-14 rounded-lg flex items-center justify-center text-lg font-black",style:{backgroundColor:l.color+"33",color:l.color},children:l.shortName}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-foreground",children:l.name}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[d,"  Season ",t.season]})]})]})}),m&&u.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-2",children:"Pick a Season Bonus"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:i.map(b=>{const S=Bd.find(C=>C.id===b);return u.jsxs("button",{onClick:()=>o(b),className:"flex flex-col items-start gap-1 border border-border rounded-lg p-3 hover:border-primary hover:bg-primary/5 transition-colors text-left",children:[u.jsx("span",{className:"text-2xl",children:S.emoji}),u.jsx("span",{className:"text-xs font-semibold text-foreground uppercase tracking-wider",children:S.name}),u.jsx("span",{className:"text-xs text-muted-foreground",children:S.description})]},b)})})]}),t.phase==="offseason"&&u.jsx("div",{className:"bg-primary/10 border border-primary/30 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-3xl",children:""}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-sm font-bold text-primary",children:"OFF-SEASON PHASE"}),u.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Enhanced transfer market: ",s.length," players available (",h?"10 for B League":"18 for A League",")"]}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Renew contracts, make transfers, and prepare for next season"})]})]})}),c&&u.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Season Modifier"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-3xl",children:c.emoji}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold text-foreground",children:c.name}),u.jsx("div",{className:"text-xs text-muted-foreground",children:c.description})]})]})]}),f&&u.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Season Bonus"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-3xl",children:f.emoji}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold text-foreground",children:f.name}),u.jsx("div",{className:"text-xs text-muted-foreground",children:f.description})]})]})]}),u.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-2",children:"Team Strategy"}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:`text-3xl ${v==="defensive"?"":v==="offensive"?"":v==="playmaking"?"":""}`}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold text-foreground capitalize",children:v==="defensive"?"Defense Focused":v==="offensive"?"Offense Focused":v==="playmaking"?"Playmaking":"Balanced"}),u.jsx("div",{className:"text-xs text-muted-foreground",children:v==="defensive"?"3+ Defenders  +10% vs Offense":v==="offensive"?"3+ Sharpshooters  +10% vs Playmaking":v==="playmaking"?"3+ Playmakers  +10% vs Defense":"Mix of roles - No bonus/penalty"})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Starters"}),u.jsxs("div",{className:"text-lg font-bold text-foreground",children:[l.players.filter(b=>b.isStarter).length,"/5"]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-3 lg:grid-cols-6 gap-3",children:[u.jsx(ms,{label:"Record",value:y?`${y.wins}-${y.losses}`:"0-0"}),u.jsx(ms,{label:"Rank",value:`#${g}`}),u.jsx(ms,{label:"Squad",value:`${l.players.length}`}),u.jsx(ms,{label:"Season",value:`${t.season}`}),u.jsx(ms,{label:"Week",value:`${t.week}/${2*(t.teams.filter(b=>b.division===l.division).length-1)}`}),u.jsx(ms,{label:"Phase",value:t.phase.charAt(0).toUpperCase()+t.phase.slice(1)})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[_&&u.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-3",children:"Last Match"}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(ug,{teamId:_.homeTeamId,teams:t.teams}),u.jsxs("div",{className:"text-mono text-2xl font-bold text-foreground",children:[_.homeScore," - ",_.awayScore]}),u.jsx(ug,{teamId:_.awayTeamId,teams:t.teams})]})]}),u.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-3",children:"Finances"}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-foreground",children:"Net Result"}),u.jsxs("span",{className:`text-mono text-lg font-bold ${t.finances.ticketIncome+t.finances.sponsorIncome+t.finances.prizeIncome-t.finances.totalWages-t.finances.transferSpending>=0?"text-success":"text-destructive"}`,children:[t.finances.ticketIncome+t.finances.sponsorIncome+t.finances.prizeIncome-t.finances.totalWages-t.finances.transferSpending>=0?"+":"","$",(t.finances.ticketIncome+t.finances.sponsorIncome+t.finances.prizeIncome-t.finances.totalWages-t.finances.transferSpending).toLocaleString()]})]})]})]}),u.jsxs("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"px-4 py-3 border-b border-border flex items-center justify-between",children:[u.jsxs("span",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:[d," Standings"]}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Strategy: Rock Paper Scissors"})]}),u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border",children:[u.jsx("th",{className:"text-left px-4 py-2 text-muted-foreground font-medium text-xs",children:"#"}),u.jsx("th",{className:"text-left px-3 py-2 text-muted-foreground font-medium text-xs",children:"Team"}),u.jsx("th",{className:"px-3 py-2 text-muted-foreground font-medium text-xs text-center",children:"Strategy"}),u.jsx("th",{className:"px-3 py-2 text-muted-foreground font-medium text-xs text-center",children:"W"}),u.jsx("th",{className:"px-3 py-2 text-muted-foreground font-medium text-xs text-center",children:"L"}),u.jsx("th",{className:"px-3 py-2 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"PF"}),u.jsx("th",{className:"px-3 py-2 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"PA"})]})}),u.jsx("tbody",{className:"divide-y divide-border",children:p.map((b,S)=>{const C=t.teams.find(E=>E.id===b.teamId),N=b.teamId===t.selectedTeamId,I=lg(C),k=ZT(I,v);return u.jsxs("tr",{className:N?"bg-primary/10":"",children:[u.jsx("td",{className:"px-4 py-2 text-mono text-muted-foreground text-sm",children:S+1}),u.jsx("td",{className:"px-3 py-2",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:C.color}}),u.jsx("span",{className:`font-medium ${N?"text-primary":"text-foreground"}`,children:C.name})]})}),u.jsx("td",{className:"px-3 py-2 text-center",children:u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[u.jsx("span",{className:"text-sm",children:I==="defensive"?"":I==="offensive"?"":I==="playmaking"?"":""}),k>0&&u.jsxs("span",{className:"text-xs font-bold text-green-500",children:["+",k,"%"]})]})}),u.jsx("td",{className:"px-3 py-2 text-center text-mono text-foreground",children:b.wins}),u.jsx("td",{className:"px-3 py-2 text-center text-mono text-muted-foreground",children:b.losses}),u.jsx("td",{className:"px-3 py-2 text-center text-mono text-muted-foreground hidden sm:table-cell",children:b.pointsFor}),u.jsx("td",{className:"px-3 py-2 text-center text-mono text-muted-foreground hidden sm:table-cell",children:b.pointsAgainst})]},b.teamId)})})]})]}),t.gameOver?u.jsxs("div",{className:"bg-destructive/20 border border-destructive rounded-lg p-8 text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-destructive mb-2",children:"Game Over"}),u.jsx("div",{className:"text-sm text-foreground mb-4",children:t.gameOverReason}),u.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-3 gap-3 text-left text-xs text-muted-foreground",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold text-foreground mb-1",children:"Run Summary"}),u.jsxs("div",{children:["Seasons managed: ",u.jsx("span",{className:"font-mono text-foreground",children:t.season})]}),u.jsxs("div",{children:["Final division: ",u.jsx("span",{className:"font-mono text-foreground",children:l.division==="rkl"?"A League":"B League"})]}),u.jsxs("div",{children:["Last net result:"," ",u.jsxs("span",{className:`font-mono ${t.finances.ticketIncome+t.finances.sponsorIncome+t.finances.prizeIncome-t.finances.totalWages-t.finances.transferSpending>=0?"text-success":"text-destructive"}`,children:[t.finances.ticketIncome+t.finances.sponsorIncome+t.finances.prizeIncome-t.finances.totalWages-t.finances.transferSpending>=0?"+":"",(t.finances.ticketIncome+t.finances.sponsorIncome+t.finances.prizeIncome-t.finances.totalWages-t.finances.transferSpending).toLocaleString()]})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold text-foreground mb-1",children:"Achievements (this run)"}),u.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[t.season>=3&&u.jsx("li",{children:"Survivor: 3+ seasons managed"}),t.playoffBracket.length>0&&u.jsx("li",{children:"Playoff Contender: reached playoffs"}),t.finances.ticketIncome+t.finances.sponsorIncome+t.finances.prizeIncome-t.finances.totalWages-t.finances.transferSpending>0&&u.jsx("li",{children:"Big Earner: finished with positive net result"}),t.season<3&&t.playoffBracket.length===0&&u.jsx("li",{children:"Rookie Run: short first career"})]})]}),u.jsx("div",{className:"flex flex-col justify-between",children:u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold text-foreground mb-1",children:"Next Steps"}),u.jsx("div",{children:"Refresh the page to start a new career with a new team and new bonuses."})]})})]})]}):u.jsxs("div",{className:"pt-1",children:[t.phase==="preseason"&&u.jsx("button",{onClick:n,className:"w-full lg:w-auto lg:px-8 py-3 rounded-lg bg-primary text-primary-foreground font-bold text-sm tracking-wide hover:opacity-90 transition-opacity",children:"Start Regular Season "}),t.phase==="regular"&&(()=>{if(a){const b=a.myReady,S=a.opponentReady;return u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground self-center",children:[u.jsx("span",{className:`w-2 h-2 rounded-full ${S?"bg-green-500":"bg-muted-foreground/40"}`}),"Opponent ",S?"ready ":"not ready"]}),u.jsx("button",{onClick:e,className:`w-full lg:w-auto lg:px-8 py-3 rounded-lg font-bold text-sm tracking-wide transition-all ${b?"bg-green-600 text-white hover:bg-green-700":"bg-primary text-primary-foreground hover:opacity-90"}`,children:b?" Ready  click to cancel":`Ready for Week ${t.week+1} `}),b&&S&&u.jsx("span",{className:"text-xs text-green-500 self-center animate-pulse",children:"Simulating..."})]})}return u.jsxs("button",{onClick:e,className:"w-full lg:w-auto lg:px-8 py-3 rounded-lg bg-primary text-primary-foreground font-bold text-sm tracking-wide hover:opacity-90 transition-opacity",children:["Play Week ",t.week+1," "]})})(),t.phase==="offseason"&&u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[u.jsx("button",{onClick:r,className:"flex-1 sm:flex-initial sm:px-8 py-3 rounded-lg bg-primary text-primary-foreground font-bold text-sm tracking-wide hover:opacity-90 transition-opacity",children:"Start New Season "}),u.jsxs("div",{className:"text-xs text-muted-foreground self-center",children:["Market will shrink to ",h?"5":"7"," players in new season"]})]})]})]})}function ms({label:t,value:e}){return u.jsxs("div",{className:"bg-card border border-border rounded-lg p-3 text-center",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:t}),u.jsx("div",{className:"text-lg font-bold text-mono text-foreground",children:e})]})}function ug({teamId:t,teams:e}){const n=e.find(r=>r.id===t);return n?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center text-[10px] font-bold",style:{backgroundColor:n.color+"33",color:n.color},children:n.shortName}),u.jsx("span",{className:"text-sm font-medium text-foreground hidden sm:inline",children:n.shortName})]}):null}function eI(){const{state:t,intakeYouth:e,toggleStarter:n,releasePlayer:r,renewContract:s}=Tr();if(!t)return null;const i=t.teams.find(p=>p.id===t.selectedTeamId),o=i.players,a=o.filter(p=>p.isStarter),l=o.filter(p=>!p.isStarter),c=o.length>0?{height:Math.round(o.reduce((p,y)=>p+y.attributes.height,0)/o.length),shooting:Math.round(o.reduce((p,y)=>p+y.attributes.shooting,0)/o.length),defending:Math.round(o.reduce((p,y)=>p+y.attributes.defending,0)/o.length),dribbling:Math.round(o.reduce((p,y)=>p+y.attributes.dribbling,0)/o.length),passing:Math.round(o.reduce((p,y)=>p+y.attributes.passing,0)/o.length)}:null,f=o.length>0?Math.round(o.reduce((p,y)=>p+y.overall,0)/o.length):0,d=(t.phase==="preseason"||t.phase==="offseason")&&!t.youthIntakeUsed,h=o.length>=12;return u.jsxs("div",{className:"space-y-4 animate-fade-in",children:[u.jsxs("div",{className:"fm-header px-4 py-3 rounded-lg",children:[u.jsx("h2",{className:"text-base font-bold text-foreground uppercase tracking-wider",children:"Squad"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.length,"/12 players  ",a.length,"/5 starters  Avg OVR ",f]}),h&&u.jsx("p",{className:"text-xs text-destructive mt-1",children:" Squad at maximum capacity"})]}),c&&u.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-3",children:"Team Averages"}),u.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[u.jsx(Fi,{label:"HGT",value:`${c.height}`}),u.jsx(Fi,{label:"SHO",value:`${c.shooting}`,rating:c.shooting}),u.jsx(Fi,{label:"DEF",value:`${c.defending}`,rating:c.defending}),u.jsx(Fi,{label:"DRI",value:`${c.dribbling}`,rating:c.dribbling}),u.jsx(Fi,{label:"PAS",value:`${c.passing}`,rating:c.passing})]})]}),a.length>0&&u.jsxs("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:[u.jsx("div",{className:"px-4 py-2 bg-primary/10 border-b border-border",children:u.jsxs("h3",{className:"text-sm font-bold text-primary",children:[" STARTERS (",a.length,"/5)"]})}),u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border bg-secondary/50",children:[u.jsx("th",{className:"text-left px-4 py-2.5 text-muted-foreground font-medium text-xs",children:"Player"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center",children:"OVR"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center",children:"Role"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"Age"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"Salary"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center",children:"CTR"})]})}),u.jsx("tbody",{className:"divide-y divide-border",children:a.sort((p,y)=>y.overall-p.overall).map(p=>u.jsx(dg,{player:p,toggleStarter:n,releasePlayer:r,renewContract:s,teamPrestige:i.prestige},p.id))})]})]}),l.length>0&&u.jsxs("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:[u.jsx("div",{className:"px-4 py-2 bg-secondary/50 border-b border-border",children:u.jsxs("h3",{className:"text-sm font-bold text-muted-foreground",children:["BENCH (",l.length,")"]})}),u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border bg-secondary/50",children:[u.jsx("th",{className:"text-left px-4 py-2.5 text-muted-foreground font-medium text-xs",children:"Player"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center",children:"OVR"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center",children:"Role"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"Age"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"Salary"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center",children:"CTR"})]})}),u.jsx("tbody",{className:"divide-y divide-border",children:l.sort((p,y)=>y.overall-p.overall).map(p=>u.jsx(dg,{player:p,toggleStarter:n,releasePlayer:r,renewContract:s,teamPrestige:i.prestige},p.id))})]})]}),d&&u.jsxs("div",{className:"flex flex-col items-center pt-2 space-y-2",children:[u.jsx("button",{onClick:e,disabled:h,className:`px-8 py-3 rounded-lg font-bold text-sm tracking-wide transition-opacity ${h?"bg-secondary text-muted-foreground cursor-not-allowed":"bg-primary text-primary-foreground hover:opacity-90 glow-primary"}`,children:" Youth Intake (2 Players)"}),h&&u.jsx("p",{className:"text-xs text-muted-foreground",children:"Squad is full. Release some players before youth intake."}),t.youthIntakeUsed&&u.jsx("p",{className:"text-xs text-muted-foreground",children:"Youth intake already used this season"})]})]})}function dg({player:t,toggleStarter:e,releasePlayer:n,renewContract:r,teamPrestige:s}){const[i,o]=w.useState(!1),a={Sharpshooter:"text-warning",Defender:"text-primary",Playmaker:"text-success"},l=d=>{d.stopPropagation(),e(t.id)},c=d=>{d.stopPropagation(),confirm(`Release ${t.name}? This cannot be undone.`)&&n(t.id)},f=d=>{d.stopPropagation();let h,p;if(t.isYouth&&t.salary===0){const y=1+s*.1;h=Math.round(t.overall*100*y),p=`Sign ${t.name} to paid contract for 1 more year?
New salary: $${h.toLocaleString()} (currently FREE)`}else{const y=1+s*.1;h=Math.round(t.salary*1.15*y),p=`Renew ${t.name}'s contract for 1 more year?
New salary: $${h.toLocaleString()}`}if(confirm(p)){const y=r(t.id);y.success||alert(y.reason||"Cannot renew contract")}};return u.jsxs(u.Fragment,{children:[u.jsxs("tr",{onClick:()=>o(!i),className:"cursor-pointer hover:bg-secondary/30 transition-colors",children:[u.jsx("td",{className:"px-4 py-2.5",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:l,className:`text-xs px-2 py-0.5 rounded transition-colors ${t.isStarter?"bg-primary text-primary-foreground":"bg-secondary text-muted-foreground hover:bg-secondary/80"}`,title:t.isStarter?"Remove from starters":"Set as starter",children:t.isStarter?"":""}),t.isYouth&&u.jsx("span",{className:"text-xs",children:""}),u.jsx("span",{className:"font-medium text-foreground",children:t.name}),(t.seasonsWithoutPlay||0)>0&&u.jsxs("span",{className:"text-xs text-destructive",title:`${t.seasonsWithoutPlay} season(s) without play`,children:["",t.seasonsWithoutPlay]})]})}),u.jsx("td",{className:"px-3 py-2.5 text-center",children:u.jsx("span",{className:`text-mono font-bold ${Ch(t.overall)}`,children:t.overall})}),u.jsx("td",{className:`px-3 py-2.5 text-center font-medium ${a[t.role]||""}`,children:t.role.slice(0,3).toUpperCase()}),u.jsxs("td",{className:"px-3 py-2.5 text-center text-muted-foreground hidden sm:table-cell",children:[t.age,t.age>=30&&u.jsx("span",{className:"text-destructive ml-1",children:""})]}),u.jsx("td",{className:"px-3 py-2.5 text-center text-mono text-muted-foreground hidden sm:table-cell",children:t.salary===0?u.jsx("span",{className:"text-success font-bold",children:"FREE"}):`$${t.salary.toLocaleString()}`}),u.jsxs("td",{className:"px-3 py-2.5 text-center text-muted-foreground",children:[t.contractYears,"yr"]})]}),i&&u.jsx("tr",{children:u.jsxs("td",{colSpan:6,className:"px-4 py-3 bg-panel",children:[u.jsxs("div",{className:"grid grid-cols-5 gap-3 max-w-md",children:[u.jsx(Li,{label:"Height",value:`${t.attributes.height}cm`}),u.jsx(Li,{label:"Shooting",value:`${t.attributes.shooting}`,rating:t.attributes.shooting}),u.jsx(Li,{label:"Defending",value:`${t.attributes.defending}`,rating:t.attributes.defending}),u.jsx(Li,{label:"Dribbling",value:`${t.attributes.dribbling}`,rating:t.attributes.dribbling}),u.jsx(Li,{label:"Passing",value:`${t.attributes.passing}`,rating:t.attributes.passing})]}),u.jsxs("div",{className:"mt-2 text-xs text-muted-foreground sm:hidden",children:["Age ",t.age,"  ",t.salary===0?u.jsx("span",{className:"text-success font-bold",children:"FREE"}):`$${t.salary.toLocaleString()}/yr`]}),t.age<23&&u.jsx("div",{className:"mt-2 text-xs text-success",children:" Young player - develops faster"}),t.age>=30&&u.jsx("div",{className:"mt-2 text-xs text-destructive",children:" Veteran - may retire due to stress"}),u.jsxs("div",{className:"mt-3 flex gap-2",children:[u.jsx("button",{onClick:c,className:"px-3 py-1.5 text-xs bg-destructive text-destructive-foreground rounded hover:opacity-90 transition-opacity font-medium",children:" Release Player"}),t.contractYears===1&&u.jsx("button",{onClick:f,className:"px-3 py-1.5 text-xs bg-primary text-primary-foreground rounded hover:opacity-90 transition-opacity font-medium",children:t.isYouth&&t.salary===0?" Sign Contract":" Renew Contract (+15%)"})]})]})})]})}function Li({label:t,value:e,rating:n}){return u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-[10px] text-muted-foreground",children:t}),u.jsx("div",{className:`text-sm font-bold text-mono ${n?Ch(n):"text-foreground"}`,children:e})]})}function Fi({label:t,value:e,rating:n}){return u.jsxs("div",{className:"text-center bg-panel rounded p-2",children:[u.jsx("div",{className:"text-[10px] text-muted-foreground",children:t}),u.jsx("div",{className:`text-base font-bold text-mono ${n?Ch(n):"text-foreground"}`,children:e})]})}function Ch(t){return t>=75?"text-success":t>=55?"text-warning":"text-destructive"}function tI(){const{freeAgents:t,makeTransferOffer:e,state:n}=Tr(),[r,s]=w.useState(1),[i,o]=w.useState(null);if(!n)return null;const l=n.teams.find(h=>h.id===n.selectedTeamId).division==="lkl",c=n.phase==="offseason",f=t.filter(h=>!n.declinedPlayerIds.includes(h.id)),d=h=>{const{success:p,reason:y}=e(h,r,h.askingSalary);if(p)o(` ${h.name} signed!`);else{const g=y||`${h.name} declined and left the market.`;o(` ${g}`)}setTimeout(()=>o(null),3e3)};return u.jsxs("div",{className:"space-y-4 animate-fade-in",children:[u.jsxs("div",{className:"fm-header px-4 py-3 rounded-lg",children:[u.jsx("h2",{className:"text-base font-bold text-foreground uppercase tracking-wider",children:"Transfer Market"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.length," free agents available",c&&" (Off-season expanded market)"]})]}),u.jsxs("div",{className:`border rounded-lg px-4 py-3 space-y-2 ${l?"bg-warning/10 border-warning/30":"bg-primary/10 border-primary/30"}`,children:[u.jsx("p",{className:`text-sm font-bold ${l?"text-warning":"text-primary"}`,children:l?" B LEAGUE MARKET - UNCERTAIN RATINGS":" A LEAGUE MARKET"}),u.jsx("ul",{className:`text-xs space-y-1 ml-4 ${l?"text-warning":"text-primary"}`,children:l?u.jsxs(u.Fragment,{children:[u.jsxs("li",{children:[" Regular Season: ",c?"10 (now)":"5 players available"]}),u.jsxs("li",{children:[" Off-Season: ",c?"10 players (current)":"10 players when in off-season"]}),u.jsx("li",{children:" Players come FREE (no salary cost)"}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:" Ratings shown as RANGES (e.g., 40-55)"})]}),u.jsx("li",{children:" When you sign, player gets RANDOM rating in that range"}),u.jsx("li",{children:' Example: Shows "40-55"  You might get 43, 48, or 52'})]}):u.jsxs(u.Fragment,{children:[u.jsxs("li",{children:[" Regular Season: ",c?"18 (now)":"7 players available"]}),u.jsxs("li",{children:[" Off-Season: ",c?"18 players (current)":"18 players when in off-season"]}),u.jsx("li",{children:" Pay transfer fees and salaries"}),u.jsx("li",{children:" Accurate player ratings (exact values shown)"})]})})]}),u.jsxs("div",{className:"bg-warning/10 border border-warning/30 rounded-lg px-4 py-3 space-y-1",children:[u.jsx("p",{className:"text-xs text-warning",children:" Declined players are permanently removed from the market this season."}),u.jsx("p",{className:"text-xs text-warning",children:" Maximum squad capacity is 12 players."})]}),i&&u.jsx("div",{className:"bg-card border border-border rounded-lg p-4 animate-slide-up",children:u.jsx("p",{className:"text-sm text-foreground",children:i})}),!l&&u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Contract:"}),[1,2].map(h=>u.jsxs("button",{onClick:()=>s(h),className:`px-4 py-1.5 rounded text-sm font-medium transition-all ${r===h?"bg-primary text-primary-foreground":"bg-secondary text-muted-foreground"}`,children:[h," Year",h>1?"s":""]},h))]}),u.jsxs("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:[u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border bg-secondary/50",children:[u.jsx("th",{className:"text-left px-4 py-2.5 text-muted-foreground font-medium text-xs",children:"Player"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center",children:"OVR"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center",children:"Role"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"SHO"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"DEF"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"DRI"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"PAS"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-right",children:l?"Cost":"Salary"}),u.jsx("th",{className:"px-4 py-2.5 text-muted-foreground font-medium text-xs text-center"})]})}),u.jsx("tbody",{className:"divide-y divide-border",children:f.map(h=>u.jsxs("tr",{className:"hover:bg-secondary/30 transition-colors",children:[u.jsx("td",{className:"px-4 py-2.5",children:u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-foreground",children:h.name}),u.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["Age ",h.age,"  ",h.attributes.height,"cm"]})]})}),u.jsxs("td",{className:"px-3 py-2.5 text-center",children:[u.jsx("span",{className:`text-mono font-bold ${$i(h.overall)}`,children:h.overall}),l&&u.jsx("span",{className:"text-xs text-destructive ml-1",title:"Inflated rating!",children:""})]}),u.jsx("td",{className:`px-3 py-2.5 text-center font-medium ${nI(h.role)}`,children:h.role.slice(0,3).toUpperCase()}),u.jsx("td",{className:`px-3 py-2.5 text-center text-mono hidden sm:table-cell ${$i(h.attributes.shooting)}`,children:h.attributes.shooting}),u.jsx("td",{className:`px-3 py-2.5 text-center text-mono hidden sm:table-cell ${$i(h.attributes.defending)}`,children:h.attributes.defending}),u.jsx("td",{className:`px-3 py-2.5 text-center text-mono hidden sm:table-cell ${$i(h.attributes.dribbling)}`,children:h.attributes.dribbling}),u.jsx("td",{className:`px-3 py-2.5 text-center text-mono hidden sm:table-cell ${$i(h.attributes.passing)}`,children:h.attributes.passing}),u.jsx("td",{className:"px-3 py-2.5 text-right text-mono text-foreground font-medium",children:l?u.jsx("span",{className:"text-success font-bold",children:"FREE"}):`$${h.askingSalary.toLocaleString()}`}),u.jsx("td",{className:"px-4 py-2.5 text-center",children:u.jsx("button",{onClick:()=>d(h),className:"px-3 py-1.5 rounded bg-primary text-primary-foreground text-xs font-bold hover:opacity-90 transition-opacity",children:"Sign"})})]},h.id))})]}),f.length===0&&u.jsx("div",{className:"text-center py-10 text-muted-foreground text-sm",children:"No free agents available"})]})]})}function nI(t){switch(t){case"Sharpshooter":return"text-warning";case"Defender":return"text-primary";case"Playmaker":return"text-success";default:return"text-muted-foreground"}}function $i(t){return t>=75?"text-success":t>=55?"text-warning":"text-destructive"}function rI(){const{state:t}=Tr();if(!t)return null;const e=t.finances,n=e.ticketIncome+e.sponsorIncome+e.prizeIncome,r=e.totalWages+e.transferSpending,s=n-r;return u.jsxs("div",{className:"space-y-3 animate-fade-in",children:[u.jsxs("div",{className:"fm-header px-3 py-2 rounded-lg",children:[u.jsx("h2",{className:"text-sm font-bold text-foreground uppercase tracking-wider",children:"Finances"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"All income halved this season"})]}),u.jsxs("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:[u.jsx("div",{className:"px-3 py-2 border-b border-border bg-success/5",children:u.jsx("span",{className:"text-xs text-success uppercase tracking-wider font-medium",children:"Income"})}),u.jsxs("div",{className:"divide-y divide-border",children:[u.jsx(Ar,{label:"Ticket Sales",amount:e.ticketIncome,positive:!0}),u.jsx(Ar,{label:"Sponsorship",amount:e.sponsorIncome,positive:!0}),u.jsx(Ar,{label:"Prize Money",amount:e.prizeIncome,positive:!0}),u.jsx(Ar,{label:"Total Income",amount:n,positive:!0,bold:!0})]})]}),u.jsxs("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:[u.jsx("div",{className:"px-3 py-2 border-b border-border bg-destructive/5",children:u.jsx("span",{className:"text-xs text-destructive uppercase tracking-wider font-medium",children:"Expenses"})}),u.jsxs("div",{className:"divide-y divide-border",children:[u.jsx(Ar,{label:"Total Wages",amount:e.totalWages}),u.jsx(Ar,{label:"Transfer Spending",amount:e.transferSpending}),u.jsx(Ar,{label:"Total Expenses",amount:r,bold:!0})]})]}),u.jsx("div",{className:"bg-card border border-border rounded-lg p-3",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Net Result"}),u.jsxs("span",{className:`text-mono text-lg font-bold ${s>=0?"text-success":"text-destructive"}`,children:[s>=0?"+":"","$",s.toLocaleString()]})]})})]})}function Ar({label:t,amount:e,positive:n,bold:r}){return u.jsxs("div",{className:`flex justify-between items-center px-3 py-2 ${r?"bg-secondary/30":""}`,children:[u.jsx("span",{className:`text-xs ${r?"font-semibold text-foreground":"text-muted-foreground"}`,children:t}),u.jsxs("span",{className:`text-mono text-xs ${r?"font-bold":"font-medium"} ${n?"text-success":"text-destructive"}`,children:[n?"+":"-","$",e.toLocaleString()]})]})}function sI(){var i;const{state:t,playPlayoffGame:e}=Tr();if(!t)return null;const n=t.playoffBracket,r=n.filter(o=>o.round===1),s=n.find(o=>o.round===2);return u.jsxs("div",{className:"space-y-3 animate-fade-in",children:[u.jsxs("div",{className:"fm-header px-3 py-2 rounded-lg",children:[u.jsx("h2",{className:"text-sm font-bold text-foreground uppercase tracking-wider",children:"Playoffs"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Best of 5"})]}),n.length===0&&u.jsx("div",{className:"bg-card border border-border rounded-lg p-6 text-center",children:u.jsx("p",{className:"text-muted-foreground text-sm",children:"Playoffs haven't started yet. Complete the regular season first."})}),r.length>0&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider px-1",children:"Semifinals"}),r.map((o,a)=>u.jsx(fg,{matchup:o,teams:t.teams,onPlay:()=>e(a),canPlay:t.phase==="playoffs"&&!o.winnerId,playerTeamId:t.selectedTeamId},a))]}),s&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider px-1",children:"Finals"}),u.jsx(fg,{matchup:s,teams:t.teams,onPlay:()=>e(n.indexOf(s)),canPlay:t.phase==="playoffs"&&!s.winnerId,playerTeamId:t.selectedTeamId}),s.winnerId&&u.jsxs("div",{className:"bg-gold/10 border border-gold/30 rounded-lg p-4 text-center",children:[u.jsx("div",{className:"text-2xl mb-1",children:""}),u.jsxs("div",{className:"text-sm font-bold text-gold",children:[(i=t.teams.find(o=>o.id===s.winnerId))==null?void 0:i.name," wins the championship!"]})]})]})]})}function fg({matchup:t,teams:e,onPlay:n,canPlay:r,playerTeamId:s}){var l;const i=e.find(c=>c.id===t.team1Id),o=e.find(c=>c.id===t.team2Id);if(!i||!o)return null;const a=t.team1Id===s||t.team2Id===s;return u.jsxs("div",{className:`bg-card border rounded-lg p-3 ${a?"border-primary/40 glow-primary":"border-border"}`,children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center text-[10px] font-bold",style:{backgroundColor:i.color+"33",color:i.color},children:i.shortName}),u.jsx("span",{className:`text-xs font-medium ${t.winnerId===i.id?"text-success":"text-foreground"}`,children:i.shortName})]}),u.jsxs("div",{className:"flex items-center gap-1 px-3",children:[u.jsx("span",{className:"text-mono text-lg font-bold text-foreground",children:t.team1Wins}),u.jsx("span",{className:"text-muted-foreground text-xs",children:"-"}),u.jsx("span",{className:"text-mono text-lg font-bold text-foreground",children:t.team2Wins})]}),u.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[u.jsx("span",{className:`text-xs font-medium ${t.winnerId===o.id?"text-success":"text-foreground"}`,children:o.shortName}),u.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center text-[10px] font-bold",style:{backgroundColor:o.color+"33",color:o.color},children:o.shortName})]})]}),r&&u.jsx("button",{onClick:n,className:"w-full mt-2 py-2 rounded bg-primary text-primary-foreground text-xs font-bold hover:opacity-90 transition-opacity",children:"Play Game"}),t.winnerId&&u.jsxs("div",{className:"mt-2 text-center text-[10px] text-success font-medium",children:[(l=e.find(c=>c.id===t.winnerId))==null?void 0:l.name," advances"]})]})}function iI(){const{state:t}=Tr();return t?u.jsxs("div",{className:"space-y-4 animate-fade-in",children:[u.jsx("div",{className:"fm-header px-4 py-3 rounded-lg",children:u.jsx("h2",{className:"text-base font-bold text-foreground uppercase tracking-wider",children:"League Tables"})}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:xi.map(e=>{const n=[...t.standings[e.id]||[]].sort((s,i)=>i.wins-s.wins||i.pointsFor-i.pointsAgainst-(s.pointsFor-s.pointsAgainst));if(n.length===0)return null;const r=e.id==="rkl";return u.jsxs("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"px-4 py-3 border-b border-border bg-secondary/30 flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-foreground uppercase tracking-wider font-semibold",children:e.name}),!r&&u.jsx("span",{className:"text-[10px] text-muted-foreground bg-success/10 text-success px-2 py-0.5 rounded",children:"1 promotion spot"})]}),u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border",children:[u.jsx("th",{className:"text-left px-4 py-2 text-muted-foreground font-medium text-xs",children:"#"}),u.jsx("th",{className:"text-left px-3 py-2 text-muted-foreground font-medium text-xs",children:"Team"}),u.jsx("th",{className:"px-3 py-2 text-muted-foreground font-medium text-xs text-center",children:"W"}),u.jsx("th",{className:"px-3 py-2 text-muted-foreground font-medium text-xs text-center",children:"L"}),u.jsx("th",{className:"px-3 py-2 text-muted-foreground font-medium text-xs text-center",children:"PF"}),u.jsx("th",{className:"px-3 py-2 text-muted-foreground font-medium text-xs text-center",children:"PA"})]})}),u.jsx("tbody",{className:"divide-y divide-border",children:n.map((s,i)=>{const o=t.teams.find(f=>f.id===s.teamId),a=s.teamId===t.selectedTeamId,l=!r&&i===0,c=r&&i===n.length-1;return u.jsxs("tr",{className:`${a?"bg-primary/10":""} ${l?"border-l-2 border-l-success":""} ${c?"border-l-2 border-l-destructive":""}`,children:[u.jsx("td",{className:"px-4 py-2 text-mono text-muted-foreground",children:i+1}),u.jsx("td",{className:"px-3 py-2",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:o.color}}),u.jsx("span",{className:`font-medium ${a?"text-primary":"text-foreground"}`,children:o.name})]})}),u.jsx("td",{className:"px-3 py-2 text-center text-mono text-foreground",children:s.wins}),u.jsx("td",{className:"px-3 py-2 text-center text-mono text-muted-foreground",children:s.losses}),u.jsx("td",{className:"px-3 py-2 text-center text-mono text-muted-foreground",children:s.pointsFor}),u.jsx("td",{className:"px-3 py-2 text-center text-mono text-muted-foreground",children:s.pointsAgainst})]},s.teamId)})})]})]},e.id)})})]}):null}const hg=[{id:"dashboard",label:"Home",icon:""},{id:"squad",label:"Squad",icon:""},{id:"league",label:"League",icon:""},{id:"transfers",label:"Market",icon:""},{id:"finance",label:"Finance",icon:""},{id:"playoffs",label:"Playoffs",icon:""}];function v_(){const{view:t,setView:e,state:n}=Tr();if(!n)return null;const r=n.teams.find(i=>i.id===n.selectedTeamId),s=()=>{switch(t){case"dashboard":return u.jsx(cg,{});case"squad":return u.jsx(eI,{});case"transfers":return u.jsx(tI,{});case"finance":return u.jsx(rI,{});case"league":return u.jsx(iI,{});case"playoffs":return u.jsx(sI,{});default:return u.jsx(cg,{})}};return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col lg:flex-row",children:[u.jsxs("aside",{className:"hidden lg:flex flex-col w-56 bg-card border-r border-border shrink-0 h-screen sticky top-0",children:[u.jsx("div",{className:"px-4 py-4 border-b border-border",children:u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-xs font-black",style:{backgroundColor:(r==null?void 0:r.color)+"33",color:r==null?void 0:r.color},children:r==null?void 0:r.shortName}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-sm font-bold text-foreground truncate",children:r==null?void 0:r.name}),u.jsxs("div",{className:"text-[10px] text-muted-foreground",children:["S",n.season,"  W",n.week]})]})]})}),u.jsx("nav",{className:"flex-1 py-2 px-2 space-y-0.5",children:hg.map(i=>u.jsxs("button",{onClick:()=>e(i.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-md text-sm font-medium transition-all ${t===i.id?"bg-primary/15 text-primary border-l-2 border-primary":"text-muted-foreground hover:text-foreground hover:bg-secondary/50"}`,children:[u.jsx("span",{className:"text-base",children:i.icon}),u.jsx("span",{children:i.label})]},i.id))}),u.jsxs("div",{className:"px-4 py-3 border-t border-border",children:[u.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-wider mb-1",children:"Net Result"}),u.jsxs("div",{className:`text-sm text-mono font-bold ${n.finances.ticketIncome+n.finances.sponsorIncome+n.finances.prizeIncome-n.finances.totalWages-n.finances.transferSpending>=0?"text-success":"text-destructive"}`,children:[n.finances.ticketIncome+n.finances.sponsorIncome+n.finances.prizeIncome-n.finances.totalWages-n.finances.transferSpending>=0?"+":"","$",(n.finances.ticketIncome+n.finances.sponsorIncome+n.finances.prizeIncome-n.finances.totalWages-n.finances.transferSpending).toLocaleString()]})]})]}),u.jsxs("div",{className:"lg:hidden bg-card border-b border-border px-3 py-2 flex items-center justify-between shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-7 h-7 rounded flex items-center justify-center text-[9px] font-black",style:{backgroundColor:(r==null?void 0:r.color)+"33",color:r==null?void 0:r.color},children:r==null?void 0:r.shortName}),u.jsx("span",{className:"text-xs font-bold text-foreground uppercase tracking-wider",children:r==null?void 0:r.shortName})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["S",n.season," W",n.week]}),u.jsxs("span",{className:`text-xs text-mono font-bold ${n.finances.ticketIncome+n.finances.sponsorIncome+n.finances.prizeIncome-n.finances.totalWages-n.finances.transferSpending>=0?"text-success":"text-destructive"}`,children:[n.finances.ticketIncome+n.finances.sponsorIncome+n.finances.prizeIncome-n.finances.totalWages-n.finances.transferSpending>=0?"+":"","$",((n.finances.ticketIncome+n.finances.sponsorIncome+n.finances.prizeIncome-n.finances.totalWages-n.finances.transferSpending)/1e3).toFixed(0),"K"]})]})]}),u.jsx("main",{className:"flex-1 overflow-y-auto",children:u.jsx("div",{className:"max-w-5xl mx-auto px-4 lg:px-8 py-4 lg:py-6 pb-20 lg:pb-6",children:s()})}),u.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-card border-t border-border z-50",children:u.jsx("div",{className:"flex justify-around items-center py-1.5",children:hg.map(i=>u.jsxs("button",{onClick:()=>e(i.id),className:`flex flex-col items-center gap-0.5 px-2 py-1 rounded-md transition-all ${t===i.id?"text-primary":"text-muted-foreground hover:text-foreground"}`,children:[u.jsx("span",{className:"text-base",children:i.icon}),u.jsx("span",{className:"text-[10px] font-medium",children:i.label})]},i.id))})})]})}function oI({onSinglePlayer:t,onMultiplayer:e}){return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center px-4",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-4xl font-black text-foreground tracking-tight",children:"Basketball Manager"}),u.jsx("p",{className:"text-muted-foreground mt-2 text-sm",children:"Lithuanian Basketball League"})]}),u.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[u.jsx("button",{onClick:t,className:"w-full group relative overflow-hidden rounded-xl bg-primary text-primary-foreground px-6 py-5 text-left transition-all hover:opacity-90 active:scale-[0.98]",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-widest opacity-70 mb-1",children:"Solo"}),u.jsx("div",{className:"text-xl font-black",children:"Single Player"}),u.jsx("div",{className:"text-sm opacity-70 mt-0.5",children:"Manage your club alone"})]}),u.jsx("span",{className:"text-3xl",children:""})]})}),u.jsxs("button",{onClick:e,className:"w-full group relative overflow-hidden rounded-xl bg-card border border-border px-6 py-5 text-left transition-all hover:border-primary/50 hover:bg-secondary/30 active:scale-[0.98]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-widest text-primary opacity-80 mb-1",children:"Live"}),u.jsx("div",{className:"text-xl font-black text-foreground",children:"Multiplayer"}),u.jsx("div",{className:"text-sm text-muted-foreground mt-0.5",children:"Play against a friend"})]}),u.jsx("span",{className:"text-3xl",children:""})]}),u.jsxs("div",{className:"mt-3 flex items-center gap-1.5",children:[u.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Real-time  Free  No account needed"})]})]})]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-10 opacity-50",children:"v1.0  Basketball Manager"})]})}var pg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(t,e){if(!t)throw _i(e)},_i=function(t){return new Error("Firebase Database ("+x_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},aI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Eh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,f=i>>2,d=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),r.push(n[f],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(__(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new lI;const h=i<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const y=c<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const w_=function(t){const e=__(t);return Eh.encodeByteArray(e,!0)},Al=function(t){return w_(t).replace(/\./g,"")},Wd=function(t){try{return Eh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t){return b_(void 0,t)}function b_(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!uI(n)||(t[n]=b_(t[n],e[n]));return t}function uI(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=()=>dI().__FIREBASE_DEFAULTS__,hI=()=>{if(typeof process>"u"||typeof pg>"u")return;const t=pg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Wd(t[1]);return e&&JSON.parse(e)},S_=()=>{try{return fI()||hI()||pI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mI=t=>{var e,n;return(n=(e=S_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gI=t=>{const e=mI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},C_=()=>{var t;return(t=S_())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Al(JSON.stringify(n)),Al(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vI())}function xI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function N_(){return x_.NODE_ADMIN===!0}function _I(){try{return typeof indexedDB=="object"}catch{return!1}}function wI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="FirebaseError";class ta extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bI,Object.setPrototypeOf(this,ta.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,k_.prototype.create)}}class k_{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?SI(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ta(s,a,r)}}function SI(t,e){return t.replace(CI,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const CI=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(t){return JSON.parse(t)}function je(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=jo(Wd(i[0])||""),n=jo(Wd(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},EI=function(t){const e=T_(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},NI=function(t){const e=T_(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ai(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function mg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jl(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Ud(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(gg(i)&&gg(o)){if(!Ud(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function gg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,f;for(let d=0;d<80;d++){d<40?d<20?(c=a^i&(o^a),f=1518500249):(c=i^o^a,f=1859775393):d<60?(c=i&o|a&(i|o),f=2400959708):(c=i^o^a,f=3395469782);const h=(s<<5|s>>>27)+c+l+f+r[d]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function Cc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,z(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Ec=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t){return t&&t._delegate?t._delegate:t}class Mo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ea;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AI(e))try{this.getOrInitializeService({instanceIdentifier:Or})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Or){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Or){return this.instances.has(e)}getOptions(e=Or){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Or){return this.component?this.component.multipleInstances?e:Or:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RI(t){return t===Or?void 0:t}function AI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const MI={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},OI=ue.INFO,DI={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},LI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=DI[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class I_{constructor(e){this.name=e,this._logLevel=OI,this._logHandler=LI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const FI=(t,e)=>e.some(n=>t instanceof n);let yg,vg;function $I(){return yg||(yg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zI(){return vg||(vg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P_=new WeakMap,Vd=new WeakMap,R_=new WeakMap,wu=new WeakMap,Nh=new WeakMap;function BI(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(fr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&P_.set(n,t)}).catch(()=>{}),Nh.set(e,t),e}function WI(t){if(Vd.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Vd.set(t,e)}let Hd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||R_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UI(t){Hd=t(Hd)}function VI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bu(this),e,...n);return R_.set(r,e.sort?e.sort():[e]),fr(r)}:zI().includes(t)?function(...e){return t.apply(bu(this),e),fr(P_.get(this))}:function(...e){return fr(t.apply(bu(this),e))}}function HI(t){return typeof t=="function"?VI(t):(t instanceof IDBTransaction&&WI(t),FI(t,$I())?new Proxy(t,Hd):t)}function fr(t){if(t instanceof IDBRequest)return BI(t);if(wu.has(t))return wu.get(t);const e=HI(t);return e!==t&&(wu.set(t,e),Nh.set(e,t)),e}const bu=t=>Nh.get(t);function GI(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=fr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(fr(o.result),l.oldVersion,l.newVersion,fr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const YI=["get","getKey","getAll","getAllKeys","count"],QI=["put","add","delete","clear"],Su=new Map;function xg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Su.get(e))return Su.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=QI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||YI.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Su.set(e,i),i}UI(t=>({...t,get:(e,n,r)=>xg(e,n)||t.get(e,n,r),has:(e,n)=>!!xg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gd="@firebase/app",_g="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn=new I_("@firebase/app"),XI="@firebase/app-compat",JI="@firebase/analytics-compat",ZI="@firebase/analytics",eP="@firebase/app-check-compat",tP="@firebase/app-check",nP="@firebase/auth",rP="@firebase/auth-compat",sP="@firebase/database",iP="@firebase/data-connect",oP="@firebase/database-compat",aP="@firebase/functions",lP="@firebase/functions-compat",cP="@firebase/installations",uP="@firebase/installations-compat",dP="@firebase/messaging",fP="@firebase/messaging-compat",hP="@firebase/performance",pP="@firebase/performance-compat",mP="@firebase/remote-config",gP="@firebase/remote-config-compat",yP="@firebase/storage",vP="@firebase/storage-compat",xP="@firebase/firestore",_P="@firebase/vertexai-preview",wP="@firebase/firestore-compat",bP="firebase",SP="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="[DEFAULT]",CP={[Gd]:"fire-core",[XI]:"fire-core-compat",[ZI]:"fire-analytics",[JI]:"fire-analytics-compat",[tP]:"fire-app-check",[eP]:"fire-app-check-compat",[nP]:"fire-auth",[rP]:"fire-auth-compat",[sP]:"fire-rtdb",[iP]:"fire-data-connect",[oP]:"fire-rtdb-compat",[aP]:"fire-fn",[lP]:"fire-fn-compat",[cP]:"fire-iid",[uP]:"fire-iid-compat",[dP]:"fire-fcm",[fP]:"fire-fcm-compat",[hP]:"fire-perf",[pP]:"fire-perf-compat",[mP]:"fire-rc",[gP]:"fire-rc-compat",[yP]:"fire-gcs",[vP]:"fire-gcs-compat",[xP]:"fire-fst",[wP]:"fire-fst-compat",[_P]:"fire-vertex","fire-js":"fire-js",[bP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=new Map,EP=new Map,Qd=new Map;function wg(t,e){try{t.container.addComponent(e)}catch(n){Rn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ol(t){const e=t.name;if(Qd.has(e))return Rn.debug(`There were multiple attempts to register component ${e}.`),!1;Qd.set(e,t);for(const n of Ml.values())wg(n,t);for(const n of EP.values())wg(n,t);return!0}function NP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new k_("app","Firebase",kP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=SP;function A_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Yd,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw hr.create("bad-app-name",{appName:String(s)});if(n||(n=C_()),!n)throw hr.create("no-options");const i=Ml.get(s);if(i){if(Ud(n,i.options)&&Ud(r,i.config))return i;throw hr.create("duplicate-app",{appName:s})}const o=new jI(s);for(const l of Qd.values())o.addComponent(l);const a=new TP(n,r,o);return Ml.set(s,a),a}function PP(t=Yd){const e=Ml.get(t);if(!e&&t===Yd&&C_())return A_();if(!e)throw hr.create("no-app",{appName:t});return e}function Bs(t,e,n){var r;let s=(r=CP[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rn.warn(a.join(" "));return}Ol(new Mo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="firebase-heartbeat-database",AP=1,Oo="firebase-heartbeat-store";let Cu=null;function j_(){return Cu||(Cu=GI(RP,AP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oo)}catch(n){console.warn(n)}}}}).catch(t=>{throw hr.create("idb-open",{originalErrorMessage:t.message})})),Cu}async function jP(t){try{const n=(await j_()).transaction(Oo),r=await n.objectStore(Oo).get(M_(t));return await n.done,r}catch(e){if(e instanceof ta)Rn.warn(e.message);else{const n=hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rn.warn(n.message)}}}async function bg(t,e){try{const r=(await j_()).transaction(Oo,"readwrite");await r.objectStore(Oo).put(e,M_(t)),await r.done}catch(n){if(n instanceof ta)Rn.warn(n.message);else{const r=hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Rn.warn(r.message)}}}function M_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=1024,OP=30*24*60*60*1e3;class DP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Sg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=OP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Rn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sg(),{heartbeatsToSend:r,unsentEntries:s}=LP(this._heartbeatsCache.heartbeats),i=Al(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Rn.warn(n),""}}}function Sg(){return new Date().toISOString().substring(0,10)}function LP(t,e=MP){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Cg(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Cg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class FP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _I()?wI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return bg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return bg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Cg(t){return Al(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(t){Ol(new Mo("platform-logger",e=>new KI(e),"PRIVATE")),Ol(new Mo("heartbeat",e=>new DP(e),"PRIVATE")),Bs(Gd,_g,t),Bs(Gd,_g,"esm2017"),Bs("fire-js","")}$P("");var Eg={};const Ng="@firebase/database",kg="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O_="";function zP(t){O_=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),je(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:jo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return pn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new BP(e)}}catch{}return new WP},zr=D_("localStorage"),UP=D_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new I_("@firebase/database"),VP=function(){let t=1;return function(){return t++}}(),L_=function(t){const e=II(t),n=new TI;n.update(e);const r=n.digest();return Eh.encodeByteArray(r)},na=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=na.apply(null,r):typeof r=="object"?e+=je(r):e+=r,e+=" "}return e};let oo=null,Tg=!0;const HP=function(t,e){z(!e,"Can't turn on custom loggers persistently."),Ws.logLevel=ue.VERBOSE,oo=Ws.log.bind(Ws)},ze=function(...t){if(Tg===!0&&(Tg=!1,oo===null&&UP.get("logging_enabled")===!0&&HP()),oo){const e=na.apply(null,t);oo(e)}},ra=function(t){return function(...e){ze(t,...e)}},Kd=function(...t){const e="FIREBASE INTERNAL ERROR: "+na(...t);Ws.error(e)},An=function(...t){const e=`FIREBASE FATAL ERROR: ${na(...t)}`;throw Ws.error(e),new Error(e)},nt=function(...t){const e="FIREBASE WARNING: "+na(...t);Ws.warn(e)},GP=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&nt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},kh=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},YP=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},li="[MIN_NAME]",ts="[MAX_NAME]",as=function(t,e){if(t===e)return 0;if(t===li||e===ts)return-1;if(e===li||t===ts)return 1;{const n=Ig(t),r=Ig(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},QP=function(t,e){return t===e?0:t<e?-1:1},zi=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+je(e))},Th=function(t){if(typeof t!="object"||t===null)return je(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=je(e[r]),n+=":",n+=Th(t[e[r]]);return n+="}",n},F_=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Ue(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const $_=function(t){z(!kh(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const f=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(f.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},KP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},qP=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function XP(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const JP=new RegExp("^-?(0*)\\d{1,10}$"),ZP=-2147483648,eR=2147483647,Ig=function(t){if(JP.test(t)){const e=Number(t);if(e>=ZP&&e<=eR)return e}return null},bi=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw nt("Exception was thrown by user callback.",n),e},Math.floor(0))}},tR=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ao=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){nt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ze("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nt(e)}}class Ja{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ja.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="5",z_="v",B_="s",W_="r",U_="f",V_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,H_="ls",G_="p",qd="ac",Y_="websocket",Q_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&zr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function sR(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function q_(t,e,n){z(typeof e=="string","typeof type must == string"),z(typeof n=="object","typeof params must == object");let r;if(e===Y_)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Q_)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);sR(t)&&(n.ns=t.namespace);const s=[];return Ue(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.counters_={}}incrementCounter(e,n=1){pn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return cI(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu={},Nu={};function Ph(t){const e=t.toString();return Eu[e]||(Eu[e]=new iR),Eu[e]}function oR(t,e){const n=t.toString();return Nu[n]||(Nu[n]=e()),Nu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&bi(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="start",lR="close",cR="pLPCommand",uR="pRTLPCB",X_="id",J_="pw",Z_="ser",dR="cb",fR="seg",hR="ts",pR="d",mR="dframe",ew=1870,tw=30,gR=ew-tw,yR=25e3,vR=3e4;class Ps{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ra(e),this.stats_=Ph(n),this.urlFn=l=>(this.appCheckToken&&(l[qd]=this.appCheckToken),q_(n,Q_,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new aR(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(vR)),YP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Rh((...i)=>{const[o,a,l,c,f]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Pg)this.id=a,this.password=l;else if(o===lR)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Pg]="t",r[Z_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[dR]=this.scriptTagHolder.uniqueCallbackIdentifier),r[z_]=Ih,this.transportSessionId&&(r[B_]=this.transportSessionId),this.lastSessionId&&(r[H_]=this.lastSessionId),this.applicationId&&(r[G_]=this.applicationId),this.appCheckToken&&(r[qd]=this.appCheckToken),typeof location<"u"&&location.hostname&&V_.test(location.hostname)&&(r[W_]=U_);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ps.forceAllow_=!0}static forceDisallow(){Ps.forceDisallow_=!0}static isAvailable(){return Ps.forceAllow_?!0:!Ps.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!KP()&&!qP()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=je(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=w_(n),s=F_(r,gR);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[mR]="t",r[X_]=e,r[J_]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=je(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Rh{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=VP(),window[cR+this.uniqueCallbackIdentifier]=e,window[uR+this.uniqueCallbackIdentifier]=n,this.myIFrame=Rh.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){ze("frame writing exception"),a.stack&&ze(a.stack),ze(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ze("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[X_]=this.myID,e[J_]=this.myPW,e[Z_]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+tw+r.length<=ew;){const o=this.pendingSegs.shift();r=r+"&"+fR+s+"="+o.seg+"&"+hR+s+"="+o.ts+"&"+pR+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(yR)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ze("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=16384,_R=45e3;let Dl=null;typeof MozWebSocket<"u"?Dl=MozWebSocket:typeof WebSocket<"u"&&(Dl=WebSocket);class Ht{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ra(this.connId),this.stats_=Ph(n),this.connURL=Ht.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[z_]=Ih,typeof location<"u"&&location.hostname&&V_.test(location.hostname)&&(o[W_]=U_),n&&(o[B_]=n),r&&(o[H_]=r),s&&(o[qd]=s),i&&(o[G_]=i),q_(e,Y_,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zr.set("previous_websocket_failure",!0);try{let r;N_(),this.mySock=new Dl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Ht.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Dl!==null&&!Ht.forceDisallow_}static previouslyFailed(){return zr.isInMemoryStorage||zr.get("previous_websocket_failure")===!0}markConnectionHealthy(){zr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=jo(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(z(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=je(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=F_(n,xR);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(_R))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ht.responsesRequiredToBeHealthy=2;Ht.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ps,Ht]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Ht&&Ht.isAvailable();let r=n&&!Ht.previouslyFailed();if(e.webSocketOnly&&(n||nt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ht];else{const s=this.transports_=[];for(const i of Do.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Do.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Do.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=6e4,bR=5e3,SR=10*1024,CR=100*1024,ku="t",Rg="d",ER="s",Ag="r",NR="e",jg="o",Mg="a",Og="n",Dg="p",kR="h";class TR{constructor(e,n,r,s,i,o,a,l,c,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ra("c:"+this.id+":"),this.transportManager_=new Do(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=ao(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>CR?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>SR?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ku in e){const n=e[ku];n===Mg?this.upgradeIfSecondaryHealthy_():n===Ag?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===jg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=zi("t",e),r=zi("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Dg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Mg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Og,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=zi("t",e),r=zi("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=zi(ku,e);if(Rg in e){const r=e[Rg];if(n===kR){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Og){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===ER?this.onConnectionShutdown_(r):n===Ag?this.onReset_(r):n===NR?Kd("Server Error: "+r):n===jg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Kd("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ih!==r&&nt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ao(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(wR))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ao(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(bR))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Dg,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e){this.allowedEvents_=e,this.listeners_={},z(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){z(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends rw{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!E_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ll}getInitialEvent(e){return z(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg=32,Fg=768;class le{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ie(){return new le("")}function Z(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function br(t){return t.pieces_.length-t.pieceNum_}function de(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new le(t.pieces_,e)}function Ah(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function IR(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Lo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function sw(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new le(e,0)}function Ee(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof le)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new le(n,0)}function te(t){return t.pieceNum_>=t.pieces_.length}function et(t,e){const n=Z(t),r=Z(e);if(n===null)return e;if(n===r)return et(de(t),de(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function PR(t,e){const n=Lo(t,0),r=Lo(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=as(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function jh(t,e){if(br(t)!==br(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function It(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(br(t)>br(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class RR{constructor(e,n){this.errorPrefix_=n,this.parts_=Lo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ec(this.parts_[r]);iw(this)}}function AR(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ec(e),iw(t)}function jR(t){const e=t.parts_.pop();t.byteLength_-=Ec(e),t.parts_.length>0&&(t.byteLength_-=1)}function iw(t){if(t.byteLength_>Fg)throw new Error(t.errorPrefix_+"has a key path longer than "+Fg+" bytes ("+t.byteLength_+").");if(t.parts_.length>Lg)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Lg+") or object contains a cycle "+Dr(t))}function Dr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends rw{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Mh}getInitialEvent(e){return z(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=1e3,MR=60*5*1e3,$g=30*1e3,OR=1.3,DR=3e4,LR="server_kill",zg=3;class Cn extends nw{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Cn.nextPersistentConnectionId_++,this.log_=ra("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Bi,this.maxReconnectDelay_=MR,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!N_())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Mh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ll.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(je(i)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new ea,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Cn.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&pn(e,"w")){const r=ai(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();nt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||NI(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=$g)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=EI(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+je(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Kd("Unrecognized action received from server: "+je(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bi,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Bi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>DR&&(this.reconnectDelay_=Bi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*OR)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Cn.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){z(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?ze("getToken() completed but was canceled"):(ze("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new TR(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{nt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(LR)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&nt(d),l())}}}interrupt(e){ze("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ze("Resuming connection for reason: "+e),delete this.interruptReasons_[e],mg(this.interruptReasons_)&&(this.reconnectDelay_=Bi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Th(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new le(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){ze("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=zg&&(this.reconnectDelay_=$g,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ze("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=zg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+O_.replace(/\./g,"-")]=1,E_()?e["framework.cordova"]=1:xI()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ll.getInstance().currentlyOnline();return mg(this.interruptReasons_)&&e}}Cn.nextPersistentConnectionId_=0;Cn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ee(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ee(li,e),s=new ee(li,n);return this.compare(r,s)!==0}minPost(){return ee.MIN}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma;class ow extends Nc{static get __EMPTY_NODE(){return Ma}static set __EMPTY_NODE(e){Ma=e}compare(e,n){return as(e.name,n.name)}isDefinedOn(e){throw _i("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ee.MIN}maxPost(){return new ee(ts,Ma)}makePost(e,n){return z(typeof e=="string","KeyIndex indexValue must always be a string."),new ee(e,Ma)}toString(){return".key"}}const Us=new ow;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Le{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Le.RED,this.left=s??lt.EMPTY_NODE,this.right=i??lt.EMPTY_NODE}copy(e,n,r,s,i){return new Le(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return lt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return lt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Le.RED=!0;Le.BLACK=!1;class FR{copy(e,n,r,s,i){return this}insert(e,n,r){return new Le(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class lt{constructor(e,n=lt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new lt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Le.BLACK,null,null))}remove(e){return new lt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Le.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Oa(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Oa(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Oa(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Oa(this.root_,null,this.comparator_,!0,e)}}lt.EMPTY_NODE=new FR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t,e){return as(t.name,e.name)}function Oh(t,e){return as(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xd;function zR(t){Xd=t}const aw=function(t){return typeof t=="number"?"number:"+$_(t):"string:"+t},lw=function(t){if(t.isLeafNode()){const e=t.val();z(typeof e=="string"||typeof e=="number"||typeof e=="object"&&pn(e,".sv"),"Priority must be a string or number.")}else z(t===Xd||t.isEmpty(),"priority of unexpected type.");z(t===Xd||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bg;class Oe{constructor(e,n=Oe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),lw(this.priorityNode_)}static set __childrenNodeConstructor(e){Bg=e}static get __childrenNodeConstructor(){return Bg}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Oe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Oe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return te(e)?this:Z(e)===".priority"?this.priorityNode_:Oe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Oe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Z(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(z(r!==".priority"||br(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Oe.__childrenNodeConstructor.EMPTY_NODE.updateChild(de(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+aw(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=$_(this.value_):e+=this.value_,this.lazyHash_=L_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Oe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Oe.__childrenNodeConstructor?-1:(z(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Oe.VALUE_TYPE_ORDER.indexOf(n),i=Oe.VALUE_TYPE_ORDER.indexOf(r);return z(s>=0,"Unknown leaf type: "+n),z(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Oe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cw,uw;function BR(t){cw=t}function WR(t){uw=t}class UR extends Nc{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?as(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ee.MIN}maxPost(){return new ee(ts,new Oe("[PRIORITY-POST]",uw))}makePost(e,n){const r=cw(e);return new ee(n,new Oe("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ne=new UR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=Math.log(2);class HR{constructor(e){const n=i=>parseInt(Math.log(i)/VR,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Fl=function(t,e,n,r){t.sort(e);const s=function(l,c){const f=c-l;let d,h;if(f===0)return null;if(f===1)return d=t[l],h=n?n(d):d,new Le(h,d.node,Le.BLACK,null,null);{const p=parseInt(f/2,10)+l,y=s(l,p),g=s(p+1,c);return d=t[p],h=n?n(d):d,new Le(h,d.node,Le.BLACK,y,g)}},i=function(l){let c=null,f=null,d=t.length;const h=function(y,g){const _=d-y,v=d;d-=y;const m=s(_+1,v),x=t[_],b=n?n(x):x;p(new Le(b,x.node,g,null,m))},p=function(y){c?(c.left=y,c=y):(f=y,c=y)};for(let y=0;y<l.count;++y){const g=l.nextBitIsOne(),_=Math.pow(2,l.count-(y+1));g?h(_,Le.BLACK):(h(_,Le.BLACK),h(_,Le.RED))}return f},o=new HR(t.length),a=i(o);return new lt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu;const gs={};class bn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return z(gs&&Ne,"ChildrenNode.ts has not been loaded"),Tu=Tu||new bn({".priority":gs},{".priority":Ne}),Tu}get(e){const n=ai(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof lt?n:null}hasIndex(e){return pn(this.indexSet_,e.toString())}addIndex(e,n){z(e!==Us,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(ee.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=Fl(r,e.getCompare()):a=gs;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const f=Object.assign({},this.indexes_);return f[l]=a,new bn(f,c)}addToIndexes(e,n){const r=jl(this.indexes_,(s,i)=>{const o=ai(this.indexSet_,i);if(z(o,"Missing index implementation for "+i),s===gs)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ee.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Fl(a,o.getCompare())}else return gs;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new ee(e.name,a))),l.insert(e,e.node)}});return new bn(r,this.indexSet_)}removeFromIndexes(e,n){const r=jl(this.indexes_,s=>{if(s===gs)return s;{const i=n.get(e.name);return i?s.remove(new ee(e.name,i)):s}});return new bn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wi;class Q{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&lw(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Wi||(Wi=new Q(new lt(Oh),null,bn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wi}updatePriority(e){return this.children_.isEmpty()?this:new Q(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Wi:n}}getChild(e){const n=Z(e);return n===null?this:this.getImmediateChild(n).getChild(de(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(z(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ee(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Wi:this.priorityNode_;return new Q(s,o,i)}}updateChild(e,n){const r=Z(e);if(r===null)return n;{z(Z(e)!==".priority"||br(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(de(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(Ne,(o,a)=>{n[o]=a.val(e),r++,i&&Q.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+aw(this.getPriority().val())+":"),this.forEachChild(Ne,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":L_(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new ee(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ee(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ee(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ee.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ee.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===sa?-1:0}withIndex(e){if(e===Us||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Q(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Us||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ne),s=n.getIterator(Ne);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Us?null:this.indexMap_.get(e.toString())}}Q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class GR extends Q{constructor(){super(new lt(Oh),Q.EMPTY_NODE,bn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Q.EMPTY_NODE}isEmpty(){return!1}}const sa=new GR;Object.defineProperties(ee,{MIN:{value:new ee(li,Q.EMPTY_NODE)},MAX:{value:new ee(ts,sa)}});ow.__EMPTY_NODE=Q.EMPTY_NODE;Oe.__childrenNodeConstructor=Q;zR(sa);WR(sa);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=!0;function Ae(t,e=null){if(t===null)return Q.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),z(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Oe(n,Ae(e))}if(!(t instanceof Array)&&YR){const n=[];let r=!1;if(Ue(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Ae(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ee(o,l)))}}),n.length===0)return Q.EMPTY_NODE;const i=Fl(n,$R,o=>o.name,Oh);if(r){const o=Fl(n,Ne.getCompare());return new Q(i,Ae(e),new bn({".priority":o},{".priority":Ne}))}else return new Q(i,Ae(e),bn.Default)}else{let n=Q.EMPTY_NODE;return Ue(t,(r,s)=>{if(pn(t,r)&&r.substring(0,1)!=="."){const i=Ae(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Ae(e))}}BR(Ae);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR extends Nc{constructor(e){super(),this.indexPath_=e,z(!te(e)&&Z(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?as(e.name,n.name):i}makePost(e,n){const r=Ae(e),s=Q.EMPTY_NODE.updateChild(this.indexPath_,r);return new ee(n,s)}maxPost(){const e=Q.EMPTY_NODE.updateChild(this.indexPath_,sa);return new ee(ts,e)}toString(){return Lo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR extends Nc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?as(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ee.MIN}maxPost(){return ee.MAX}makePost(e,n){const r=Ae(e);return new ee(n,r)}toString(){return".value"}}const qR=new KR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(t){return{type:"value",snapshotNode:t}}function ci(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Fo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function $o(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function XR(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){z(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Fo(n,a)):z(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ci(n,r)):o.trackChildChange($o(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ne,(s,i)=>{n.hasChild(s)||r.trackChildChange(Fo(s,i))}),n.isLeafNode()||n.forEachChild(Ne,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange($o(s,i,o))}else r.trackChildChange(ci(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Q.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.indexedFilter_=new Dh(e.getIndex()),this.index_=e.getIndex(),this.startPost_=zo.getStartPost_(e),this.endPost_=zo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new ee(n,r))||(r=Q.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Q.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(Q.EMPTY_NODE);const i=this;return n.forEachChild(Ne,(o,a)=>{i.matches(new ee(o,a))||(s=s.updateImmediateChild(o,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new zo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new ee(n,r))||(r=Q.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=Q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=Q.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(Q.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,p)=>d(p,h)}else o=this.index_.getCompare();const a=e;z(a.numChildren()===this.limit_,"");const l=new ee(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),f=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=s.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=s.getChildAfterChild(this.index_,h,this.reverse_);const p=h==null?1:o(h,l);if(f&&!r.isEmpty()&&p>=0)return i!=null&&i.trackChildChange($o(n,r,d)),a.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(Fo(n,d));const g=a.updateImmediateChild(n,Q.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(i!=null&&i.trackChildChange(ci(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return r.isEmpty()?e:f&&o(c,l)>=0?(i!=null&&(i.trackChildChange(Fo(c.name,c.node)),i.trackChildChange(ci(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,Q.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ne}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:li}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ts}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ne}copy(){const e=new Lh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ZR(t){return t.loadsAllData()?new Dh(t.getIndex()):t.hasLimit()?new JR(t):new zo(t)}function Wg(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ne?n="$priority":t.index_===qR?n="$value":t.index_===Us?n="$key":(z(t.index_ instanceof QR,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=je(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=je(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+je(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=je(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+je(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Ug(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ne&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends nw{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=ra("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(z(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=$l.getListenId_(e,r),a={};this.listens_[o]=a;const l=Wg(e._queryParams);this.restRequest_(i+".json",l,(c,f)=>{let d=f;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,r),ai(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",s(h,null)}})}unlisten(e,n){const r=$l.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Wg(e._queryParams),r=e._path.toString(),s=new ea;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+kI(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=jo(a.responseText)}catch{nt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&nt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(){return{value:null,children:new Map}}function fw(t,e,n){if(te(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Z(e);t.children.has(r)||t.children.set(r,zl());const s=t.children.get(r);e=de(e),fw(s,e,n)}}function Jd(t,e,n){t.value!==null?n(e,t.value):tA(t,(r,s)=>{const i=new le(e.toString()+"/"+r);Jd(s,i,n)})}function tA(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ue(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg=10*1e3,rA=30*1e3,sA=5*60*1e3;class iA{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new nA(e);const r=Vg+(rA-Vg)*Math.random();ao(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ue(e,(s,i)=>{i>0&&pn(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),ao(this.reportStats_.bind(this),Math.floor(Math.random()*2*sA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Gt||(Gt={}));function Fh(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function $h(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function zh(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Gt.ACK_USER_WRITE,this.source=Fh()}operationForChild(e){if(te(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new le(e));return new Bl(ie(),n,this.revert)}}else return z(Z(this.path)===e,"operationForChild called for unrelated child."),new Bl(de(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n){this.source=e,this.path=n,this.type=Gt.LISTEN_COMPLETE}operationForChild(e){return te(this.path)?new Bo(this.source,ie()):new Bo(this.source,de(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Gt.OVERWRITE}operationForChild(e){return te(this.path)?new ns(this.source,ie(),this.snap.getImmediateChild(e)):new ns(this.source,de(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Gt.MERGE}operationForChild(e){if(te(this.path)){const n=this.children.subtree(new le(e));return n.isEmpty()?null:n.value?new ns(this.source,ie(),n.value):new ui(this.source,ie(),n)}else return z(Z(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ui(this.source,de(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(te(e))return this.isFullyInitialized()&&!this.filtered_;const n=Z(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function aA(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(XR(o.childName,o.snapshotNode))}),Ui(t,s,"child_removed",e,r,n),Ui(t,s,"child_added",e,r,n),Ui(t,s,"child_moved",i,r,n),Ui(t,s,"child_changed",e,r,n),Ui(t,s,"value",e,r,n),s}function Ui(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>cA(t,a,l)),o.forEach(a=>{const l=lA(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function lA(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function cA(t,e,n){if(e.childName==null||n.childName==null)throw _i("Should only compare child_ events.");const r=new ee(e.childName,e.snapshotNode),s=new ee(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t,e){return{eventCache:t,serverCache:e}}function lo(t,e,n,r){return kc(new Sr(e,n,r),t.serverCache)}function hw(t,e,n,r){return kc(t.eventCache,new Sr(e,n,r))}function Wl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function rs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iu;const uA=()=>(Iu||(Iu=new lt(QP)),Iu);class ce{constructor(e,n=uA()){this.value=e,this.children=n}static fromObject(e){let n=new ce(null);return Ue(e,(r,s)=>{n=n.set(new le(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ie(),value:this.value};if(te(e))return null;{const r=Z(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(de(e),n);return i!=null?{path:Ee(new le(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(te(e))return this;{const n=Z(e),r=this.children.get(n);return r!==null?r.subtree(de(e)):new ce(null)}}set(e,n){if(te(e))return new ce(n,this.children);{const r=Z(e),i=(this.children.get(r)||new ce(null)).set(de(e),n),o=this.children.insert(r,i);return new ce(this.value,o)}}remove(e){if(te(e))return this.children.isEmpty()?new ce(null):new ce(null,this.children);{const n=Z(e),r=this.children.get(n);if(r){const s=r.remove(de(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new ce(null):new ce(this.value,i)}else return this}}get(e){if(te(e))return this.value;{const n=Z(e),r=this.children.get(n);return r?r.get(de(e)):null}}setTree(e,n){if(te(e))return n;{const r=Z(e),i=(this.children.get(r)||new ce(null)).setTree(de(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new ce(this.value,o)}}fold(e){return this.fold_(ie(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(Ee(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ie(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(te(e))return null;{const i=Z(e),o=this.children.get(i);return o?o.findOnPath_(de(e),Ee(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ie(),n)}foreachOnPath_(e,n,r){if(te(e))return this;{this.value&&r(n,this.value);const s=Z(e),i=this.children.get(s);return i?i.foreachOnPath_(de(e),Ee(n,s),r):new ce(null)}}foreach(e){this.foreach_(ie(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Ee(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.writeTree_=e}static empty(){return new Kt(new ce(null))}}function co(t,e,n){if(te(e))return new Kt(new ce(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=et(s,e);return i=i.updateChild(o,n),new Kt(t.writeTree_.set(s,i))}else{const s=new ce(n),i=t.writeTree_.setTree(e,s);return new Kt(i)}}}function Zd(t,e,n){let r=t;return Ue(n,(s,i)=>{r=co(r,Ee(e,s),i)}),r}function Hg(t,e){if(te(e))return Kt.empty();{const n=t.writeTree_.setTree(e,new ce(null));return new Kt(n)}}function ef(t,e){return ls(t,e)!=null}function ls(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(et(n.path,e)):null}function Gg(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ne,(r,s)=>{e.push(new ee(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new ee(r,s.value))}),e}function pr(t,e){if(te(e))return t;{const n=ls(t,e);return n!=null?new Kt(new ce(n)):new Kt(t.writeTree_.subtree(e))}}function tf(t){return t.writeTree_.isEmpty()}function di(t,e){return pw(ie(),t.writeTree_,e)}function pw(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(z(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=pw(Ee(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ee(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t,e){return vw(e,t)}function dA(t,e,n,r,s){z(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=co(t.visibleWrites,e,n)),t.lastWriteId=r}function fA(t,e,n,r){z(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Zd(t.visibleWrites,e,n),t.lastWriteId=r}function hA(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function pA(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);z(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&mA(a,r.path)?s=!1:It(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return gA(t),!0;if(r.snap)t.visibleWrites=Hg(t.visibleWrites,r.path);else{const a=r.children;Ue(a,l=>{t.visibleWrites=Hg(t.visibleWrites,Ee(r.path,l))})}return!0}else return!1}function mA(t,e){if(t.snap)return It(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&It(Ee(t.path,n),e))return!0;return!1}function gA(t){t.visibleWrites=mw(t.allWrites,yA,ie()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function yA(t){return t.visible}function mw(t,e,n){let r=Kt.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)It(n,o)?(a=et(n,o),r=co(r,a,i.snap)):It(o,n)&&(a=et(o,n),r=co(r,ie(),i.snap.getChild(a)));else if(i.children){if(It(n,o))a=et(n,o),r=Zd(r,a,i.children);else if(It(o,n))if(a=et(o,n),te(a))r=Zd(r,ie(),i.children);else{const l=ai(i.children,Z(a));if(l){const c=l.getChild(de(a));r=co(r,ie(),c)}}}else throw _i("WriteRecord should have .snap or .children")}}return r}function gw(t,e,n,r,s){if(!r&&!s){const i=ls(t.visibleWrites,e);if(i!=null)return i;{const o=pr(t.visibleWrites,e);if(tf(o))return n;if(n==null&&!ef(o,ie()))return null;{const a=n||Q.EMPTY_NODE;return di(o,a)}}}else{const i=pr(t.visibleWrites,e);if(!s&&tf(i))return n;if(!s&&n==null&&!ef(i,ie()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(It(c.path,e)||It(e,c.path))},a=mw(t.allWrites,o,e),l=n||Q.EMPTY_NODE;return di(a,l)}}}function vA(t,e,n){let r=Q.EMPTY_NODE;const s=ls(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Ne,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=pr(t.visibleWrites,e);return n.forEachChild(Ne,(o,a)=>{const l=di(pr(i,new le(o)),a);r=r.updateImmediateChild(o,l)}),Gg(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=pr(t.visibleWrites,e);return Gg(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function xA(t,e,n,r,s){z(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=Ee(e,n);if(ef(t.visibleWrites,i))return null;{const o=pr(t.visibleWrites,i);return tf(o)?s.getChild(n):di(o,s.getChild(n))}}function _A(t,e,n,r){const s=Ee(e,n),i=ls(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=pr(t.visibleWrites,s);return di(o,r.getNode().getImmediateChild(n))}else return null}function wA(t,e){return ls(t.visibleWrites,e)}function bA(t,e,n,r,s,i,o){let a;const l=pr(t.visibleWrites,e),c=ls(l,ie());if(c!=null)a=c;else if(n!=null)a=di(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const f=[],d=o.getCompare(),h=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=h.getNext();for(;p&&f.length<s;)d(p,r)!==0&&f.push(p),p=h.getNext();return f}else return[]}function SA(){return{visibleWrites:Kt.empty(),allWrites:[],lastWriteId:-1}}function Ul(t,e,n,r){return gw(t.writeTree,t.treePath,e,n,r)}function Bh(t,e){return vA(t.writeTree,t.treePath,e)}function Yg(t,e,n,r){return xA(t.writeTree,t.treePath,e,n,r)}function Vl(t,e){return wA(t.writeTree,Ee(t.treePath,e))}function CA(t,e,n,r,s,i){return bA(t.writeTree,t.treePath,e,n,r,s,i)}function Wh(t,e,n){return _A(t.writeTree,t.treePath,e,n)}function yw(t,e){return vw(Ee(t.treePath,e),t.writeTree)}function vw(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;z(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),z(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,$o(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Fo(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,ci(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,$o(r,e.snapshotNode,s.oldSnap));else throw _i("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const xw=new NA;class Uh{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Sr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Wh(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:rs(this.viewCache_),i=CA(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t){return{filter:t}}function TA(t,e){z(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),z(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function IA(t,e,n,r,s){const i=new EA;let o,a;if(n.type===Gt.OVERWRITE){const c=n;c.source.fromUser?o=nf(t,e,c.path,c.snap,r,s,i):(z(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!te(c.path),o=Hl(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===Gt.MERGE){const c=n;c.source.fromUser?o=RA(t,e,c.path,c.children,r,s,i):(z(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=rf(t,e,c.path,c.children,r,s,a,i))}else if(n.type===Gt.ACK_USER_WRITE){const c=n;c.revert?o=MA(t,e,c.path,r,s,i):o=AA(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===Gt.LISTEN_COMPLETE)o=jA(t,e,n.path,r,i);else throw _i("Unknown operation type: "+n.type);const l=i.getChanges();return PA(e,o,l),{viewCache:o,changes:l}}function PA(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Wl(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(dw(Wl(e)))}}function _w(t,e,n,r,s,i){const o=e.eventCache;if(Vl(r,n)!=null)return e;{let a,l;if(te(n))if(z(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=rs(e),f=c instanceof Q?c:Q.EMPTY_NODE,d=Bh(r,f);a=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const c=Ul(r,rs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=Z(n);if(c===".priority"){z(br(n)===1,"Can't have a priority with additional path components");const f=o.getNode();l=e.serverCache.getNode();const d=Yg(r,n,f,l);d!=null?a=t.filter.updatePriority(f,d):a=o.getNode()}else{const f=de(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=Yg(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(f,h):d=o.getNode().getImmediateChild(c)}else d=Wh(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,f,s,i):a=o.getNode()}}return lo(e,a,o.isFullyInitialized()||te(n),t.filter.filtersNodes())}}function Hl(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const f=o?t.filter:t.filter.getIndexedFilter();if(te(n))c=f.updateFullNode(l.getNode(),r,null);else if(f.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=f.updateFullNode(l.getNode(),p,null)}else{const p=Z(n);if(!l.isCompleteForPath(n)&&br(n)>1)return e;const y=de(n),_=l.getNode().getImmediateChild(p).updateChild(y,r);p===".priority"?c=f.updatePriority(l.getNode(),_):c=f.updateChild(l.getNode(),p,_,y,xw,null)}const d=hw(e,c,l.isFullyInitialized()||te(n),f.filtersNodes()),h=new Uh(s,d,i);return _w(t,d,n,s,h,a)}function nf(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const f=new Uh(s,e,i);if(te(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=lo(e,c,!0,t.filter.filtersNodes());else{const d=Z(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=lo(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=de(n),p=a.getNode().getImmediateChild(d);let y;if(te(h))y=r;else{const g=f.getCompleteChild(d);g!=null?Ah(h)===".priority"&&g.getChild(sw(h)).isEmpty()?y=g:y=g.updateChild(h,r):y=Q.EMPTY_NODE}if(p.equals(y))l=e;else{const g=t.filter.updateChild(a.getNode(),d,y,h,f,o);l=lo(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Qg(t,e){return t.eventCache.isCompleteForChild(e)}function RA(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const f=Ee(n,l);Qg(e,Z(f))&&(a=nf(t,a,f,c,s,i,o))}),r.foreach((l,c)=>{const f=Ee(n,l);Qg(e,Z(f))||(a=nf(t,a,f,c,s,i,o))}),a}function Kg(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function rf(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;te(n)?c=r:c=new ce(null).setTree(n,r);const f=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(f.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),y=Kg(t,p,h);l=Hl(t,l,new le(d),y,s,i,o,a)}}),c.children.inorderTraversal((d,h)=>{const p=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!f.hasChild(d)&&!p){const y=e.serverCache.getNode().getImmediateChild(d),g=Kg(t,y,h);l=Hl(t,l,new le(d),g,s,i,o,a)}}),l}function AA(t,e,n,r,s,i,o){if(Vl(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(te(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Hl(t,e,n,l.getNode().getChild(n),s,i,a,o);if(te(n)){let c=new ce(null);return l.getNode().forEachChild(Us,(f,d)=>{c=c.set(new le(f),d)}),rf(t,e,n,c,s,i,a,o)}else return e}else{let c=new ce(null);return r.foreach((f,d)=>{const h=Ee(n,f);l.isCompleteForPath(h)&&(c=c.set(f,l.getNode().getChild(h)))}),rf(t,e,n,c,s,i,a,o)}}function jA(t,e,n,r,s){const i=e.serverCache,o=hw(e,i.getNode(),i.isFullyInitialized()||te(n),i.isFiltered());return _w(t,o,n,r,xw,s)}function MA(t,e,n,r,s,i){let o;if(Vl(r,n)!=null)return e;{const a=new Uh(r,e,s),l=e.eventCache.getNode();let c;if(te(n)||Z(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=Ul(r,rs(e));else{const d=e.serverCache.getNode();z(d instanceof Q,"serverChildren would be complete if leaf node"),f=Bh(r,d)}f=f,c=t.filter.updateFullNode(l,f,i)}else{const f=Z(n);let d=Wh(r,f,e.serverCache);d==null&&e.serverCache.isCompleteForChild(f)&&(d=l.getImmediateChild(f)),d!=null?c=t.filter.updateChild(l,f,d,de(n),a,i):e.eventCache.getNode().hasChild(f)?c=t.filter.updateChild(l,f,Q.EMPTY_NODE,de(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ul(r,rs(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||Vl(r,ie())!=null,lo(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new Dh(r.getIndex()),i=ZR(r);this.processor_=kA(i);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(Q.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(Q.EMPTY_NODE,a.getNode(),null),f=new Sr(l,o.isFullyInitialized(),s.filtersNodes()),d=new Sr(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=kc(d,f),this.eventGenerator_=new oA(this.query_)}get query(){return this.query_}}function DA(t){return t.viewCache_.serverCache.getNode()}function LA(t){return Wl(t.viewCache_)}function FA(t,e){const n=rs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!te(e)&&!n.getImmediateChild(Z(e)).isEmpty())?n.getChild(e):null}function qg(t){return t.eventRegistrations_.length===0}function $A(t,e){t.eventRegistrations_.push(e)}function Xg(t,e,n){const r=[];if(n){z(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Jg(t,e,n,r){e.type===Gt.MERGE&&e.source.queryId!==null&&(z(rs(t.viewCache_),"We should always have a full cache before handling merges"),z(Wl(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=IA(t.processor_,s,e,n,r);return TA(t.processor_,i.viewCache),z(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,ww(t,i.changes,i.viewCache.eventCache.getNode(),null)}function zA(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ne,(i,o)=>{r.push(ci(i,o))}),n.isFullyInitialized()&&r.push(dw(n.getNode())),ww(t,r,n.getNode(),e)}function ww(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return aA(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gl;class bw{constructor(){this.views=new Map}}function BA(t){z(!Gl,"__referenceConstructor has already been defined"),Gl=t}function WA(){return z(Gl,"Reference.ts has not been loaded"),Gl}function UA(t){return t.views.size===0}function Vh(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return z(i!=null,"SyncTree gave us an op for an invalid query."),Jg(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(Jg(o,e,n,r));return i}}function Sw(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=Ul(n,s?r:null),l=!1;a?l=!0:r instanceof Q?(a=Bh(n,r),l=!1):(a=Q.EMPTY_NODE,l=!1);const c=kc(new Sr(a,l,!1),new Sr(r,s,!1));return new OA(e,c)}return o}function VA(t,e,n,r,s,i){const o=Sw(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),$A(o,n),zA(o,n)}function HA(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const a=Cr(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(Xg(c,n,r)),qg(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(Xg(l,n,r)),qg(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!Cr(t)&&i.push(new(WA())(e._repo,e._path)),{removed:i,events:o}}function Cw(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function mr(t,e){let n=null;for(const r of t.views.values())n=n||FA(r,e);return n}function Ew(t,e){if(e._queryParams.loadsAllData())return Ic(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Nw(t,e){return Ew(t,e)!=null}function Cr(t){return Ic(t)!=null}function Ic(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl;function GA(t){z(!Yl,"__referenceConstructor has already been defined"),Yl=t}function YA(){return z(Yl,"Reference.ts has not been loaded"),Yl}let QA=1;class Zg{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ce(null),this.pendingWriteTree_=SA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function kw(t,e,n,r,s){return dA(t.pendingWriteTree_,e,n,r,s),s?Si(t,new ns(Fh(),e,n)):[]}function KA(t,e,n,r){fA(t.pendingWriteTree_,e,n,r);const s=ce.fromObject(n);return Si(t,new ui(Fh(),e,s))}function rr(t,e,n=!1){const r=hA(t.pendingWriteTree_,e);if(pA(t.pendingWriteTree_,e)){let i=new ce(null);return r.snap!=null?i=i.set(ie(),!0):Ue(r.children,o=>{i=i.set(new le(o),!0)}),Si(t,new Bl(r.path,i,n))}else return[]}function ia(t,e,n){return Si(t,new ns($h(),e,n))}function qA(t,e,n){const r=ce.fromObject(n);return Si(t,new ui($h(),e,r))}function XA(t,e){return Si(t,new Bo($h(),e))}function JA(t,e,n){const r=Gh(t,n);if(r){const s=Yh(r),i=s.path,o=s.queryId,a=et(i,e),l=new Bo(zh(o),a);return Qh(t,i,l)}else return[]}function Ql(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||Nw(o,e))){const l=HA(o,e,n,r);UA(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!s){const f=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(i,(h,p)=>Cr(p));if(f&&!d){const h=t.syncPointTree_.subtree(i);if(!h.isEmpty()){const p=tj(h);for(let y=0;y<p.length;++y){const g=p[y],_=g.query,v=Rw(t,g);t.listenProvider_.startListening(uo(_),Wo(t,_),v.hashFn,v.onComplete)}}}!d&&c.length>0&&!r&&(f?t.listenProvider_.stopListening(uo(e),null):c.forEach(h=>{const p=t.queryToTagMap.get(Pc(h));t.listenProvider_.stopListening(uo(h),p)}))}nj(t,c)}return a}function Tw(t,e,n,r){const s=Gh(t,r);if(s!=null){const i=Yh(s),o=i.path,a=i.queryId,l=et(o,e),c=new ns(zh(a),l,n);return Qh(t,o,c)}else return[]}function ZA(t,e,n,r){const s=Gh(t,r);if(s){const i=Yh(s),o=i.path,a=i.queryId,l=et(o,e),c=ce.fromObject(n),f=new ui(zh(a),l,c);return Qh(t,o,f)}else return[]}function sf(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(h,p)=>{const y=et(h,s);i=i||mr(p,y),o=o||Cr(p)});let a=t.syncPointTree_.get(s);a?(o=o||Cr(a),i=i||mr(a,ie())):(a=new bw,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;i!=null?l=!0:(l=!1,i=Q.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((p,y)=>{const g=mr(y,ie());g&&(i=i.updateImmediateChild(p,g))}));const c=Nw(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=Pc(e);z(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const p=rj();t.queryToTagMap.set(h,p),t.tagToQueryMap.set(p,h)}const f=Tc(t.pendingWriteTree_,s);let d=VA(a,e,n,f,i,l);if(!c&&!o&&!r){const h=Ew(a,e);d=d.concat(sj(t,e,h))}return d}function Hh(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=et(o,e),c=mr(a,l);if(c)return c});return gw(s,e,i,n,!0)}function ej(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,f)=>{const d=et(c,n);r=r||mr(f,d)});let s=t.syncPointTree_.get(n);s?r=r||mr(s,ie()):(s=new bw,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new Sr(r,!0,!1):null,a=Tc(t.pendingWriteTree_,e._path),l=Sw(s,e,a,i?o.getNode():Q.EMPTY_NODE,i);return LA(l)}function Si(t,e){return Iw(e,t.syncPointTree_,null,Tc(t.pendingWriteTree_,ie()))}function Iw(t,e,n,r){if(te(t.path))return Pw(t,e,n,r);{const s=e.get(ie());n==null&&s!=null&&(n=mr(s,ie()));let i=[];const o=Z(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,f=yw(r,o);i=i.concat(Iw(a,l,c,f))}return s&&(i=i.concat(Vh(s,t,r,n))),i}}function Pw(t,e,n,r){const s=e.get(ie());n==null&&s!=null&&(n=mr(s,ie()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=yw(r,o),f=t.operationForChild(o);f&&(i=i.concat(Pw(f,a,l,c)))}),s&&(i=i.concat(Vh(s,t,r,n))),i}function Rw(t,e){const n=e.query,r=Wo(t,n);return{hashFn:()=>(DA(e)||Q.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?JA(t,n._path,r):XA(t,n._path);{const i=XP(s,n);return Ql(t,n,null,i)}}}}function Wo(t,e){const n=Pc(e);return t.queryToTagMap.get(n)}function Pc(t){return t._path.toString()+"$"+t._queryIdentifier}function Gh(t,e){return t.tagToQueryMap.get(e)}function Yh(t){const e=t.indexOf("$");return z(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new le(t.substr(0,e))}}function Qh(t,e,n){const r=t.syncPointTree_.get(e);z(r,"Missing sync point for query tag that we're tracking");const s=Tc(t.pendingWriteTree_,e);return Vh(r,n,s,null)}function tj(t){return t.fold((e,n,r)=>{if(n&&Cr(n))return[Ic(n)];{let s=[];return n&&(s=Cw(n)),Ue(r,(i,o)=>{s=s.concat(o)}),s}})}function uo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(YA())(t._repo,t._path):t}function nj(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=Pc(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function rj(){return QA++}function sj(t,e,n){const r=e._path,s=Wo(t,e),i=Rw(t,n),o=t.listenProvider_.startListening(uo(e),s,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(s)z(!Cr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,f,d)=>{if(!te(c)&&f&&Cr(f))return[Ic(f).query];{let h=[];return f&&(h=h.concat(Cw(f).map(p=>p.query))),Ue(d,(p,y)=>{h=h.concat(y)}),h}});for(let c=0;c<l.length;++c){const f=l[c];t.listenProvider_.stopListening(uo(f),Wo(t,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Kh(n)}node(){return this.node_}}class qh{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ee(this.path_,e);return new qh(this.syncTree_,n)}node(){return Hh(this.syncTree_,this.path_)}}const ij=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},ey=function(t,e,n){if(!t||typeof t!="object")return t;if(z(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return oj(t[".sv"],e,n);if(typeof t[".sv"]=="object")return aj(t[".sv"],e);z(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},oj=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:z(!1,"Unexpected server value: "+t)}},aj=function(t,e,n){t.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&z(!1,"Unexpected increment value: "+r);const s=e.node();if(z(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},Aw=function(t,e,n,r){return Xh(e,new qh(n,t),r)},jw=function(t,e,n){return Xh(t,new Kh(e),n)};function Xh(t,e,n){const r=t.getPriority().val(),s=ey(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=ey(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Oe(a,Ae(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Oe(s))),o.forEachChild(Ne,(a,l)=>{const c=Xh(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Zh(t,e){let n=e instanceof le?e:new le(e),r=t,s=Z(n);for(;s!==null;){const i=ai(r.node.children,s)||{children:{},childCount:0};r=new Jh(s,r,i),n=de(n),s=Z(n)}return r}function Ci(t){return t.node.value}function Mw(t,e){t.node.value=e,of(t)}function Ow(t){return t.node.childCount>0}function lj(t){return Ci(t)===void 0&&!Ow(t)}function Rc(t,e){Ue(t.node.children,(n,r)=>{e(new Jh(n,t,r))})}function Dw(t,e,n,r){n&&!r&&e(t),Rc(t,s=>{Dw(s,e,!0,r)}),n&&r&&e(t)}function cj(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function oa(t){return new le(t.parent===null?t.name:oa(t.parent)+"/"+t.name)}function of(t){t.parent!==null&&uj(t.parent,t.name,t)}function uj(t,e,n){const r=lj(n),s=pn(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,of(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,of(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=/[\[\].#$\/\u0000-\u001F\u007F]/,fj=/[\[\].#$\u0000-\u001F\u007F]/,Pu=10*1024*1024,ep=function(t){return typeof t=="string"&&t.length!==0&&!dj.test(t)},Lw=function(t){return typeof t=="string"&&t.length!==0&&!fj.test(t)},hj=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Lw(t)},pj=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!kh(t)||t&&typeof t=="object"&&pn(t,".sv")},mj=function(t,e,n,r){Ac(Cc(t,"value"),e,n)},Ac=function(t,e,n){const r=n instanceof le?new RR(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Dr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Dr(r)+" with contents = "+e.toString());if(kh(e))throw new Error(t+"contains "+e.toString()+" "+Dr(r));if(typeof e=="string"&&e.length>Pu/3&&Ec(e)>Pu)throw new Error(t+"contains a string greater than "+Pu+" utf8 bytes "+Dr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Ue(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!ep(o)))throw new Error(t+" contains an invalid key ("+o+") "+Dr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);AR(r,o),Ac(t,a,r),jR(r)}),s&&i)throw new Error(t+' contains ".value" child '+Dr(r)+" in addition to actual children.")}},gj=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=Lo(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!ep(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(PR);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&It(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},yj=function(t,e,n,r){const s=Cc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];Ue(e,(o,a)=>{const l=new le(o);if(Ac(s,a,Ee(n,l)),Ah(l)===".priority"&&!pj(a))throw new Error(s+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(l)}),gj(s,i)},Fw=function(t,e,n,r){if(!Lw(n))throw new Error(Cc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},vj=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Fw(t,e,n)},xj=function(t,e){if(Z(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},_j=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ep(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!hj(n))throw new Error(Cc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function jc(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!jh(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function $w(t,e,n){jc(t,n),zw(t,r=>jh(r,e))}function jt(t,e,n){jc(t,n),zw(t,r=>It(r,e)||It(e,r))}function zw(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(bj(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function bj(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();oo&&ze("event: "+n.toString()),bi(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj="repo_interrupt",Cj=25;class Ej{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wj,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zl(),this.transactionQueueTree_=new Jh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Nj(t,e,n){if(t.stats_=Ph(t.repoInfo_),t.forceRestClient_||tR())t.server_=new $l(t.repoInfo_,(r,s,i,o)=>{ty(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>ny(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{je(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Cn(t.repoInfo_,e,(r,s,i,o)=>{ty(t,r,s,i,o)},r=>{ny(t,r)},r=>{Tj(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=oR(t.repoInfo_,()=>new iA(t.stats_,t.server_)),t.infoData_=new eA,t.infoSyncTree_=new Zg({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=ia(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),tp(t,"connected",!1),t.serverSyncTree_=new Zg({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);jt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function kj(t){const n=t.infoData_.getNode(new le(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Mc(t){return ij({timestamp:kj(t)})}function ty(t,e,n,r,s){t.dataUpdateCount++;const i=new le(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=jl(n,c=>Ae(c));o=ZA(t.serverSyncTree_,i,l,s)}else{const l=Ae(n);o=Tw(t.serverSyncTree_,i,l,s)}else if(r){const l=jl(n,c=>Ae(c));o=qA(t.serverSyncTree_,i,l)}else{const l=Ae(n);o=ia(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=fi(t,i)),jt(t.eventQueue_,a,o)}function ny(t,e){tp(t,"connected",e),e===!1&&Aj(t)}function Tj(t,e){Ue(e,(n,r)=>{tp(t,n,r)})}function tp(t,e,n){const r=new le("/.info/"+e),s=Ae(n);t.infoData_.updateSnapshot(r,s);const i=ia(t.infoSyncTree_,r,s);jt(t.eventQueue_,r,i)}function np(t){return t.nextWriteId_++}function Ij(t,e,n){const r=ej(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=Ae(s).withIndex(e._queryParams.getIndex());sf(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=ia(t.serverSyncTree_,e._path,i);else{const a=Wo(t.serverSyncTree_,e);o=Tw(t.serverSyncTree_,e._path,i,a)}return jt(t.eventQueue_,e._path,o),Ql(t.serverSyncTree_,e,n,null,!0),i},s=>(aa(t,"get for query "+je(e)+" failed: "+s),Promise.reject(new Error(s))))}function Pj(t,e,n,r,s){aa(t,"set",{path:e.toString(),value:n,priority:r});const i=Mc(t),o=Ae(n,r),a=Hh(t.serverSyncTree_,e),l=jw(o,a,i),c=np(t),f=kw(t.serverSyncTree_,e,l,c,!0);jc(t.eventQueue_,f),t.server_.put(e.toString(),o.val(!0),(h,p)=>{const y=h==="ok";y||nt("set at "+e+" failed: "+h);const g=rr(t.serverSyncTree_,c,!y);jt(t.eventQueue_,e,g),af(t,s,h,p)});const d=sp(t,e);fi(t,d),jt(t.eventQueue_,d,[])}function Rj(t,e,n,r){aa(t,"update",{path:e.toString(),value:n});let s=!0;const i=Mc(t),o={};if(Ue(n,(a,l)=>{s=!1,o[a]=Aw(Ee(e,a),Ae(l),t.serverSyncTree_,i)}),s)ze("update() called with empty data.  Don't do anything."),af(t,r,"ok",void 0);else{const a=np(t),l=KA(t.serverSyncTree_,e,o,a);jc(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,f)=>{const d=c==="ok";d||nt("update at "+e+" failed: "+c);const h=rr(t.serverSyncTree_,a,!d),p=h.length>0?fi(t,e):e;jt(t.eventQueue_,p,h),af(t,r,c,f)}),Ue(n,c=>{const f=sp(t,Ee(e,c));fi(t,f)}),jt(t.eventQueue_,e,[])}}function Aj(t){aa(t,"onDisconnectEvents");const e=Mc(t),n=zl();Jd(t.onDisconnect_,ie(),(s,i)=>{const o=Aw(s,i,t.serverSyncTree_,e);fw(n,s,o)});let r=[];Jd(n,ie(),(s,i)=>{r=r.concat(ia(t.serverSyncTree_,s,i));const o=sp(t,s);fi(t,o)}),t.onDisconnect_=zl(),jt(t.eventQueue_,ie(),r)}function jj(t,e,n){let r;Z(e._path)===".info"?r=sf(t.infoSyncTree_,e,n):r=sf(t.serverSyncTree_,e,n),$w(t.eventQueue_,e._path,r)}function Bw(t,e,n){let r;Z(e._path)===".info"?r=Ql(t.infoSyncTree_,e,n):r=Ql(t.serverSyncTree_,e,n),$w(t.eventQueue_,e._path,r)}function Mj(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Sj)}function aa(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ze(n,...e)}function af(t,e,n,r){e&&bi(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function Ww(t,e,n){return Hh(t.serverSyncTree_,e,n)||Q.EMPTY_NODE}function rp(t,e=t.transactionQueueTree_){if(e||Oc(t,e),Ci(e)){const n=Vw(t,e);z(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&Oj(t,oa(e),n)}else Ow(e)&&Rc(e,n=>{rp(t,n)})}function Oj(t,e,n){const r=n.map(c=>c.currentWriteId),s=Ww(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const f=n[c];z(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const d=et(e,f.path);i=i.updateChild(d,f.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{aa(t,"transaction put response",{path:l.toString(),status:c});let f=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,f=f.concat(rr(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Oc(t,Zh(t.transactionQueueTree_,e)),rp(t,t.transactionQueueTree_),jt(t.eventQueue_,e,f);for(let h=0;h<d.length;h++)bi(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{nt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}fi(t,e)}},o)}function fi(t,e){const n=Uw(t,e),r=oa(n),s=Vw(t,n);return Dj(t,s,r),r}function Dj(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=et(n,l.path);let f=!1,d;if(z(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)f=!0,d=l.abortReason,s=s.concat(rr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Cj)f=!0,d="maxretry",s=s.concat(rr(t.serverSyncTree_,l.currentWriteId,!0));else{const h=Ww(t,l.path,o);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){Ac("transaction failed: Data returned ",p,l.path);let y=Ae(p);typeof p=="object"&&p!=null&&pn(p,".priority")||(y=y.updatePriority(h.getPriority()));const _=l.currentWriteId,v=Mc(t),m=jw(y,h,v);l.currentOutputSnapshotRaw=y,l.currentOutputSnapshotResolved=m,l.currentWriteId=np(t),o.splice(o.indexOf(_),1),s=s.concat(kw(t.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally)),s=s.concat(rr(t.serverSyncTree_,_,!0))}else f=!0,d="nodata",s=s.concat(rr(t.serverSyncTree_,l.currentWriteId,!0))}jt(t.eventQueue_,n,s),s=[],f&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Oc(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)bi(r[a]);rp(t,t.transactionQueueTree_)}function Uw(t,e){let n,r=t.transactionQueueTree_;for(n=Z(e);n!==null&&Ci(r)===void 0;)r=Zh(r,n),e=de(e),n=Z(e);return r}function Vw(t,e){const n=[];return Hw(t,e,n),n.sort((r,s)=>r.order-s.order),n}function Hw(t,e,n){const r=Ci(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Rc(e,s=>{Hw(t,s,n)})}function Oc(t,e){const n=Ci(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,Mw(e,n.length>0?n:void 0)}Rc(e,r=>{Oc(t,r)})}function sp(t,e){const n=oa(Uw(t,e)),r=Zh(t.transactionQueueTree_,e);return cj(r,s=>{Ru(t,s)}),Ru(t,r),Dw(r,s=>{Ru(t,s)}),n}function Ru(t,e){const n=Ci(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(z(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(z(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(rr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?Mw(e,void 0):n.length=i+1,jt(t.eventQueue_,oa(e),s);for(let o=0;o<r.length;o++)bi(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function Fj(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):nt(`Invalid query segment '${n}' in query '${t}'`)}return e}const ry=function(t,e){const n=$j(t),r=n.namespace;n.domain==="firebase.com"&&An(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&An("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||GP();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new K_(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new le(n.pathString)}},$j=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let f=t.indexOf("/");f===-1&&(f=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(f,d)),f<d&&(s=Lj(t.substring(f,d)));const h=Fj(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),n=e.substring(y+1),i=r}"ns"in h&&(i=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+je(this.snapshot.exportVal())}}class Bj{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return te(this._path)?null:Ah(this._path)}get ref(){return new Mn(this._repo,this._path)}get _queryIdentifier(){const e=Ug(this._queryParams),n=Th(e);return n==="{}"?"default":n}get _queryObject(){return Ug(this._queryParams)}isEqual(e){if(e=wi(e),!(e instanceof ip))return!1;const n=this._repo===e._repo,r=jh(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+IR(this._path)}}class Mn extends ip{constructor(e,n){super(e,n,new Lh,!1)}get parent(){const e=sw(this._path);return e===null?null:new Mn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Uo{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new le(e),r=lf(this.ref,e);return new Uo(this._node.getChild(n),r,Ne)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Uo(s,lf(this.ref,r),Ne)))}hasChild(e){const n=new le(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function St(t,e){return t=wi(t),t._checkNotDeleted("ref"),e!==void 0?lf(t._root,e):t._root}function lf(t,e){return t=wi(t),Z(t._path)===null?vj("child","path",e):Fw("child","path",e),new Mn(t._repo,Ee(t._path,e))}function Wj(t,e){t=wi(t),xj("set",t._path),mj("set",e,t._path);const n=new ea;return Pj(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function ys(t,e){yj("update",e,t._path);const n=new ea;return Rj(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Da(t){t=wi(t);const e=new Gw(()=>{}),n=new Dc(e);return Ij(t._repo,t,n).then(r=>new Uo(r,new Mn(t._repo,t._path),t._queryParams.getIndex()))}class Dc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new zj("value",this,new Uo(e.snapshotNode,new Mn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Bj(this,e,n):null}matches(e){return e instanceof Dc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Uj(t,e,n,r,s){const i=new Gw(n,void 0),o=new Dc(i);return jj(t._repo,t,o),()=>Bw(t._repo,t,o)}function Vj(t,e,n,r){return Uj(t,"value",e)}function Hj(t,e,n){Bw(t._repo,t,null)}BA(Mn);GA(Mn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj="FIREBASE_DATABASE_EMULATOR_HOST",cf={};let Yj=!1;function Qj(t,e,n,r){t.repoInfo_=new K_(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Kj(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||An("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ze("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=ry(i,s),a=o.repoInfo,l;typeof process<"u"&&Eg&&(l=Eg[Gj]),l?(i=`http://${l}?ns=${a.namespace}`,o=ry(i,s),a=o.repoInfo):o.repoInfo.secure;const c=new rR(t.name,t.options,e);_j("Invalid Firebase Database URL",o),te(o.path)||An("Database URL must point to the root of a Firebase Database (not including a child path).");const f=Xj(a,t,c,new nR(t.name,n));return new Jj(f,t)}function qj(t,e){const n=cf[e];(!n||n[t.key]!==t)&&An(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Mj(t),delete n[t.key]}function Xj(t,e,n,r){let s=cf[e.name];s||(s={},cf[e.name]=s);let i=s[t.toURLString()];return i&&An("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Ej(t,Yj,n,r),s[t.toURLString()]=i,i}class Jj{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Nj(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Mn(this._repo,ie())),this._rootInternal}_delete(){return this._rootInternal!==null&&(qj(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&An("Cannot call "+e+" on a deleted database.")}}function Zj(t=PP(),e){const n=NP(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=gI("database");r&&eM(n,...r)}return n}function eM(t,e,n,r={}){t=wi(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&An("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&An('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Ja(Ja.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:yI(r.mockUserToken,t.app.options.projectId);i=new Ja(o)}Qj(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t){zP(IP),Ol(new Mo("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return Kj(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Bs(Ng,kg,t),Bs(Ng,kg,"esm2017")}Cn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Cn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};tM();var nM="firebase",rM="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bs(nM,rM,"app");const sM={apiKey:"AIzaSyAFr8u9pp_aLhKxIvXfP9_rMgJUf5h_-vc",authDomain:"basketball-manager-6c466.firebaseapp.com",databaseURL:"https://basketball-manager-6c466-default-rtdb.europe-west1.firebasedatabase.app",projectId:"basketball-manager-6c466",storageBucket:"basketball-manager-6c466.firebasestorage.app",messagingSenderId:"299621848640",appId:"1:299621848640:web:a1d50705d62298e534f1a5"},iM=A_(sM),Ct=Zj(iM);function sy(){const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let n=0;n<6;n++)e+=t[Math.floor(Math.random()*t.length)];return e}function oM(){const[t,e]=w.useState(null),[n,r]=w.useState(null),[s,i]=w.useState(null),[o,a]=w.useState(null),[l,c]=w.useState(!1),[f,d]=w.useState(null),h=w.useRef(null),p=w.useRef(null),y=w.useRef(null);w.useRef(null);const g=w.useRef(null),_=w.useCallback((k,E,M)=>{g.current&&g.current();const P=St(Ct,`lobbies/${k}`),L=Vj(P,R=>{const F=R.val();if(!F)return;const B=p.current??E,U=y.current??M,T=B==="host"?F.guestTeamId:F.hostTeamId;if(e({lobbyCode:k,myRole:B,myTeamId:U,opponentTeamId:T,myReady:B==="host"?F.hostReady:F.guestReady,opponentReady:B==="host"?F.guestReady:F.hostReady,status:F.status}),F.gameState){const D={...F.gameState,selectedTeamId:U};r(D)}B==="host"&&F.hostFinances?i(F.hostFinances):B==="guest"&&F.guestFinances&&i(F.guestFinances),B==="host"&&F.guestFinances?a(F.guestFinances):B==="guest"&&F.hostFinances&&a(F.hostFinances),B==="host"&&F.status==="in_game"&&F.hostReady&&F.guestReady&&F.gameState&&v(k,F)});return g.current=()=>Hj(P),L},[]);async function v(k,E){if(!E.gameState||!E.hostTeamId||!E.guestTeamId)return;const M=St(Ct,`lobbies/${k}`),P={...E.gameState,selectedTeamId:E.hostTeamId,finances:E.hostFinances??E.gameState.finances},L=g_(P),R=L.finances,F=L.teams.find(G=>G.id===E.guestTeamId),B=L.seasonBonus==="bonus_ticket_10"?1.1:1,T=L.schedule.filter(G=>G.week===L.week&&G.homeTeamId===E.guestTeamId).length>0&&F?Math.round(F.prestige*1500/2*B):0,j=E.guestFinances??io(F,L.seasonModifier),D={...j,ticketIncome:j.ticketIncome+T},W=2*(L.teams.filter(G=>G.division===F.division).length-1);if(L.week>=W){const he=[...L.standings[F.division]||[]].sort((J,en)=>en.wins-J.wins||en.pointsFor-en.pointsAgainst-(J.pointsFor-J.pointsAgainst)).findIndex(J=>J.teamId===E.guestTeamId)+1;let Te=0;F.division==="rkl"?Te={1:23e4,2:2e5,3:19e4,4:16e4,5:15e4,6:125e3,7:1e5,8:75e3}[he]||0:Te={1:5e4,2:35e3,3:28e3,4:22e3}[he]||0,D.prizeIncome=D.prizeIncome+Te}const H={...L,selectedTeamId:E.hostTeamId};await ys(M,{gameState:H,hostFinances:R,guestFinances:D,hostReady:!1,guestReady:!1})}const m=w.useCallback(async k=>{c(!0),d(null);try{let E=sy();for(let L=0;L<5&&(await Da(St(Ct,`lobbies/${E}`))).exists();L++)E=sy();if(!zs.find(L=>L.id===k))throw new Error("Team not found");const P={status:"waiting",hostTeamId:k,guestTeamId:null,hostReady:!1,guestReady:!1,gameState:null,hostFinances:null,guestFinances:null,createdAt:Date.now()};return await Wj(St(Ct,`lobbies/${E}`),P),h.current=E,p.current="host",y.current=k,_(E,"host",k),E}catch(E){throw d(E.message??"Failed to create lobby"),E}finally{c(!1)}},[_]),x=w.useCallback(async(k,E)=>{c(!0),d(null);try{const M=await Da(St(Ct,`lobbies/${k}`));if(!M.exists())return d("Lobby not found. Check the code and try again."),!1;const P=M.val();return P.status!=="waiting"?(d("This lobby has already started."),!1):P.guestTeamId?(d("This lobby is full."),!1):P.hostTeamId===E?(d("That team is already taken by the host. Pick a different team."),!1):(await ys(St(Ct,`lobbies/${k}`),{guestTeamId:E}),h.current=k,p.current="guest",y.current=E,_(k,"guest",E),!0)}catch(M){return d(M.message??"Failed to join lobby"),!1}finally{c(!1)}},[_]),b=w.useCallback(async()=>{const k=h.current,E=p.current,M=y.current;if(!k||E!=="host"||!M)return;const L=(await Da(St(Ct,`lobbies/${k}`))).val();if(!(L!=null&&L.guestTeamId))return;const R=p_(M),F=R.teams.find(D=>D.id===M),B=R.teams.find(D=>D.id===L.guestTeamId),U=io(F,R.seasonModifier),T=io(B,R.seasonModifier),j={...R,selectedTeamId:M};await ys(St(Ct,`lobbies/${k}`),{status:"in_game",gameState:j,hostFinances:U,guestFinances:T})},[]),S=w.useCallback(async()=>{const k=h.current,E=p.current;if(!k||!E)return;const M=E==="host"?"hostReady":"guestReady";await ys(St(Ct,`lobbies/${k}`),{[M]:!0})},[]),C=w.useCallback(async()=>{const k=h.current,E=p.current;if(!k||!E)return;const M=E==="host"?"hostReady":"guestReady";await ys(St(Ct,`lobbies/${k}`),{[M]:!1})},[]),N=w.useCallback(async(k,E)=>{const M=h.current,P=p.current,L=y.current;if(!M||!P||!L)return;const F=(await Da(St(Ct,`lobbies/${M}/gameState`))).val();if(!F)return;const B=F.teams.map(T=>T.id===L?k.teams.find(j=>j.id===L):T),U=P==="host"?"hostFinances":"guestFinances";await ys(St(Ct,`lobbies/${M}`),{"gameState/teams":B,[U]:E})},[]),I=w.useCallback(()=>{g.current&&(g.current(),g.current=null),h.current=null,p.current=null,y.current=null,e(null),r(null),i(null),a(null),d(null)},[]);return w.useEffect(()=>()=>{g.current&&g.current()},[]),{lobbyState:t,gameState:n,myFinances:s,opponentFinances:o,isCreatingOrJoining:l,error:f,createLobby:m,joinLobby:x,startGame:b,setReady:S,cancelReady:C,updateMyTeam:N,leaveLobby:I}}function aM({onBack:t}){const{lobbyState:e,gameState:n,myFinances:r,opponentFinances:s,isCreatingOrJoining:i,error:o,createLobby:a,joinLobby:l,startGame:c,setReady:f,cancelReady:d,updateMyTeam:h,leaveLobby:p}=oM(),[y,g]=w.useState("menu"),[_,v]=w.useState(""),[m,x]=w.useState(null),[b,S]=w.useState(null),[C,N]=w.useState("rkl"),[I,k]=w.useState(!1),[E,M]=w.useState(null),P=o||E;if((e==null?void 0:e.status)==="in_game"&&n&&r)return u.jsx(XT,{initialGameState:n,initialFinances:r,lobbyState:e,onReady:f,onCancelReady:d,onUpdateTeam:h,onLeave:()=>{p(),t()},children:u.jsx(v_,{})});async function L(){if(m){M(null);try{const D=await a(m);S(D),g("waiting")}catch{M("Failed to create lobby. Check your internet connection.")}}}async function R(){if(!m||!_.trim())return;M(null),await l(_.trim().toUpperCase(),m)&&g("waiting")}async function F(){await c()}function B(){b&&(navigator.clipboard.writeText(b),k(!0),setTimeout(()=>k(!1),2e3))}function U(){p(),g("menu"),S(null),x(null),M(null)}const T=(e==null?void 0:e.myRole)==="guest"?e.opponentTeamId:null;function j({onConfirm:D,confirmLabel:Y,disabledTeamId:W}){return u.jsxs("div",{children:[u.jsx("div",{className:"flex gap-2 mb-4",children:xi.map(H=>u.jsx("button",{onClick:()=>N(H.id),className:`flex-1 py-2 rounded-lg text-sm font-semibold transition-all ${C===H.id?"bg-primary text-primary-foreground":"bg-card border border-border text-muted-foreground hover:text-foreground"}`,children:H.name},H.id))}),u.jsx("div",{className:"grid grid-cols-2 gap-2 mb-6",children:zs.filter(H=>H.division===C).map(H=>{const G=H.id===W,he=H.id===m;return u.jsxs("button",{onClick:()=>!G&&x(H.id),disabled:G,className:`relative p-3 rounded-xl border text-left transition-all ${he?"border-primary bg-primary/10":G?"opacity-40 cursor-not-allowed border-border bg-card":"border-border bg-card hover:border-primary/40"}`,children:[G&&u.jsx("div",{className:"absolute top-1.5 right-1.5 text-[9px] bg-destructive/20 text-destructive px-1.5 py-0.5 rounded font-bold",children:"TAKEN"}),u.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5",children:[u.jsx("div",{className:"w-8 h-8 rounded-md flex items-center justify-center text-[9px] font-black shrink-0",style:{backgroundColor:H.color+"33",color:H.color},children:H.shortName}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-bold text-foreground leading-tight",children:H.name}),u.jsxs("div",{className:"text-[10px] text-muted-foreground",children:["".repeat(H.prestige),"".repeat(5-H.prestige)]})]})]})]},H.id)})}),P&&u.jsx("div",{className:"mb-4 p-3 rounded-lg bg-destructive/10 border border-destructive/20 text-destructive text-sm",children:P}),u.jsx("button",{onClick:D,disabled:!m||i,className:"w-full py-3 rounded-lg bg-primary text-primary-foreground font-bold text-sm tracking-wide hover:opacity-90 transition-opacity disabled:opacity-40",children:i?"Please wait...":Y})]})}if(y==="menu")return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center px-4",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsx("div",{className:"text-5xl mb-3",children:""}),u.jsx("h1",{className:"text-3xl font-black text-foreground",children:"Multiplayer"}),u.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Play against a friend in real time"})]}),u.jsxs("div",{className:"w-full max-w-sm space-y-3",children:[u.jsxs("button",{onClick:()=>g("create_pick_team"),className:"w-full rounded-xl bg-primary text-primary-foreground px-6 py-4 text-left hover:opacity-90 active:scale-[0.98] transition-all",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-widest opacity-70 mb-0.5",children:"Host"}),u.jsx("div",{className:"text-lg font-black",children:"Create Lobby"}),u.jsx("div",{className:"text-sm opacity-70",children:"Get a 6-letter code to share"})]}),u.jsxs("button",{onClick:()=>g("join_enter_code"),className:"w-full rounded-xl bg-card border border-border px-6 py-4 text-left hover:border-primary/50 active:scale-[0.98] transition-all",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-widest text-primary opacity-80 mb-0.5",children:"Join"}),u.jsx("div",{className:"text-lg font-black text-foreground",children:"Join Lobby"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Enter your friend's code"})]})]}),u.jsx("button",{onClick:t,className:"mt-8 text-sm text-muted-foreground hover:text-foreground transition-colors",children:" Back to menu"})]});if(y==="create_pick_team")return u.jsxs("div",{className:"min-h-screen bg-background px-4 py-8 max-w-lg mx-auto",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("button",{onClick:()=>g("menu"),className:"text-sm text-muted-foreground hover:text-foreground mb-4 block",children:" Back"}),u.jsx("h2",{className:"text-2xl font-black text-foreground",children:"Pick Your Team"}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"You'll manage this team as the host"})]}),u.jsx(j,{onConfirm:L,confirmLabel:"Create Lobby "})]});if(y==="join_enter_code")return u.jsxs("div",{className:"min-h-screen bg-background px-4 py-8 max-w-lg mx-auto",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("button",{onClick:()=>g("menu"),className:"text-sm text-muted-foreground hover:text-foreground mb-4 block",children:" Back"}),u.jsx("h2",{className:"text-2xl font-black text-foreground",children:"Enter Lobby Code"}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Ask your friend for their 6-letter code"})]}),u.jsx("input",{type:"text",value:_,onChange:D=>v(D.target.value.toUpperCase().slice(0,6)),placeholder:"ABC123",maxLength:6,className:"w-full text-center text-3xl font-black tracking-[0.5em] bg-card border border-border rounded-xl py-4 px-6 text-foreground placeholder:text-muted-foreground/40 focus:outline-none focus:border-primary mb-6"}),u.jsx("button",{onClick:()=>_.length===6&&g("join_pick_team"),disabled:_.length!==6,className:"w-full py-3 rounded-lg bg-primary text-primary-foreground font-bold text-sm tracking-wide hover:opacity-90 disabled:opacity-40 transition-opacity",children:"Find Lobby "})]});if(y==="join_pick_team")return u.jsxs("div",{className:"min-h-screen bg-background px-4 py-8 max-w-lg mx-auto",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("button",{onClick:()=>g("join_enter_code"),className:"text-sm text-muted-foreground hover:text-foreground mb-4 block",children:" Back"}),u.jsx("h2",{className:"text-2xl font-black text-foreground",children:"Pick Your Team"}),u.jsxs("p",{className:"text-muted-foreground text-sm",children:["Joining lobby ",u.jsx("span",{className:"font-mono text-primary",children:_})]})]}),u.jsx(j,{onConfirm:R,confirmLabel:"Join Lobby ",disabledTeamId:T})]});if(y==="waiting"){const D=(e==null?void 0:e.myRole)==="host",Y=!!(e!=null&&e.opponentTeamId),W=zs.find(G=>G.id===(e==null?void 0:e.myTeamId)),H=zs.find(G=>G.id===(e==null?void 0:e.opponentTeamId));return u.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center px-4",children:u.jsxs("div",{className:"w-full max-w-sm",children:[D&&b&&u.jsxs("div",{className:"bg-card border border-border rounded-2xl p-6 mb-6 text-center",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground mb-2",children:"Share this code"}),u.jsx("div",{className:"text-4xl font-black tracking-[0.3em] text-foreground font-mono mb-4",children:b}),u.jsx("button",{onClick:B,className:"text-sm text-primary hover:opacity-80 transition-opacity font-medium",children:I?" Copied!":"Copy to clipboard"})]}),u.jsxs("div",{className:"bg-card border border-border rounded-2xl p-4 mb-4 space-y-3",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground mb-3",children:"Players"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-[10px] font-black",style:{backgroundColor:((W==null?void 0:W.color)??"#666")+"33",color:(W==null?void 0:W.color)??"#666"},children:(W==null?void 0:W.shortName)??"?"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-sm font-bold text-foreground",children:(W==null?void 0:W.name)??"You"}),u.jsx("div",{className:"text-xs text-muted-foreground",children:D?"Host (you)":"Guest (you)"})]}),u.jsx("span",{className:"text-green-500 text-xs font-semibold",children:" Ready"})]}),u.jsx("div",{className:"flex items-center gap-3",children:H?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-[10px] font-black",style:{backgroundColor:H.color+"33",color:H.color},children:H.shortName}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-sm font-bold text-foreground",children:H.name}),u.jsx("div",{className:"text-xs text-muted-foreground",children:D?"Guest":"Host"})]}),u.jsx("span",{className:"text-green-500 text-xs font-semibold",children:" Joined"})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-10 h-10 rounded-lg border-2 border-dashed border-border flex items-center justify-center text-muted-foreground",children:"?"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-sm font-bold text-muted-foreground",children:"Waiting for player..."}),u.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1.5",children:[u.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-amber-500 animate-pulse"}),"Not connected"]})]})]})})]}),D&&Y&&u.jsx("button",{onClick:F,className:"w-full py-3 rounded-lg bg-primary text-primary-foreground font-bold text-sm tracking-wide hover:opacity-90 transition-opacity mb-3",children:" Start Game "}),!D&&!Y&&u.jsx("div",{className:"text-center text-sm text-muted-foreground animate-pulse mb-3",children:"Waiting for host to start the game..."}),!D&&Y&&u.jsx("div",{className:"text-center text-sm text-muted-foreground mb-3",children:"Waiting for host to start the game..."}),u.jsx("button",{onClick:U,className:"w-full py-2 rounded-lg border border-border text-muted-foreground text-sm hover:text-foreground transition-colors",children:"Leave Lobby"})]})})}return null}function lM(){const{state:t,startGame:e}=Tr();return t?u.jsx(v_,{}):u.jsx(JT,{onSelectTeam:e})}const cM=()=>{const[t,e]=w.useState("menu");return t==="menu"?u.jsx(oI,{onSinglePlayer:()=>e("singleplayer"),onMultiplayer:()=>e("multiplayer")}):t==="multiplayer"?u.jsx(aM,{onBack:()=>e("menu")}):u.jsx(qT,{children:u.jsx(lM,{})})},uM=()=>{const t=i_();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),u.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},dM=new eT,fM=()=>u.jsx(nT,{client:dM,children:u.jsxs(Pk,{children:[u.jsx(hE,{}),u.jsx(HE,{}),u.jsx(BT,{basename:"/basketball-manager",children:u.jsxs(FT,{children:[u.jsx($d,{path:"/",element:u.jsx(cM,{})}),u.jsx($d,{path:"*",element:u.jsx(uM,{})})]})})]})});Tx(document.getElementById("root")).render(u.jsx(fM,{}));
