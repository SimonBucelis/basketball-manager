var yp=t=>{throw TypeError(t)};var Vc=(t,e,n)=>e.has(t)||yp("Cannot "+n);var A=(t,e,n)=>(Vc(t,e,"read from private field"),n?n.call(t):e.get(t)),ie=(t,e,n)=>e.has(t)?yp("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),X=(t,e,n,r)=>(Vc(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Je=(t,e,n)=>(Vc(t,e,"access private method"),n);var pa=(t,e,n,r)=>({set _(s){X(t,e,s,n)},get _(){return A(t,e,r)}});function c_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function yy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vy={exports:{}},ec={},xy={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xi=Symbol.for("react.element"),u_=Symbol.for("react.portal"),d_=Symbol.for("react.fragment"),f_=Symbol.for("react.strict_mode"),h_=Symbol.for("react.profiler"),p_=Symbol.for("react.provider"),m_=Symbol.for("react.context"),g_=Symbol.for("react.forward_ref"),y_=Symbol.for("react.suspense"),v_=Symbol.for("react.memo"),x_=Symbol.for("react.lazy"),vp=Symbol.iterator;function w_(t){return t===null||typeof t!="object"?null:(t=vp&&t[vp]||t["@@iterator"],typeof t=="function"?t:null)}var wy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_y=Object.assign,by={};function bo(t,e,n){this.props=t,this.context=e,this.refs=by,this.updater=n||wy}bo.prototype.isReactComponent={};bo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sy(){}Sy.prototype=bo.prototype;function yf(t,e,n){this.props=t,this.context=e,this.refs=by,this.updater=n||wy}var vf=yf.prototype=new Sy;vf.constructor=yf;_y(vf,bo.prototype);vf.isPureReactComponent=!0;var xp=Array.isArray,Cy=Object.prototype.hasOwnProperty,xf={current:null},ky={key:!0,ref:!0,__self:!0,__source:!0};function Ey(t,e,n){var r,s={},o=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)Cy.call(e,r)&&!ky.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Xi,type:t,key:o,ref:i,props:s,_owner:xf.current}}function __(t,e){return{$$typeof:Xi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xi}function b_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wp=/\/+/g;function Hc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?b_(""+t.key):e.toString(36)}function za(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Xi:case u_:i=!0}}if(i)return i=t,s=s(i),t=r===""?"."+Hc(i,0):r,xp(s)?(n="",t!=null&&(n=t.replace(wp,"$&/")+"/"),za(s,e,n,"",function(u){return u})):s!=null&&(wf(s)&&(s=__(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(wp,"$&/")+"/")+t)),e.push(s)),1;if(i=0,r=r===""?".":r+":",xp(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Hc(o,a);i+=za(o,e,n,l,s)}else if(l=w_(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Hc(o,a++),i+=za(o,e,n,l,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function ma(t,e,n){if(t==null)return t;var r=[],s=0;return za(t,r,"","",function(o){return e.call(n,o,s++)}),r}function S_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ft={current:null},Ba={transition:null},C_={ReactCurrentDispatcher:ft,ReactCurrentBatchConfig:Ba,ReactCurrentOwner:xf};function Ny(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:ma,forEach:function(t,e,n){ma(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ma(t,function(){e++}),e},toArray:function(t){return ma(t,function(e){return e})||[]},only:function(t){if(!wf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=bo;re.Fragment=d_;re.Profiler=h_;re.PureComponent=yf;re.StrictMode=f_;re.Suspense=y_;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C_;re.act=Ny;re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_y({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=xf.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Cy.call(e,l)&&!ky.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Xi,type:t.type,key:s,ref:o,props:r,_owner:i}};re.createContext=function(t){return t={$$typeof:m_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:p_,_context:t},t.Consumer=t};re.createElement=Ey;re.createFactory=function(t){var e=Ey.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:g_,render:t}};re.isValidElement=wf;re.lazy=function(t){return{$$typeof:x_,_payload:{_status:-1,_result:t},_init:S_}};re.memo=function(t,e){return{$$typeof:v_,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=Ba.transition;Ba.transition={};try{t()}finally{Ba.transition=e}};re.unstable_act=Ny;re.useCallback=function(t,e){return ft.current.useCallback(t,e)};re.useContext=function(t){return ft.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return ft.current.useDeferredValue(t)};re.useEffect=function(t,e){return ft.current.useEffect(t,e)};re.useId=function(){return ft.current.useId()};re.useImperativeHandle=function(t,e,n){return ft.current.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return ft.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return ft.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return ft.current.useMemo(t,e)};re.useReducer=function(t,e,n){return ft.current.useReducer(t,e,n)};re.useRef=function(t){return ft.current.useRef(t)};re.useState=function(t){return ft.current.useState(t)};re.useSyncExternalStore=function(t,e,n){return ft.current.useSyncExternalStore(t,e,n)};re.useTransition=function(){return ft.current.useTransition()};re.version="18.3.1";xy.exports=re;var _=xy.exports;const W=yy(_),Ty=c_({__proto__:null,default:W},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_=_,E_=Symbol.for("react.element"),N_=Symbol.for("react.fragment"),T_=Object.prototype.hasOwnProperty,I_=k_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,R_={key:!0,ref:!0,__self:!0,__source:!0};function Iy(t,e,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)T_.call(e,r)&&!R_.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:E_,type:t,key:o,ref:i,props:s,_owner:I_.current}}ec.Fragment=N_;ec.jsx=Iy;ec.jsxs=Iy;vy.exports=ec;var c=vy.exports,Ry={exports:{}},Pt={},Py={exports:{}},jy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,R){var F=C.length;C.push(R);e:for(;0<F;){var M=F-1>>>1,D=C[M];if(0<s(D,R))C[M]=R,C[F]=D,F=M;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var R=C[0],F=C.pop();if(F!==R){C[0]=F;e:for(var M=0,D=C.length,V=D>>>1;M<V;){var Y=2*(M+1)-1,le=C[Y],ve=Y+1,K=C[ve];if(0>s(le,F))ve<D&&0>s(K,le)?(C[M]=K,C[ve]=F,M=ve):(C[M]=le,C[Y]=F,M=Y);else if(ve<D&&0>s(K,F))C[M]=K,C[ve]=F,M=ve;else break e}}return R}function s(C,R){var F=C.sortIndex-R.sortIndex;return F!==0?F:C.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var l=[],u=[],h=1,f=null,d=3,p=!1,g=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(C){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=C)r(u),R.sortIndex=R.expirationTime,e(l,R);else break;R=n(u)}}function b(C){if(m=!1,x(C),!g)if(n(l)!==null)g=!0,L(E);else{var R=n(u);R!==null&&z(b,R.startTime-C)}}function E(C,R){g=!1,m&&(m=!1,y(N),N=-1),p=!0;var F=d;try{for(x(R),f=n(l);f!==null&&(!(f.expirationTime>R)||C&&!H());){var M=f.callback;if(typeof M=="function"){f.callback=null,d=f.priorityLevel;var D=M(f.expirationTime<=R);R=t.unstable_now(),typeof D=="function"?f.callback=D:f===n(l)&&r(l),x(R)}else r(l);f=n(l)}if(f!==null)var V=!0;else{var Y=n(u);Y!==null&&z(b,Y.startTime-R),V=!1}return V}finally{f=null,d=F,p=!1}}var S=!1,k=null,N=-1,O=5,j=-1;function H(){return!(t.unstable_now()-j<O)}function P(){if(k!==null){var C=t.unstable_now();j=C;var R=!0;try{R=k(!0,C)}finally{R?T():(S=!1,k=null)}}else S=!1}var T;if(typeof v=="function")T=function(){v(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,$=I.port2;I.port1.onmessage=P,T=function(){$.postMessage(null)}}else T=function(){w(P,0)};function L(C){k=C,S||(S=!0,T())}function z(C,R){N=w(function(){C(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,L(E))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(C){switch(d){case 1:case 2:case 3:var R=3;break;default:R=d}var F=d;d=R;try{return C()}finally{d=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,R){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var F=d;d=C;try{return R()}finally{d=F}},t.unstable_scheduleCallback=function(C,R,F){var M=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?M+F:M):F=M,C){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=F+D,C={id:h++,callback:R,priorityLevel:C,startTime:F,expirationTime:D,sortIndex:-1},F>M?(C.sortIndex=F,e(u,C),n(l)===null&&C===n(u)&&(m?(y(N),N=-1):m=!0,z(b,F-M))):(C.sortIndex=D,e(l,C),g||p||(g=!0,L(E))),C},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(C){var R=d;return function(){var F=d;d=R;try{return C.apply(this,arguments)}finally{d=F}}}})(jy);Py.exports=jy;var P_=Py.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_=_,It=P_;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var My=new Set,yi={};function ms(t,e){io(t,e),io(t+"Capture",e)}function io(t,e){for(yi[t]=e,t=0;t<e.length;t++)My.add(e[t])}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fu=Object.prototype.hasOwnProperty,M_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_p={},bp={};function A_(t){return Fu.call(bp,t)?!0:Fu.call(_p,t)?!1:M_.test(t)?bp[t]=!0:(_p[t]=!0,!1)}function O_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function D_(t,e,n,r){if(e===null||typeof e>"u"||O_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ht(t,e,n,r,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qe[t]=new ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qe[e]=new ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qe[t]=new ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qe[t]=new ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qe[t]=new ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qe[t]=new ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qe[t]=new ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qe[t]=new ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qe[t]=new ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var _f=/[\-:]([a-z])/g;function bf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_f,bf);qe[e]=new ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_f,bf);qe[e]=new ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_f,bf);qe[e]=new ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qe[t]=new ht(t,1,!1,t.toLowerCase(),null,!1,!1)});qe.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qe[t]=new ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sf(t,e,n,r){var s=qe.hasOwnProperty(e)?qe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(D_(e,n,s,r)&&(n=null),r||s===null?A_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vn=j_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ga=Symbol.for("react.element"),Es=Symbol.for("react.portal"),Ns=Symbol.for("react.fragment"),Cf=Symbol.for("react.strict_mode"),zu=Symbol.for("react.profiler"),Ay=Symbol.for("react.provider"),Oy=Symbol.for("react.context"),kf=Symbol.for("react.forward_ref"),Bu=Symbol.for("react.suspense"),$u=Symbol.for("react.suspense_list"),Ef=Symbol.for("react.memo"),Zn=Symbol.for("react.lazy"),Dy=Symbol.for("react.offscreen"),Sp=Symbol.iterator;function Ao(t){return t===null||typeof t!="object"?null:(t=Sp&&t[Sp]||t["@@iterator"],typeof t=="function"?t:null)}var Te=Object.assign,Gc;function Xo(t){if(Gc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gc=e&&e[1]||""}return`
`+Gc+t}var Yc=!1;function Qc(t,e){if(!t||Yc)return"";Yc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=a);break}}}finally{Yc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xo(t):""}function L_(t){switch(t.tag){case 5:return Xo(t.type);case 16:return Xo("Lazy");case 13:return Xo("Suspense");case 19:return Xo("SuspenseList");case 0:case 2:case 15:return t=Qc(t.type,!1),t;case 11:return t=Qc(t.type.render,!1),t;case 1:return t=Qc(t.type,!0),t;default:return""}}function Wu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ns:return"Fragment";case Es:return"Portal";case zu:return"Profiler";case Cf:return"StrictMode";case Bu:return"Suspense";case $u:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Oy:return(t.displayName||"Context")+".Consumer";case Ay:return(t._context.displayName||"Context")+".Provider";case kf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ef:return e=t.displayName||null,e!==null?e:Wu(t.type)||"Memo";case Zn:e=t._payload,t=t._init;try{return Wu(t(e))}catch{}}return null}function F_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wu(e);case 8:return e===Cf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ly(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function z_(t){var e=Ly(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ya(t){t._valueTracker||(t._valueTracker=z_(t))}function Fy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ly(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Uu(t,e){var n=e.checked;return Te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Cp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Cr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zy(t,e){e=e.checked,e!=null&&Sf(t,"checked",e,!1)}function Vu(t,e){zy(t,e);var n=Cr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Hu(t,e.type,Cr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function kp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Hu(t,e,n){(e!=="number"||nl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jo=Array.isArray;function Bs(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Cr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Gu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ep(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Jo(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Cr(n)}}function By(t,e){var n=Cr(e.value),r=Cr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Np(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $y(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$y(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var va,Wy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(va=va||document.createElement("div"),va.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=va.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B_=["Webkit","ms","Moz","O"];Object.keys(ni).forEach(function(t){B_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ni[e]=ni[t]})});function Uy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ni.hasOwnProperty(t)&&ni[t]?(""+e).trim():e+"px"}function Vy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Uy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var $_=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qu(t,e){if(e){if($_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Ku(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qu=null;function Nf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xu=null,$s=null,Ws=null;function Tp(t){if(t=ea(t)){if(typeof Xu!="function")throw Error(B(280));var e=t.stateNode;e&&(e=oc(e),Xu(t.stateNode,t.type,e))}}function Hy(t){$s?Ws?Ws.push(t):Ws=[t]:$s=t}function Gy(){if($s){var t=$s,e=Ws;if(Ws=$s=null,Tp(t),e)for(t=0;t<e.length;t++)Tp(e[t])}}function Yy(t,e){return t(e)}function Qy(){}var Kc=!1;function Ky(t,e,n){if(Kc)return t(e,n);Kc=!0;try{return Yy(t,e,n)}finally{Kc=!1,($s!==null||Ws!==null)&&(Qy(),Gy())}}function xi(t,e){var n=t.stateNode;if(n===null)return null;var r=oc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Ju=!1;if(Dn)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){Ju=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{Ju=!1}function W_(t,e,n,r,s,o,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var ri=!1,rl=null,sl=!1,Zu=null,U_={onError:function(t){ri=!0,rl=t}};function V_(t,e,n,r,s,o,i,a,l){ri=!1,rl=null,W_.apply(U_,arguments)}function H_(t,e,n,r,s,o,i,a,l){if(V_.apply(this,arguments),ri){if(ri){var u=rl;ri=!1,rl=null}else throw Error(B(198));sl||(sl=!0,Zu=u)}}function gs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ip(t){if(gs(t)!==t)throw Error(B(188))}function G_(t){var e=t.alternate;if(!e){if(e=gs(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Ip(s),t;if(o===r)return Ip(s),e;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function Xy(t){return t=G_(t),t!==null?Jy(t):null}function Jy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jy(t);if(e!==null)return e;t=t.sibling}return null}var Zy=It.unstable_scheduleCallback,Rp=It.unstable_cancelCallback,Y_=It.unstable_shouldYield,Q_=It.unstable_requestPaint,Oe=It.unstable_now,K_=It.unstable_getCurrentPriorityLevel,Tf=It.unstable_ImmediatePriority,ev=It.unstable_UserBlockingPriority,ol=It.unstable_NormalPriority,q_=It.unstable_LowPriority,tv=It.unstable_IdlePriority,tc=null,wn=null;function X_(t){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(tc,t,void 0,(t.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:eb,J_=Math.log,Z_=Math.LN2;function eb(t){return t>>>=0,t===0?32:31-(J_(t)/Z_|0)|0}var xa=64,wa=4194304;function Zo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function il(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=Zo(a):(o&=i,o!==0&&(r=Zo(o)))}else i=n&~s,i!==0?r=Zo(i):o!==0&&(r=Zo(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-on(e),s=1<<n,r|=t[n],e&=~s;return r}function tb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-on(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=tb(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function ed(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nv(){var t=xa;return xa<<=1,!(xa&4194240)&&(xa=64),t}function qc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ji(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-on(e),t[e]=n}function rb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-on(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function If(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-on(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var de=0;function rv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sv,Rf,ov,iv,av,td=!1,_a=[],fr=null,hr=null,pr=null,wi=new Map,_i=new Map,tr=[],sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pp(t,e){switch(t){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":wi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_i.delete(e.pointerId)}}function Do(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=ea(e),e!==null&&Rf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ob(t,e,n,r,s){switch(e){case"focusin":return fr=Do(fr,t,e,n,r,s),!0;case"dragenter":return hr=Do(hr,t,e,n,r,s),!0;case"mouseover":return pr=Do(pr,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return wi.set(o,Do(wi.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,_i.set(o,Do(_i.get(o)||null,t,e,n,r,s)),!0}return!1}function lv(t){var e=Gr(t.target);if(e!==null){var n=gs(e);if(n!==null){if(e=n.tag,e===13){if(e=qy(n),e!==null){t.blockedOn=e,av(t.priority,function(){ov(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $a(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qu=r,n.target.dispatchEvent(r),qu=null}else return e=ea(n),e!==null&&Rf(e),t.blockedOn=n,!1;e.shift()}return!0}function jp(t,e,n){$a(t)&&n.delete(e)}function ib(){td=!1,fr!==null&&$a(fr)&&(fr=null),hr!==null&&$a(hr)&&(hr=null),pr!==null&&$a(pr)&&(pr=null),wi.forEach(jp),_i.forEach(jp)}function Lo(t,e){t.blockedOn===e&&(t.blockedOn=null,td||(td=!0,It.unstable_scheduleCallback(It.unstable_NormalPriority,ib)))}function bi(t){function e(s){return Lo(s,t)}if(0<_a.length){Lo(_a[0],t);for(var n=1;n<_a.length;n++){var r=_a[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fr!==null&&Lo(fr,t),hr!==null&&Lo(hr,t),pr!==null&&Lo(pr,t),wi.forEach(e),_i.forEach(e),n=0;n<tr.length;n++)r=tr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<tr.length&&(n=tr[0],n.blockedOn===null);)lv(n),n.blockedOn===null&&tr.shift()}var Us=Vn.ReactCurrentBatchConfig,al=!0;function ab(t,e,n,r){var s=de,o=Us.transition;Us.transition=null;try{de=1,Pf(t,e,n,r)}finally{de=s,Us.transition=o}}function lb(t,e,n,r){var s=de,o=Us.transition;Us.transition=null;try{de=4,Pf(t,e,n,r)}finally{de=s,Us.transition=o}}function Pf(t,e,n,r){if(al){var s=nd(t,e,n,r);if(s===null)iu(t,e,r,ll,n),Pp(t,r);else if(ob(s,t,e,n,r))r.stopPropagation();else if(Pp(t,r),e&4&&-1<sb.indexOf(t)){for(;s!==null;){var o=ea(s);if(o!==null&&sv(o),o=nd(t,e,n,r),o===null&&iu(t,e,r,ll,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else iu(t,e,r,null,n)}}var ll=null;function nd(t,e,n,r){if(ll=null,t=Nf(r),t=Gr(t),t!==null)if(e=gs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ll=t,null}function cv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K_()){case Tf:return 1;case ev:return 4;case ol:case q_:return 16;case tv:return 536870912;default:return 16}default:return 16}}var lr=null,jf=null,Wa=null;function uv(){if(Wa)return Wa;var t,e=jf,n=e.length,r,s="value"in lr?lr.value:lr.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===s[o-r];r++);return Wa=s.slice(t,1<r?1-r:void 0)}function Ua(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ba(){return!0}function Mp(){return!1}function jt(t){function e(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ba:Mp,this.isPropagationStopped=Mp,this}return Te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ba)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ba)},persist:function(){},isPersistent:ba}),e}var So={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mf=jt(So),Zi=Te({},So,{view:0,detail:0}),cb=jt(Zi),Xc,Jc,Fo,nc=Te({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Af,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fo&&(Fo&&t.type==="mousemove"?(Xc=t.screenX-Fo.screenX,Jc=t.screenY-Fo.screenY):Jc=Xc=0,Fo=t),Xc)},movementY:function(t){return"movementY"in t?t.movementY:Jc}}),Ap=jt(nc),ub=Te({},nc,{dataTransfer:0}),db=jt(ub),fb=Te({},Zi,{relatedTarget:0}),Zc=jt(fb),hb=Te({},So,{animationName:0,elapsedTime:0,pseudoElement:0}),pb=jt(hb),mb=Te({},So,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gb=jt(mb),yb=Te({},So,{data:0}),Op=jt(yb),vb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _b(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wb[t])?!!e[t]:!1}function Af(){return _b}var bb=Te({},Zi,{key:function(t){if(t.key){var e=vb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ua(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Af,charCode:function(t){return t.type==="keypress"?Ua(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ua(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sb=jt(bb),Cb=Te({},nc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dp=jt(Cb),kb=Te({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Af}),Eb=jt(kb),Nb=Te({},So,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tb=jt(Nb),Ib=Te({},nc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rb=jt(Ib),Pb=[9,13,27,32],Of=Dn&&"CompositionEvent"in window,si=null;Dn&&"documentMode"in document&&(si=document.documentMode);var jb=Dn&&"TextEvent"in window&&!si,dv=Dn&&(!Of||si&&8<si&&11>=si),Lp=" ",Fp=!1;function fv(t,e){switch(t){case"keyup":return Pb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ts=!1;function Mb(t,e){switch(t){case"compositionend":return hv(e);case"keypress":return e.which!==32?null:(Fp=!0,Lp);case"textInput":return t=e.data,t===Lp&&Fp?null:t;default:return null}}function Ab(t,e){if(Ts)return t==="compositionend"||!Of&&fv(t,e)?(t=uv(),Wa=jf=lr=null,Ts=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dv&&e.locale!=="ko"?null:e.data;default:return null}}var Ob={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ob[t.type]:e==="textarea"}function pv(t,e,n,r){Hy(r),e=cl(e,"onChange"),0<e.length&&(n=new Mf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var oi=null,Si=null;function Db(t){kv(t,0)}function rc(t){var e=Ps(t);if(Fy(e))return t}function Lb(t,e){if(t==="change")return e}var mv=!1;if(Dn){var eu;if(Dn){var tu="oninput"in document;if(!tu){var Bp=document.createElement("div");Bp.setAttribute("oninput","return;"),tu=typeof Bp.oninput=="function"}eu=tu}else eu=!1;mv=eu&&(!document.documentMode||9<document.documentMode)}function $p(){oi&&(oi.detachEvent("onpropertychange",gv),Si=oi=null)}function gv(t){if(t.propertyName==="value"&&rc(Si)){var e=[];pv(e,Si,t,Nf(t)),Ky(Db,e)}}function Fb(t,e,n){t==="focusin"?($p(),oi=e,Si=n,oi.attachEvent("onpropertychange",gv)):t==="focusout"&&$p()}function zb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rc(Si)}function Bb(t,e){if(t==="click")return rc(e)}function $b(t,e){if(t==="input"||t==="change")return rc(e)}function Wb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cn=typeof Object.is=="function"?Object.is:Wb;function Ci(t,e){if(cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Fu.call(e,s)||!cn(t[s],e[s]))return!1}return!0}function Wp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Up(t,e){var n=Wp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wp(n)}}function yv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vv(){for(var t=window,e=nl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nl(t.document)}return e}function Df(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ub(t){var e=vv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yv(n.ownerDocument.documentElement,n)){if(r!==null&&Df(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=Up(n,o);var i=Up(n,r);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Vb=Dn&&"documentMode"in document&&11>=document.documentMode,Is=null,rd=null,ii=null,sd=!1;function Vp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sd||Is==null||Is!==nl(r)||(r=Is,"selectionStart"in r&&Df(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ii&&Ci(ii,r)||(ii=r,r=cl(rd,"onSelect"),0<r.length&&(e=new Mf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Is)))}function Sa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Rs={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionend:Sa("Transition","TransitionEnd")},nu={},xv={};Dn&&(xv=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function sc(t){if(nu[t])return nu[t];if(!Rs[t])return t;var e=Rs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xv)return nu[t]=e[n];return t}var wv=sc("animationend"),_v=sc("animationiteration"),bv=sc("animationstart"),Sv=sc("transitionend"),Cv=new Map,Hp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(t,e){Cv.set(t,e),ms(e,[t])}for(var ru=0;ru<Hp.length;ru++){var su=Hp[ru],Hb=su.toLowerCase(),Gb=su[0].toUpperCase()+su.slice(1);Mr(Hb,"on"+Gb)}Mr(wv,"onAnimationEnd");Mr(_v,"onAnimationIteration");Mr(bv,"onAnimationStart");Mr("dblclick","onDoubleClick");Mr("focusin","onFocus");Mr("focusout","onBlur");Mr(Sv,"onTransitionEnd");io("onMouseEnter",["mouseout","mouseover"]);io("onMouseLeave",["mouseout","mouseover"]);io("onPointerEnter",["pointerout","pointerover"]);io("onPointerLeave",["pointerout","pointerover"]);ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yb=new Set("cancel close invalid load scroll toggle".split(" ").concat(ei));function Gp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,H_(r,e,void 0,t),t.currentTarget=null}function kv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;Gp(s,a,u),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;Gp(s,a,u),o=l}}}if(sl)throw t=Zu,sl=!1,Zu=null,t}function we(t,e){var n=e[cd];n===void 0&&(n=e[cd]=new Set);var r=t+"__bubble";n.has(r)||(Ev(e,t,2,!1),n.add(r))}function ou(t,e,n){var r=0;e&&(r|=4),Ev(n,t,r,e)}var Ca="_reactListening"+Math.random().toString(36).slice(2);function ki(t){if(!t[Ca]){t[Ca]=!0,My.forEach(function(n){n!=="selectionchange"&&(Yb.has(n)||ou(n,!1,t),ou(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ca]||(e[Ca]=!0,ou("selectionchange",!1,e))}}function Ev(t,e,n,r){switch(cv(e)){case 1:var s=ab;break;case 4:s=lb;break;default:s=Pf}n=s.bind(null,e,n,t),s=void 0,!Ju||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function iu(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Gr(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}Ky(function(){var u=o,h=Nf(n),f=[];e:{var d=Cv.get(t);if(d!==void 0){var p=Mf,g=t;switch(t){case"keypress":if(Ua(n)===0)break e;case"keydown":case"keyup":p=Sb;break;case"focusin":g="focus",p=Zc;break;case"focusout":g="blur",p=Zc;break;case"beforeblur":case"afterblur":p=Zc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ap;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=db;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Eb;break;case wv:case _v:case bv:p=pb;break;case Sv:p=Tb;break;case"scroll":p=cb;break;case"wheel":p=Rb;break;case"copy":case"cut":case"paste":p=gb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Dp}var m=(e&4)!==0,w=!m&&t==="scroll",y=m?d!==null?d+"Capture":null:d;m=[];for(var v=u,x;v!==null;){x=v;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,y!==null&&(b=xi(v,y),b!=null&&m.push(Ei(v,b,x)))),w)break;v=v.return}0<m.length&&(d=new p(d,g,null,n,h),f.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==qu&&(g=n.relatedTarget||n.fromElement)&&(Gr(g)||g[Ln]))break e;if((p||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Gr(g):null,g!==null&&(w=gs(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=Ap,b="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=Dp,b="onPointerLeave",y="onPointerEnter",v="pointer"),w=p==null?d:Ps(p),x=g==null?d:Ps(g),d=new m(b,v+"leave",p,n,h),d.target=w,d.relatedTarget=x,b=null,Gr(h)===u&&(m=new m(y,v+"enter",g,n,h),m.target=x,m.relatedTarget=w,b=m),w=b,p&&g)t:{for(m=p,y=g,v=0,x=m;x;x=Cs(x))v++;for(x=0,b=y;b;b=Cs(b))x++;for(;0<v-x;)m=Cs(m),v--;for(;0<x-v;)y=Cs(y),x--;for(;v--;){if(m===y||y!==null&&m===y.alternate)break t;m=Cs(m),y=Cs(y)}m=null}else m=null;p!==null&&Yp(f,d,p,m,!1),g!==null&&w!==null&&Yp(f,w,g,m,!0)}}e:{if(d=u?Ps(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var E=Lb;else if(zp(d))if(mv)E=$b;else{E=zb;var S=Fb}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=Bb);if(E&&(E=E(t,u))){pv(f,E,n,h);break e}S&&S(t,d,u),t==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&Hu(d,"number",d.value)}switch(S=u?Ps(u):window,t){case"focusin":(zp(S)||S.contentEditable==="true")&&(Is=S,rd=u,ii=null);break;case"focusout":ii=rd=Is=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,Vp(f,n,h);break;case"selectionchange":if(Vb)break;case"keydown":case"keyup":Vp(f,n,h)}var k;if(Of)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Ts?fv(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(dv&&n.locale!=="ko"&&(Ts||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ts&&(k=uv()):(lr=h,jf="value"in lr?lr.value:lr.textContent,Ts=!0)),S=cl(u,N),0<S.length&&(N=new Op(N,t,null,n,h),f.push({event:N,listeners:S}),k?N.data=k:(k=hv(n),k!==null&&(N.data=k)))),(k=jb?Mb(t,n):Ab(t,n))&&(u=cl(u,"onBeforeInput"),0<u.length&&(h=new Op("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=k))}kv(f,e)})}function Ei(t,e,n){return{instance:t,listener:e,currentTarget:n}}function cl(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=xi(t,n),o!=null&&r.unshift(Ei(t,o,s)),o=xi(t,e),o!=null&&r.push(Ei(t,o,s))),t=t.return}return r}function Cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yp(t,e,n,r,s){for(var o=e._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=xi(n,o),l!=null&&i.unshift(Ei(n,l,a))):s||(l=xi(n,o),l!=null&&i.push(Ei(n,l,a)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var Qb=/\r\n?/g,Kb=/\u0000|\uFFFD/g;function Qp(t){return(typeof t=="string"?t:""+t).replace(Qb,`
`).replace(Kb,"")}function ka(t,e,n){if(e=Qp(e),Qp(t)!==e&&n)throw Error(B(425))}function ul(){}var od=null,id=null;function ad(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ld=typeof setTimeout=="function"?setTimeout:void 0,qb=typeof clearTimeout=="function"?clearTimeout:void 0,Kp=typeof Promise=="function"?Promise:void 0,Xb=typeof queueMicrotask=="function"?queueMicrotask:typeof Kp<"u"?function(t){return Kp.resolve(null).then(t).catch(Jb)}:ld;function Jb(t){setTimeout(function(){throw t})}function au(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),bi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);bi(e)}function mr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Co=Math.random().toString(36).slice(2),vn="__reactFiber$"+Co,Ni="__reactProps$"+Co,Ln="__reactContainer$"+Co,cd="__reactEvents$"+Co,Zb="__reactListeners$"+Co,e2="__reactHandles$"+Co;function Gr(t){var e=t[vn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ln]||n[vn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qp(t);t!==null;){if(n=t[vn])return n;t=qp(t)}return e}t=n,n=t.parentNode}return null}function ea(t){return t=t[vn]||t[Ln],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ps(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function oc(t){return t[Ni]||null}var ud=[],js=-1;function Ar(t){return{current:t}}function _e(t){0>js||(t.current=ud[js],ud[js]=null,js--)}function ye(t,e){js++,ud[js]=t.current,t.current=e}var kr={},rt=Ar(kr),xt=Ar(!1),os=kr;function ao(t,e){var n=t.type.contextTypes;if(!n)return kr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function wt(t){return t=t.childContextTypes,t!=null}function dl(){_e(xt),_e(rt)}function Xp(t,e,n){if(rt.current!==kr)throw Error(B(168));ye(rt,e),ye(xt,n)}function Nv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,F_(t)||"Unknown",s));return Te({},n,r)}function fl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kr,os=rt.current,ye(rt,t),ye(xt,xt.current),!0}function Jp(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=Nv(t,e,os),r.__reactInternalMemoizedMergedChildContext=t,_e(xt),_e(rt),ye(rt,t)):_e(xt),ye(xt,n)}var In=null,ic=!1,lu=!1;function Tv(t){In===null?In=[t]:In.push(t)}function t2(t){ic=!0,Tv(t)}function Or(){if(!lu&&In!==null){lu=!0;var t=0,e=de;try{var n=In;for(de=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}In=null,ic=!1}catch(s){throw In!==null&&(In=In.slice(t+1)),Zy(Tf,Or),s}finally{de=e,lu=!1}}return null}var Ms=[],As=0,hl=null,pl=0,Lt=[],Ft=0,is=null,Pn=1,jn="";function Br(t,e){Ms[As++]=pl,Ms[As++]=hl,hl=t,pl=e}function Iv(t,e,n){Lt[Ft++]=Pn,Lt[Ft++]=jn,Lt[Ft++]=is,is=t;var r=Pn;t=jn;var s=32-on(r)-1;r&=~(1<<s),n+=1;var o=32-on(e)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Pn=1<<32-on(e)+s|n<<s|r,jn=o+t}else Pn=1<<o|n<<s|r,jn=t}function Lf(t){t.return!==null&&(Br(t,1),Iv(t,1,0))}function Ff(t){for(;t===hl;)hl=Ms[--As],Ms[As]=null,pl=Ms[--As],Ms[As]=null;for(;t===is;)is=Lt[--Ft],Lt[Ft]=null,jn=Lt[--Ft],Lt[Ft]=null,Pn=Lt[--Ft],Lt[Ft]=null}var Nt=null,Et=null,Ce=!1,nn=null;function Rv(t,e){var n=zt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Zp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nt=t,Et=mr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nt=t,Et=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=is!==null?{id:Pn,overflow:jn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nt=t,Et=null,!0):!1;default:return!1}}function dd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fd(t){if(Ce){var e=Et;if(e){var n=e;if(!Zp(t,e)){if(dd(t))throw Error(B(418));e=mr(n.nextSibling);var r=Nt;e&&Zp(t,e)?Rv(r,n):(t.flags=t.flags&-4097|2,Ce=!1,Nt=t)}}else{if(dd(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ce=!1,Nt=t}}}function em(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nt=t}function Ea(t){if(t!==Nt)return!1;if(!Ce)return em(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ad(t.type,t.memoizedProps)),e&&(e=Et)){if(dd(t))throw Pv(),Error(B(418));for(;e;)Rv(t,e),e=mr(e.nextSibling)}if(em(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Et=mr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Et=null}}else Et=Nt?mr(t.stateNode.nextSibling):null;return!0}function Pv(){for(var t=Et;t;)t=mr(t.nextSibling)}function lo(){Et=Nt=null,Ce=!1}function zf(t){nn===null?nn=[t]:nn.push(t)}var n2=Vn.ReactCurrentBatchConfig;function zo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Na(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tm(t){var e=t._init;return e(t._payload)}function jv(t){function e(y,v){if(t){var x=y.deletions;x===null?(y.deletions=[v],y.flags|=16):x.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=xr(y,v),y.index=0,y.sibling=null,y}function o(y,v,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<v?(y.flags|=2,v):x):(y.flags|=2,v)):(y.flags|=1048576,v)}function i(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,v,x,b){return v===null||v.tag!==6?(v=mu(x,y.mode,b),v.return=y,v):(v=s(v,x),v.return=y,v)}function l(y,v,x,b){var E=x.type;return E===Ns?h(y,v,x.props.children,b,x.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Zn&&tm(E)===v.type)?(b=s(v,x.props),b.ref=zo(y,v,x),b.return=y,b):(b=qa(x.type,x.key,x.props,null,y.mode,b),b.ref=zo(y,v,x),b.return=y,b)}function u(y,v,x,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=gu(x,y.mode,b),v.return=y,v):(v=s(v,x.children||[]),v.return=y,v)}function h(y,v,x,b,E){return v===null||v.tag!==7?(v=rs(x,y.mode,b,E),v.return=y,v):(v=s(v,x),v.return=y,v)}function f(y,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=mu(""+v,y.mode,x),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ga:return x=qa(v.type,v.key,v.props,null,y.mode,x),x.ref=zo(y,null,v),x.return=y,x;case Es:return v=gu(v,y.mode,x),v.return=y,v;case Zn:var b=v._init;return f(y,b(v._payload),x)}if(Jo(v)||Ao(v))return v=rs(v,y.mode,x,null),v.return=y,v;Na(y,v)}return null}function d(y,v,x,b){var E=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:a(y,v,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ga:return x.key===E?l(y,v,x,b):null;case Es:return x.key===E?u(y,v,x,b):null;case Zn:return E=x._init,d(y,v,E(x._payload),b)}if(Jo(x)||Ao(x))return E!==null?null:h(y,v,x,b,null);Na(y,x)}return null}function p(y,v,x,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(x)||null,a(v,y,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ga:return y=y.get(b.key===null?x:b.key)||null,l(v,y,b,E);case Es:return y=y.get(b.key===null?x:b.key)||null,u(v,y,b,E);case Zn:var S=b._init;return p(y,v,x,S(b._payload),E)}if(Jo(b)||Ao(b))return y=y.get(x)||null,h(v,y,b,E,null);Na(v,b)}return null}function g(y,v,x,b){for(var E=null,S=null,k=v,N=v=0,O=null;k!==null&&N<x.length;N++){k.index>N?(O=k,k=null):O=k.sibling;var j=d(y,k,x[N],b);if(j===null){k===null&&(k=O);break}t&&k&&j.alternate===null&&e(y,k),v=o(j,v,N),S===null?E=j:S.sibling=j,S=j,k=O}if(N===x.length)return n(y,k),Ce&&Br(y,N),E;if(k===null){for(;N<x.length;N++)k=f(y,x[N],b),k!==null&&(v=o(k,v,N),S===null?E=k:S.sibling=k,S=k);return Ce&&Br(y,N),E}for(k=r(y,k);N<x.length;N++)O=p(k,y,N,x[N],b),O!==null&&(t&&O.alternate!==null&&k.delete(O.key===null?N:O.key),v=o(O,v,N),S===null?E=O:S.sibling=O,S=O);return t&&k.forEach(function(H){return e(y,H)}),Ce&&Br(y,N),E}function m(y,v,x,b){var E=Ao(x);if(typeof E!="function")throw Error(B(150));if(x=E.call(x),x==null)throw Error(B(151));for(var S=E=null,k=v,N=v=0,O=null,j=x.next();k!==null&&!j.done;N++,j=x.next()){k.index>N?(O=k,k=null):O=k.sibling;var H=d(y,k,j.value,b);if(H===null){k===null&&(k=O);break}t&&k&&H.alternate===null&&e(y,k),v=o(H,v,N),S===null?E=H:S.sibling=H,S=H,k=O}if(j.done)return n(y,k),Ce&&Br(y,N),E;if(k===null){for(;!j.done;N++,j=x.next())j=f(y,j.value,b),j!==null&&(v=o(j,v,N),S===null?E=j:S.sibling=j,S=j);return Ce&&Br(y,N),E}for(k=r(y,k);!j.done;N++,j=x.next())j=p(k,y,N,j.value,b),j!==null&&(t&&j.alternate!==null&&k.delete(j.key===null?N:j.key),v=o(j,v,N),S===null?E=j:S.sibling=j,S=j);return t&&k.forEach(function(P){return e(y,P)}),Ce&&Br(y,N),E}function w(y,v,x,b){if(typeof x=="object"&&x!==null&&x.type===Ns&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ga:e:{for(var E=x.key,S=v;S!==null;){if(S.key===E){if(E=x.type,E===Ns){if(S.tag===7){n(y,S.sibling),v=s(S,x.props.children),v.return=y,y=v;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Zn&&tm(E)===S.type){n(y,S.sibling),v=s(S,x.props),v.ref=zo(y,S,x),v.return=y,y=v;break e}n(y,S);break}else e(y,S);S=S.sibling}x.type===Ns?(v=rs(x.props.children,y.mode,b,x.key),v.return=y,y=v):(b=qa(x.type,x.key,x.props,null,y.mode,b),b.ref=zo(y,v,x),b.return=y,y=b)}return i(y);case Es:e:{for(S=x.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(y,v.sibling),v=s(v,x.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=gu(x,y.mode,b),v.return=y,y=v}return i(y);case Zn:return S=x._init,w(y,v,S(x._payload),b)}if(Jo(x))return g(y,v,x,b);if(Ao(x))return m(y,v,x,b);Na(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(y,v.sibling),v=s(v,x),v.return=y,y=v):(n(y,v),v=mu(x,y.mode,b),v.return=y,y=v),i(y)):n(y,v)}return w}var co=jv(!0),Mv=jv(!1),ml=Ar(null),gl=null,Os=null,Bf=null;function $f(){Bf=Os=gl=null}function Wf(t){var e=ml.current;_e(ml),t._currentValue=e}function hd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vs(t,e){gl=t,Bf=Os=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yt=!0),t.firstContext=null)}function Wt(t){var e=t._currentValue;if(Bf!==t)if(t={context:t,memoizedValue:e,next:null},Os===null){if(gl===null)throw Error(B(308));Os=t,gl.dependencies={lanes:0,firstContext:t}}else Os=Os.next=t;return e}var Yr=null;function Uf(t){Yr===null?Yr=[t]:Yr.push(t)}function Av(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Uf(e)):(n.next=s.next,s.next=n),e.interleaved=n,Fn(t,r)}function Fn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var er=!1;function Vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ov(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function An(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Fn(t,n)}return s=r.interleaved,s===null?(e.next=e,Uf(r)):(e.next=s.next,s.next=e),r.interleaved=e,Fn(t,n)}function Va(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,If(t,n)}}function nm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yl(t,e,n,r){var s=t.updateQueue;er=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==i&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(o!==null){var f=s.baseState;i=0,h=u=l=null,a=o;do{var d=a.lane,p=a.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,m=a;switch(d=e,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,d=typeof g=="function"?g.call(p,f,d):g,d==null)break e;f=Te({},f,d);break e;case 2:er=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=p,l=f):h=h.next=p,i|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);ls|=i,t.lanes=i,t.memoizedState=f}}function rm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var ta={},_n=Ar(ta),Ti=Ar(ta),Ii=Ar(ta);function Qr(t){if(t===ta)throw Error(B(174));return t}function Hf(t,e){switch(ye(Ii,e),ye(Ti,t),ye(_n,ta),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yu(e,t)}_e(_n),ye(_n,e)}function uo(){_e(_n),_e(Ti),_e(Ii)}function Dv(t){Qr(Ii.current);var e=Qr(_n.current),n=Yu(e,t.type);e!==n&&(ye(Ti,t),ye(_n,n))}function Gf(t){Ti.current===t&&(_e(_n),_e(Ti))}var Ee=Ar(0);function vl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cu=[];function Yf(){for(var t=0;t<cu.length;t++)cu[t]._workInProgressVersionPrimary=null;cu.length=0}var Ha=Vn.ReactCurrentDispatcher,uu=Vn.ReactCurrentBatchConfig,as=0,Ne=null,Le=null,Ue=null,xl=!1,ai=!1,Ri=0,r2=0;function Ze(){throw Error(B(321))}function Qf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cn(t[n],e[n]))return!1;return!0}function Kf(t,e,n,r,s,o){if(as=o,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ha.current=t===null||t.memoizedState===null?a2:l2,t=n(r,s),ai){o=0;do{if(ai=!1,Ri=0,25<=o)throw Error(B(301));o+=1,Ue=Le=null,e.updateQueue=null,Ha.current=c2,t=n(r,s)}while(ai)}if(Ha.current=wl,e=Le!==null&&Le.next!==null,as=0,Ue=Le=Ne=null,xl=!1,e)throw Error(B(300));return t}function qf(){var t=Ri!==0;return Ri=0,t}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Ne.memoizedState=Ue=t:Ue=Ue.next=t,Ue}function Ut(){if(Le===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var e=Ue===null?Ne.memoizedState:Ue.next;if(e!==null)Ue=e,Le=t;else{if(t===null)throw Error(B(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Ue===null?Ne.memoizedState=Ue=t:Ue=Ue.next=t}return Ue}function Pi(t,e){return typeof e=="function"?e(t):e}function du(t){var e=Ut(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Le,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,u=o;do{var h=u.lane;if((as&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,i=r):l=l.next=f,Ne.lanes|=h,ls|=h}u=u.next}while(u!==null&&u!==o);l===null?i=r:l.next=a,cn(r,e.memoizedState)||(yt=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,Ne.lanes|=o,ls|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function fu(t){var e=Ut(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);cn(o,e.memoizedState)||(yt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Lv(){}function Fv(t,e){var n=Ne,r=Ut(),s=e(),o=!cn(r.memoizedState,s);if(o&&(r.memoizedState=s,yt=!0),r=r.queue,Xf($v.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,ji(9,Bv.bind(null,n,r,s,e),void 0,null),He===null)throw Error(B(349));as&30||zv(n,e,s)}return s}function zv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Bv(t,e,n,r){e.value=n,e.getSnapshot=r,Wv(e)&&Uv(t)}function $v(t,e,n){return n(function(){Wv(e)&&Uv(t)})}function Wv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cn(t,n)}catch{return!0}}function Uv(t){var e=Fn(t,1);e!==null&&an(e,t,1,-1)}function sm(t){var e=pn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:t},e.queue=t,t=t.dispatch=i2.bind(null,Ne,t),[e.memoizedState,t]}function ji(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Vv(){return Ut().memoizedState}function Ga(t,e,n,r){var s=pn();Ne.flags|=t,s.memoizedState=ji(1|e,n,void 0,r===void 0?null:r)}function ac(t,e,n,r){var s=Ut();r=r===void 0?null:r;var o=void 0;if(Le!==null){var i=Le.memoizedState;if(o=i.destroy,r!==null&&Qf(r,i.deps)){s.memoizedState=ji(e,n,o,r);return}}Ne.flags|=t,s.memoizedState=ji(1|e,n,o,r)}function om(t,e){return Ga(8390656,8,t,e)}function Xf(t,e){return ac(2048,8,t,e)}function Hv(t,e){return ac(4,2,t,e)}function Gv(t,e){return ac(4,4,t,e)}function Yv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Qv(t,e,n){return n=n!=null?n.concat([t]):null,ac(4,4,Yv.bind(null,e,t),n)}function Jf(){}function Kv(t,e){var n=Ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qv(t,e){var n=Ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Xv(t,e,n){return as&21?(cn(n,e)||(n=nv(),Ne.lanes|=n,ls|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yt=!0),t.memoizedState=n)}function s2(t,e){var n=de;de=n!==0&&4>n?n:4,t(!0);var r=uu.transition;uu.transition={};try{t(!1),e()}finally{de=n,uu.transition=r}}function Jv(){return Ut().memoizedState}function o2(t,e,n){var r=vr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zv(t))e0(e,n);else if(n=Av(t,e,n,r),n!==null){var s=ut();an(n,t,r,s),t0(n,e,r)}}function i2(t,e,n){var r=vr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zv(t))e0(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,cn(a,i)){var l=e.interleaved;l===null?(s.next=s,Uf(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Av(t,e,s,r),n!==null&&(s=ut(),an(n,t,r,s),t0(n,e,r))}}function Zv(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function e0(t,e){ai=xl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function t0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,If(t,n)}}var wl={readContext:Wt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},a2={readContext:Wt,useCallback:function(t,e){return pn().memoizedState=[t,e===void 0?null:e],t},useContext:Wt,useEffect:om,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ga(4194308,4,Yv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ga(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ga(4,2,t,e)},useMemo:function(t,e){var n=pn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=o2.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=pn();return t={current:t},e.memoizedState=t},useState:sm,useDebugValue:Jf,useDeferredValue:function(t){return pn().memoizedState=t},useTransition:function(){var t=sm(!1),e=t[0];return t=s2.bind(null,t[1]),pn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ne,s=pn();if(Ce){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),He===null)throw Error(B(349));as&30||zv(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,om($v.bind(null,r,o,t),[t]),r.flags|=2048,ji(9,Bv.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=pn(),e=He.identifierPrefix;if(Ce){var n=jn,r=Pn;n=(r&~(1<<32-on(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ri++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=r2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},l2={readContext:Wt,useCallback:Kv,useContext:Wt,useEffect:Xf,useImperativeHandle:Qv,useInsertionEffect:Hv,useLayoutEffect:Gv,useMemo:qv,useReducer:du,useRef:Vv,useState:function(){return du(Pi)},useDebugValue:Jf,useDeferredValue:function(t){var e=Ut();return Xv(e,Le.memoizedState,t)},useTransition:function(){var t=du(Pi)[0],e=Ut().memoizedState;return[t,e]},useMutableSource:Lv,useSyncExternalStore:Fv,useId:Jv,unstable_isNewReconciler:!1},c2={readContext:Wt,useCallback:Kv,useContext:Wt,useEffect:Xf,useImperativeHandle:Qv,useInsertionEffect:Hv,useLayoutEffect:Gv,useMemo:qv,useReducer:fu,useRef:Vv,useState:function(){return fu(Pi)},useDebugValue:Jf,useDeferredValue:function(t){var e=Ut();return Le===null?e.memoizedState=t:Xv(e,Le.memoizedState,t)},useTransition:function(){var t=fu(Pi)[0],e=Ut().memoizedState;return[t,e]},useMutableSource:Lv,useSyncExternalStore:Fv,useId:Jv,unstable_isNewReconciler:!1};function Xt(t,e){if(t&&t.defaultProps){e=Te({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function pd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lc={isMounted:function(t){return(t=t._reactInternals)?gs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ut(),s=vr(t),o=An(r,s);o.payload=e,n!=null&&(o.callback=n),e=gr(t,o,s),e!==null&&(an(e,t,s,r),Va(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ut(),s=vr(t),o=An(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=gr(t,o,s),e!==null&&(an(e,t,s,r),Va(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ut(),r=vr(t),s=An(n,r);s.tag=2,e!=null&&(s.callback=e),e=gr(t,s,r),e!==null&&(an(e,t,r,n),Va(e,t,r))}};function im(t,e,n,r,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,i):e.prototype&&e.prototype.isPureReactComponent?!Ci(n,r)||!Ci(s,o):!0}function n0(t,e,n){var r=!1,s=kr,o=e.contextType;return typeof o=="object"&&o!==null?o=Wt(o):(s=wt(e)?os:rt.current,r=e.contextTypes,o=(r=r!=null)?ao(t,s):kr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function am(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&lc.enqueueReplaceState(e,e.state,null)}function md(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Vf(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Wt(o):(o=wt(e)?os:rt.current,s.context=ao(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(pd(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&lc.enqueueReplaceState(s,s.state,null),yl(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function fo(t,e){try{var n="",r=e;do n+=L_(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function hu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function gd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var u2=typeof WeakMap=="function"?WeakMap:Map;function r0(t,e,n){n=An(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bl||(bl=!0,Ed=r),gd(t,e)},n}function s0(t,e,n){n=An(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){gd(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){gd(t,e),typeof r!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function lm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new u2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=C2.bind(null,t,e,n),e.then(t,t))}function cm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function um(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=An(-1,1),e.tag=2,gr(n,e,1))),n.lanes|=1),t)}var d2=Vn.ReactCurrentOwner,yt=!1;function at(t,e,n,r){e.child=t===null?Mv(e,null,n,r):co(e,t.child,n,r)}function dm(t,e,n,r,s){n=n.render;var o=e.ref;return Vs(e,s),r=Kf(t,e,n,r,o,s),n=qf(),t!==null&&!yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zn(t,e,s)):(Ce&&n&&Lf(e),e.flags|=1,at(t,e,r,s),e.child)}function fm(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!ih(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,o0(t,e,o,r,s)):(t=qa(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ci,n(i,r)&&t.ref===e.ref)return zn(t,e,s)}return e.flags|=1,t=xr(o,r),t.ref=e.ref,t.return=e,e.child=t}function o0(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(Ci(o,r)&&t.ref===e.ref)if(yt=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(yt=!0);else return e.lanes=t.lanes,zn(t,e,s)}return yd(t,e,n,r,s)}function i0(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Ls,Ct),Ct|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(Ls,Ct),Ct|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ye(Ls,Ct),Ct|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ye(Ls,Ct),Ct|=r;return at(t,e,s,n),e.child}function a0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function yd(t,e,n,r,s){var o=wt(n)?os:rt.current;return o=ao(e,o),Vs(e,s),n=Kf(t,e,n,r,o,s),r=qf(),t!==null&&!yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zn(t,e,s)):(Ce&&r&&Lf(e),e.flags|=1,at(t,e,n,s),e.child)}function hm(t,e,n,r,s){if(wt(n)){var o=!0;fl(e)}else o=!1;if(Vs(e,s),e.stateNode===null)Ya(t,e),n0(e,n,r),md(e,n,r,s),r=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var l=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wt(u):(u=wt(n)?os:rt.current,u=ao(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==u)&&am(e,i,r,u),er=!1;var d=e.memoizedState;i.state=d,yl(e,r,i,s),l=e.memoizedState,a!==r||d!==l||xt.current||er?(typeof h=="function"&&(pd(e,n,h,r),l=e.memoizedState),(a=er||im(e,n,a,r,d,l,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),i.props=r,i.state=l,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,Ov(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Xt(e.type,a),i.props=u,f=e.pendingProps,d=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wt(l):(l=wt(n)?os:rt.current,l=ao(e,l));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||d!==l)&&am(e,i,r,l),er=!1,d=e.memoizedState,i.state=d,yl(e,r,i,s);var g=e.memoizedState;a!==f||d!==g||xt.current||er?(typeof p=="function"&&(pd(e,n,p,r),g=e.memoizedState),(u=er||im(e,n,u,r,d,g,l)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,g,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,g,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),i.props=r,i.state=g,i.context=l,r=u):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return vd(t,e,n,r,o,s)}function vd(t,e,n,r,s,o){a0(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return s&&Jp(e,n,!1),zn(t,e,o);r=e.stateNode,d2.current=e;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=co(e,t.child,null,o),e.child=co(e,null,a,o)):at(t,e,a,o),e.memoizedState=r.state,s&&Jp(e,n,!0),e.child}function l0(t){var e=t.stateNode;e.pendingContext?Xp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xp(t,e.context,!1),Hf(t,e.containerInfo)}function pm(t,e,n,r,s){return lo(),zf(s),e.flags|=256,at(t,e,n,r),e.child}var xd={dehydrated:null,treeContext:null,retryLane:0};function wd(t){return{baseLanes:t,cachePool:null,transitions:null}}function c0(t,e,n){var r=e.pendingProps,s=Ee.current,o=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ye(Ee,s&1),t===null)return fd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,o?(r=e.mode,o=e.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=dc(i,r,0,null),t=rs(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=wd(n),e.memoizedState=xd,t):Zf(e,i));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return f2(t,e,i,r,a,s,n);if(o){o=r.fallback,i=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=xr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=xr(a,o):(o=rs(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,i=t.child.memoizedState,i=i===null?wd(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~n,e.memoizedState=xd,r}return o=t.child,t=o.sibling,r=xr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zf(t,e){return e=dc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ta(t,e,n,r){return r!==null&&zf(r),co(e,t.child,null,n),t=Zf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function f2(t,e,n,r,s,o,i){if(n)return e.flags&256?(e.flags&=-257,r=hu(Error(B(422))),Ta(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=dc({mode:"visible",children:r.children},s,0,null),o=rs(o,s,i,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&co(e,t.child,null,i),e.child.memoizedState=wd(i),e.memoizedState=xd,o);if(!(e.mode&1))return Ta(t,e,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(B(419)),r=hu(o,r,void 0),Ta(t,e,i,r)}if(a=(i&t.childLanes)!==0,yt||a){if(r=He,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Fn(t,s),an(r,t,s,-1))}return oh(),r=hu(Error(B(421))),Ta(t,e,i,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=k2.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Et=mr(s.nextSibling),Nt=e,Ce=!0,nn=null,t!==null&&(Lt[Ft++]=Pn,Lt[Ft++]=jn,Lt[Ft++]=is,Pn=t.id,jn=t.overflow,is=e),e=Zf(e,r.children),e.flags|=4096,e)}function mm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),hd(t.return,e,n)}function pu(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function u0(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(at(t,e,r.children,n),r=Ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mm(t,n,e);else if(t.tag===19)mm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ye(Ee,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&vl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),pu(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&vl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}pu(e,!0,n,null,o);break;case"together":pu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ya(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ls|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=xr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function h2(t,e,n){switch(e.tag){case 3:l0(e),lo();break;case 5:Dv(e);break;case 1:wt(e.type)&&fl(e);break;case 4:Hf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ye(ml,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ye(Ee,Ee.current&1),e.flags|=128,null):n&e.child.childLanes?c0(t,e,n):(ye(Ee,Ee.current&1),t=zn(t,e,n),t!==null?t.sibling:null);ye(Ee,Ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return u0(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(Ee,Ee.current),r)break;return null;case 22:case 23:return e.lanes=0,i0(t,e,n)}return zn(t,e,n)}var d0,_d,f0,h0;d0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_d=function(){};f0=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Qr(_n.current);var o=null;switch(n){case"input":s=Uu(t,s),r=Uu(t,r),o=[];break;case"select":s=Te({},s,{value:void 0}),r=Te({},r,{value:void 0}),o=[];break;case"textarea":s=Gu(t,s),r=Gu(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ul)}Qu(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yi.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yi.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&we("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};h0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bo(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function p2(t,e,n){var r=e.pendingProps;switch(Ff(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(e),null;case 1:return wt(e.type)&&dl(),et(e),null;case 3:return r=e.stateNode,uo(),_e(xt),_e(rt),Yf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ea(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nn!==null&&(Id(nn),nn=null))),_d(t,e),et(e),null;case 5:Gf(e);var s=Qr(Ii.current);if(n=e.type,t!==null&&e.stateNode!=null)f0(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return et(e),null}if(t=Qr(_n.current),Ea(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[vn]=e,r[Ni]=o,t=(e.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(s=0;s<ei.length;s++)we(ei[s],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":Cp(r,o),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},we("invalid",r);break;case"textarea":Ep(r,o),we("invalid",r)}Qu(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ka(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ka(r.textContent,a,t),s=["children",""+a]):yi.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&we("scroll",r)}switch(n){case"input":ya(r),kp(r,o,!0);break;case"textarea":ya(r),Np(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ul)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$y(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[vn]=e,t[Ni]=r,d0(t,e,!1,!1),e.stateNode=t;e:{switch(i=Ku(n,r),n){case"dialog":we("cancel",t),we("close",t),s=r;break;case"iframe":case"object":case"embed":we("load",t),s=r;break;case"video":case"audio":for(s=0;s<ei.length;s++)we(ei[s],t);s=r;break;case"source":we("error",t),s=r;break;case"img":case"image":case"link":we("error",t),we("load",t),s=r;break;case"details":we("toggle",t),s=r;break;case"input":Cp(t,r),s=Uu(t,r),we("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Te({},r,{value:void 0}),we("invalid",t);break;case"textarea":Ep(t,r),s=Gu(t,r),we("invalid",t);break;default:s=r}Qu(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Vy(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Wy(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&vi(t,l):typeof l=="number"&&vi(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(yi.hasOwnProperty(o)?l!=null&&o==="onScroll"&&we("scroll",t):l!=null&&Sf(t,o,l,i))}switch(n){case"input":ya(t),kp(t,r,!1);break;case"textarea":ya(t),Np(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Cr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Bs(t,!!r.multiple,o,!1):r.defaultValue!=null&&Bs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ul)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return et(e),null;case 6:if(t&&e.stateNode!=null)h0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Qr(Ii.current),Qr(_n.current),Ea(e)){if(r=e.stateNode,n=e.memoizedProps,r[vn]=e,(o=r.nodeValue!==n)&&(t=Nt,t!==null))switch(t.tag){case 3:ka(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ka(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vn]=e,e.stateNode=r}return et(e),null;case 13:if(_e(Ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&Et!==null&&e.mode&1&&!(e.flags&128))Pv(),lo(),e.flags|=98560,o=!1;else if(o=Ea(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(B(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[vn]=e}else lo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;et(e),o=!1}else nn!==null&&(Id(nn),nn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ee.current&1?$e===0&&($e=3):oh())),e.updateQueue!==null&&(e.flags|=4),et(e),null);case 4:return uo(),_d(t,e),t===null&&ki(e.stateNode.containerInfo),et(e),null;case 10:return Wf(e.type._context),et(e),null;case 17:return wt(e.type)&&dl(),et(e),null;case 19:if(_e(Ee),o=e.memoizedState,o===null)return et(e),null;if(r=(e.flags&128)!==0,i=o.rendering,i===null)if(r)Bo(o,!1);else{if($e!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=vl(t),i!==null){for(e.flags|=128,Bo(o,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ye(Ee,Ee.current&1|2),e.child}t=t.sibling}o.tail!==null&&Oe()>ho&&(e.flags|=128,r=!0,Bo(o,!1),e.lanes=4194304)}else{if(!r)if(t=vl(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ce)return et(e),null}else 2*Oe()-o.renderingStartTime>ho&&n!==1073741824&&(e.flags|=128,r=!0,Bo(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(n=o.last,n!==null?n.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Oe(),e.sibling=null,n=Ee.current,ye(Ee,r?n&1|2:n&1),e):(et(e),null);case 22:case 23:return sh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ct&1073741824&&(et(e),e.subtreeFlags&6&&(e.flags|=8192)):et(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function m2(t,e){switch(Ff(e),e.tag){case 1:return wt(e.type)&&dl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return uo(),_e(xt),_e(rt),Yf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gf(e),null;case 13:if(_e(Ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));lo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _e(Ee),null;case 4:return uo(),null;case 10:return Wf(e.type._context),null;case 22:case 23:return sh(),null;case 24:return null;default:return null}}var Ia=!1,nt=!1,g2=typeof WeakSet=="function"?WeakSet:Set,G=null;function Ds(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(t,e,r)}else n.current=null}function bd(t,e,n){try{n()}catch(r){Pe(t,e,r)}}var gm=!1;function y2(t,e){if(od=al,t=vv(),Df(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,u=0,h=0,f=t,d=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=i+s),f!==o||r!==0&&f.nodeType!==3||(l=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++u===s&&(a=i),d===o&&++h===r&&(l=i),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(id={focusedElem:t,selectionRange:n},al=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,w=g.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:Xt(e.type,m),w);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(b){Pe(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return g=gm,gm=!1,g}function li(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&bd(e,n,o)}s=s.next}while(s!==r)}}function cc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function p0(t){var e=t.alternate;e!==null&&(t.alternate=null,p0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vn],delete e[Ni],delete e[cd],delete e[Zb],delete e[e2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function m0(t){return t.tag===5||t.tag===3||t.tag===4}function ym(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||m0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ul));else if(r!==4&&(t=t.child,t!==null))for(Cd(t,e,n),t=t.sibling;t!==null;)Cd(t,e,n),t=t.sibling}function kd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(kd(t,e,n),t=t.sibling;t!==null;)kd(t,e,n),t=t.sibling}var Ye=null,tn=!1;function Kn(t,e,n){for(n=n.child;n!==null;)g0(t,e,n),n=n.sibling}function g0(t,e,n){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(tc,n)}catch{}switch(n.tag){case 5:nt||Ds(n,e);case 6:var r=Ye,s=tn;Ye=null,Kn(t,e,n),Ye=r,tn=s,Ye!==null&&(tn?(t=Ye,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(tn?(t=Ye,n=n.stateNode,t.nodeType===8?au(t.parentNode,n):t.nodeType===1&&au(t,n),bi(t)):au(Ye,n.stateNode));break;case 4:r=Ye,s=tn,Ye=n.stateNode.containerInfo,tn=!0,Kn(t,e,n),Ye=r,tn=s;break;case 0:case 11:case 14:case 15:if(!nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&bd(n,e,i),s=s.next}while(s!==r)}Kn(t,e,n);break;case 1:if(!nt&&(Ds(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Pe(n,e,a)}Kn(t,e,n);break;case 21:Kn(t,e,n);break;case 22:n.mode&1?(nt=(r=nt)||n.memoizedState!==null,Kn(t,e,n),nt=r):Kn(t,e,n);break;default:Kn(t,e,n)}}function vm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new g2),e.forEach(function(r){var s=E2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Qt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:Ye=a.stateNode,tn=!1;break e;case 3:Ye=a.stateNode.containerInfo,tn=!0;break e;case 4:Ye=a.stateNode.containerInfo,tn=!0;break e}a=a.return}if(Ye===null)throw Error(B(160));g0(o,i,s),Ye=null,tn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Pe(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)y0(e,t),e=e.sibling}function y0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qt(e,t),hn(t),r&4){try{li(3,t,t.return),cc(3,t)}catch(m){Pe(t,t.return,m)}try{li(5,t,t.return)}catch(m){Pe(t,t.return,m)}}break;case 1:Qt(e,t),hn(t),r&512&&n!==null&&Ds(n,n.return);break;case 5:if(Qt(e,t),hn(t),r&512&&n!==null&&Ds(n,n.return),t.flags&32){var s=t.stateNode;try{vi(s,"")}catch(m){Pe(t,t.return,m)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&zy(s,o),Ku(a,i);var u=Ku(a,o);for(i=0;i<l.length;i+=2){var h=l[i],f=l[i+1];h==="style"?Vy(s,f):h==="dangerouslySetInnerHTML"?Wy(s,f):h==="children"?vi(s,f):Sf(s,h,f,u)}switch(a){case"input":Vu(s,o);break;case"textarea":By(s,o);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Bs(s,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?Bs(s,!!o.multiple,o.defaultValue,!0):Bs(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ni]=o}catch(m){Pe(t,t.return,m)}}break;case 6:if(Qt(e,t),hn(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(m){Pe(t,t.return,m)}}break;case 3:if(Qt(e,t),hn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bi(e.containerInfo)}catch(m){Pe(t,t.return,m)}break;case 4:Qt(e,t),hn(t);break;case 13:Qt(e,t),hn(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(nh=Oe())),r&4&&vm(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(nt=(u=nt)||h,Qt(e,t),nt=u):Qt(e,t),hn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(G=t,h=t.child;h!==null;){for(f=G=h;G!==null;){switch(d=G,p=d.child,d.tag){case 0:case 11:case 14:case 15:li(4,d,d.return);break;case 1:Ds(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Pe(r,n,m)}}break;case 5:Ds(d,d.return);break;case 22:if(d.memoizedState!==null){wm(f);continue}}p!==null?(p.return=d,G=p):wm(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Uy("display",i))}catch(m){Pe(t,t.return,m)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Pe(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qt(e,t),hn(t),r&4&&vm(t);break;case 21:break;default:Qt(e,t),hn(t)}}function hn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(m0(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(vi(s,""),r.flags&=-33);var o=ym(t);kd(t,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=ym(t);Cd(t,a,i);break;default:throw Error(B(161))}}catch(l){Pe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function v2(t,e,n){G=t,v0(t)}function v0(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var s=G,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Ia;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||nt;a=Ia;var u=nt;if(Ia=i,(nt=l)&&!u)for(G=s;G!==null;)i=G,l=i.child,i.tag===22&&i.memoizedState!==null?_m(s):l!==null?(l.return=i,G=l):_m(s);for(;o!==null;)G=o,v0(o),o=o.sibling;G=s,Ia=a,nt=u}xm(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,G=o):xm(t)}}function xm(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nt||cc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Xt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&rm(e,o,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rm(e,i,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&bi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}nt||e.flags&512&&Sd(e)}catch(d){Pe(e,e.return,d)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function wm(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function _m(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{cc(4,e)}catch(l){Pe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Pe(e,s,l)}}var o=e.return;try{Sd(e)}catch(l){Pe(e,o,l)}break;case 5:var i=e.return;try{Sd(e)}catch(l){Pe(e,i,l)}}}catch(l){Pe(e,e.return,l)}if(e===t){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var x2=Math.ceil,_l=Vn.ReactCurrentDispatcher,eh=Vn.ReactCurrentOwner,$t=Vn.ReactCurrentBatchConfig,oe=0,He=null,De=null,Ke=0,Ct=0,Ls=Ar(0),$e=0,Mi=null,ls=0,uc=0,th=0,ci=null,gt=null,nh=0,ho=1/0,Tn=null,bl=!1,Ed=null,yr=null,Ra=!1,cr=null,Sl=0,ui=0,Nd=null,Qa=-1,Ka=0;function ut(){return oe&6?Oe():Qa!==-1?Qa:Qa=Oe()}function vr(t){return t.mode&1?oe&2&&Ke!==0?Ke&-Ke:n2.transition!==null?(Ka===0&&(Ka=nv()),Ka):(t=de,t!==0||(t=window.event,t=t===void 0?16:cv(t.type)),t):1}function an(t,e,n,r){if(50<ui)throw ui=0,Nd=null,Error(B(185));Ji(t,n,r),(!(oe&2)||t!==He)&&(t===He&&(!(oe&2)&&(uc|=n),$e===4&&nr(t,Ke)),_t(t,r),n===1&&oe===0&&!(e.mode&1)&&(ho=Oe()+500,ic&&Or()))}function _t(t,e){var n=t.callbackNode;nb(t,e);var r=il(t,t===He?Ke:0);if(r===0)n!==null&&Rp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Rp(n),e===1)t.tag===0?t2(bm.bind(null,t)):Tv(bm.bind(null,t)),Xb(function(){!(oe&6)&&Or()}),n=null;else{switch(rv(r)){case 1:n=Tf;break;case 4:n=ev;break;case 16:n=ol;break;case 536870912:n=tv;break;default:n=ol}n=E0(n,x0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function x0(t,e){if(Qa=-1,Ka=0,oe&6)throw Error(B(327));var n=t.callbackNode;if(Hs()&&t.callbackNode!==n)return null;var r=il(t,t===He?Ke:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Cl(t,r);else{e=r;var s=oe;oe|=2;var o=_0();(He!==t||Ke!==e)&&(Tn=null,ho=Oe()+500,ns(t,e));do try{b2();break}catch(a){w0(t,a)}while(!0);$f(),_l.current=o,oe=s,De!==null?e=0:(He=null,Ke=0,e=$e)}if(e!==0){if(e===2&&(s=ed(t),s!==0&&(r=s,e=Td(t,s))),e===1)throw n=Mi,ns(t,0),nr(t,r),_t(t,Oe()),n;if(e===6)nr(t,r);else{if(s=t.current.alternate,!(r&30)&&!w2(s)&&(e=Cl(t,r),e===2&&(o=ed(t),o!==0&&(r=o,e=Td(t,o))),e===1))throw n=Mi,ns(t,0),nr(t,r),_t(t,Oe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:$r(t,gt,Tn);break;case 3:if(nr(t,r),(r&130023424)===r&&(e=nh+500-Oe(),10<e)){if(il(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ut(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ld($r.bind(null,t,gt,Tn),e);break}$r(t,gt,Tn);break;case 4:if(nr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var i=31-on(r);o=1<<i,i=e[i],i>s&&(s=i),r&=~o}if(r=s,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*x2(r/1960))-r,10<r){t.timeoutHandle=ld($r.bind(null,t,gt,Tn),r);break}$r(t,gt,Tn);break;case 5:$r(t,gt,Tn);break;default:throw Error(B(329))}}}return _t(t,Oe()),t.callbackNode===n?x0.bind(null,t):null}function Td(t,e){var n=ci;return t.current.memoizedState.isDehydrated&&(ns(t,e).flags|=256),t=Cl(t,e),t!==2&&(e=gt,gt=n,e!==null&&Id(e)),t}function Id(t){gt===null?gt=t:gt.push.apply(gt,t)}function w2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!cn(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function nr(t,e){for(e&=~th,e&=~uc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-on(e),r=1<<n;t[n]=-1,e&=~r}}function bm(t){if(oe&6)throw Error(B(327));Hs();var e=il(t,0);if(!(e&1))return _t(t,Oe()),null;var n=Cl(t,e);if(t.tag!==0&&n===2){var r=ed(t);r!==0&&(e=r,n=Td(t,r))}if(n===1)throw n=Mi,ns(t,0),nr(t,e),_t(t,Oe()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$r(t,gt,Tn),_t(t,Oe()),null}function rh(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(ho=Oe()+500,ic&&Or())}}function cs(t){cr!==null&&cr.tag===0&&!(oe&6)&&Hs();var e=oe;oe|=1;var n=$t.transition,r=de;try{if($t.transition=null,de=1,t)return t()}finally{de=r,$t.transition=n,oe=e,!(oe&6)&&Or()}}function sh(){Ct=Ls.current,_e(Ls)}function ns(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qb(n)),De!==null)for(n=De.return;n!==null;){var r=n;switch(Ff(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dl();break;case 3:uo(),_e(xt),_e(rt),Yf();break;case 5:Gf(r);break;case 4:uo();break;case 13:_e(Ee);break;case 19:_e(Ee);break;case 10:Wf(r.type._context);break;case 22:case 23:sh()}n=n.return}if(He=t,De=t=xr(t.current,null),Ke=Ct=e,$e=0,Mi=null,th=uc=ls=0,gt=ci=null,Yr!==null){for(e=0;e<Yr.length;e++)if(n=Yr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Yr=null}return t}function w0(t,e){do{var n=De;try{if($f(),Ha.current=wl,xl){for(var r=Ne.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}xl=!1}if(as=0,Ue=Le=Ne=null,ai=!1,Ri=0,eh.current=null,n===null||n.return===null){$e=1,Mi=e,De=null;break}e:{var o=t,i=n.return,a=n,l=e;if(e=Ke,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=cm(i);if(p!==null){p.flags&=-257,um(p,i,a,o,e),p.mode&1&&lm(o,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){lm(o,u,e),oh();break e}l=Error(B(426))}}else if(Ce&&a.mode&1){var w=cm(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),um(w,i,a,o,e),zf(fo(l,a));break e}}o=l=fo(l,a),$e!==4&&($e=2),ci===null?ci=[o]:ci.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=r0(o,l,e);nm(o,y);break e;case 1:a=l;var v=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(yr===null||!yr.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var b=s0(o,a,e);nm(o,b);break e}}o=o.return}while(o!==null)}S0(n)}catch(E){e=E,De===n&&n!==null&&(De=n=n.return);continue}break}while(!0)}function _0(){var t=_l.current;return _l.current=wl,t===null?wl:t}function oh(){($e===0||$e===3||$e===2)&&($e=4),He===null||!(ls&268435455)&&!(uc&268435455)||nr(He,Ke)}function Cl(t,e){var n=oe;oe|=2;var r=_0();(He!==t||Ke!==e)&&(Tn=null,ns(t,e));do try{_2();break}catch(s){w0(t,s)}while(!0);if($f(),oe=n,_l.current=r,De!==null)throw Error(B(261));return He=null,Ke=0,$e}function _2(){for(;De!==null;)b0(De)}function b2(){for(;De!==null&&!Y_();)b0(De)}function b0(t){var e=k0(t.alternate,t,Ct);t.memoizedProps=t.pendingProps,e===null?S0(t):De=e,eh.current=null}function S0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=m2(n,e),n!==null){n.flags&=32767,De=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$e=6,De=null;return}}else if(n=p2(n,e,Ct),n!==null){De=n;return}if(e=e.sibling,e!==null){De=e;return}De=e=t}while(e!==null);$e===0&&($e=5)}function $r(t,e,n){var r=de,s=$t.transition;try{$t.transition=null,de=1,S2(t,e,n,r)}finally{$t.transition=s,de=r}return null}function S2(t,e,n,r){do Hs();while(cr!==null);if(oe&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(rb(t,o),t===He&&(De=He=null,Ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ra||(Ra=!0,E0(ol,function(){return Hs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=$t.transition,$t.transition=null;var i=de;de=1;var a=oe;oe|=4,eh.current=null,y2(t,n),y0(n,t),Ub(id),al=!!od,id=od=null,t.current=n,v2(n),Q_(),oe=a,de=i,$t.transition=o}else t.current=n;if(Ra&&(Ra=!1,cr=t,Sl=s),o=t.pendingLanes,o===0&&(yr=null),X_(n.stateNode),_t(t,Oe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(bl)throw bl=!1,t=Ed,Ed=null,t;return Sl&1&&t.tag!==0&&Hs(),o=t.pendingLanes,o&1?t===Nd?ui++:(ui=0,Nd=t):ui=0,Or(),null}function Hs(){if(cr!==null){var t=rv(Sl),e=$t.transition,n=de;try{if($t.transition=null,de=16>t?16:t,cr===null)var r=!1;else{if(t=cr,cr=null,Sl=0,oe&6)throw Error(B(331));var s=oe;for(oe|=4,G=t.current;G!==null;){var o=G,i=o.child;if(G.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(G=u;G!==null;){var h=G;switch(h.tag){case 0:case 11:case 15:li(8,h,o)}var f=h.child;if(f!==null)f.return=h,G=f;else for(;G!==null;){h=G;var d=h.sibling,p=h.return;if(p0(h),h===u){G=null;break}if(d!==null){d.return=p,G=d;break}G=p}}}var g=o.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}G=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,G=i;else e:for(;G!==null;){if(o=G,o.flags&2048)switch(o.tag){case 0:case 11:case 15:li(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,G=y;break e}G=o.return}}var v=t.current;for(G=v;G!==null;){i=G;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,G=x;else e:for(i=v;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cc(9,a)}}catch(E){Pe(a,a.return,E)}if(a===i){G=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,G=b;break e}G=a.return}}if(oe=s,Or(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(tc,t)}catch{}r=!0}return r}finally{de=n,$t.transition=e}}return!1}function Sm(t,e,n){e=fo(n,e),e=r0(t,e,1),t=gr(t,e,1),e=ut(),t!==null&&(Ji(t,1,e),_t(t,e))}function Pe(t,e,n){if(t.tag===3)Sm(t,t,n);else for(;e!==null;){if(e.tag===3){Sm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yr===null||!yr.has(r))){t=fo(n,t),t=s0(e,t,1),e=gr(e,t,1),t=ut(),e!==null&&(Ji(e,1,t),_t(e,t));break}}e=e.return}}function C2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ut(),t.pingedLanes|=t.suspendedLanes&n,He===t&&(Ke&n)===n&&($e===4||$e===3&&(Ke&130023424)===Ke&&500>Oe()-nh?ns(t,0):th|=n),_t(t,e)}function C0(t,e){e===0&&(t.mode&1?(e=wa,wa<<=1,!(wa&130023424)&&(wa=4194304)):e=1);var n=ut();t=Fn(t,e),t!==null&&(Ji(t,e,n),_t(t,n))}function k2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),C0(t,n)}function E2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),C0(t,n)}var k0;k0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xt.current)yt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yt=!1,h2(t,e,n);yt=!!(t.flags&131072)}else yt=!1,Ce&&e.flags&1048576&&Iv(e,pl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ya(t,e),t=e.pendingProps;var s=ao(e,rt.current);Vs(e,n),s=Kf(null,e,r,t,s,n);var o=qf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wt(r)?(o=!0,fl(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vf(e),s.updater=lc,e.stateNode=s,s._reactInternals=e,md(e,r,t,n),e=vd(null,e,r,!0,o,n)):(e.tag=0,Ce&&o&&Lf(e),at(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ya(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=T2(r),t=Xt(r,t),s){case 0:e=yd(null,e,r,t,n);break e;case 1:e=hm(null,e,r,t,n);break e;case 11:e=dm(null,e,r,t,n);break e;case 14:e=fm(null,e,r,Xt(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xt(r,s),yd(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xt(r,s),hm(t,e,r,s,n);case 3:e:{if(l0(e),t===null)throw Error(B(387));r=e.pendingProps,o=e.memoizedState,s=o.element,Ov(t,e),yl(e,r,null,n);var i=e.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=fo(Error(B(423)),e),e=pm(t,e,r,n,s);break e}else if(r!==s){s=fo(Error(B(424)),e),e=pm(t,e,r,n,s);break e}else for(Et=mr(e.stateNode.containerInfo.firstChild),Nt=e,Ce=!0,nn=null,n=Mv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lo(),r===s){e=zn(t,e,n);break e}at(t,e,r,n)}e=e.child}return e;case 5:return Dv(e),t===null&&fd(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,ad(r,s)?i=null:o!==null&&ad(r,o)&&(e.flags|=32),a0(t,e),at(t,e,i,n),e.child;case 6:return t===null&&fd(e),null;case 13:return c0(t,e,n);case 4:return Hf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=co(e,null,r,n):at(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xt(r,s),dm(t,e,r,s,n);case 7:return at(t,e,e.pendingProps,n),e.child;case 8:return at(t,e,e.pendingProps.children,n),e.child;case 12:return at(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,ye(ml,r._currentValue),r._currentValue=i,o!==null)if(cn(o.value,i)){if(o.children===s.children&&!xt.current){e=zn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=An(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),hd(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(B(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),hd(i,n,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}at(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Vs(e,n),s=Wt(s),r=r(s),e.flags|=1,at(t,e,r,n),e.child;case 14:return r=e.type,s=Xt(r,e.pendingProps),s=Xt(r.type,s),fm(t,e,r,s,n);case 15:return o0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xt(r,s),Ya(t,e),e.tag=1,wt(r)?(t=!0,fl(e)):t=!1,Vs(e,n),n0(e,r,s),md(e,r,s,n),vd(null,e,r,!0,t,n);case 19:return u0(t,e,n);case 22:return i0(t,e,n)}throw Error(B(156,e.tag))};function E0(t,e){return Zy(t,e)}function N2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(t,e,n,r){return new N2(t,e,n,r)}function ih(t){return t=t.prototype,!(!t||!t.isReactComponent)}function T2(t){if(typeof t=="function")return ih(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kf)return 11;if(t===Ef)return 14}return 2}function xr(t,e){var n=t.alternate;return n===null?(n=zt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qa(t,e,n,r,s,o){var i=2;if(r=t,typeof t=="function")ih(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Ns:return rs(n.children,s,o,e);case Cf:i=8,s|=8;break;case zu:return t=zt(12,n,e,s|2),t.elementType=zu,t.lanes=o,t;case Bu:return t=zt(13,n,e,s),t.elementType=Bu,t.lanes=o,t;case $u:return t=zt(19,n,e,s),t.elementType=$u,t.lanes=o,t;case Dy:return dc(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ay:i=10;break e;case Oy:i=9;break e;case kf:i=11;break e;case Ef:i=14;break e;case Zn:i=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=zt(i,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function rs(t,e,n,r){return t=zt(7,t,r,e),t.lanes=n,t}function dc(t,e,n,r){return t=zt(22,t,r,e),t.elementType=Dy,t.lanes=n,t.stateNode={isHidden:!1},t}function mu(t,e,n){return t=zt(6,t,null,e),t.lanes=n,t}function gu(t,e,n){return e=zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function I2(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qc(0),this.expirationTimes=qc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ah(t,e,n,r,s,o,i,a,l){return t=new I2(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=zt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vf(o),t}function R2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Es,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function N0(t){if(!t)return kr;t=t._reactInternals;e:{if(gs(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(wt(n))return Nv(t,n,e)}return e}function T0(t,e,n,r,s,o,i,a,l){return t=ah(n,r,!0,t,s,o,i,a,l),t.context=N0(null),n=t.current,r=ut(),s=vr(n),o=An(r,s),o.callback=e??null,gr(n,o,s),t.current.lanes=s,Ji(t,s,r),_t(t,r),t}function fc(t,e,n,r){var s=e.current,o=ut(),i=vr(s);return n=N0(n),e.context===null?e.context=n:e.pendingContext=n,e=An(o,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gr(s,e,i),t!==null&&(an(t,s,i,o),Va(t,s,i)),i}function kl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lh(t,e){Cm(t,e),(t=t.alternate)&&Cm(t,e)}function P2(){return null}var I0=typeof reportError=="function"?reportError:function(t){console.error(t)};function ch(t){this._internalRoot=t}hc.prototype.render=ch.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));fc(t,e,null,null)};hc.prototype.unmount=ch.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cs(function(){fc(null,t,null,null)}),e[Ln]=null}};function hc(t){this._internalRoot=t}hc.prototype.unstable_scheduleHydration=function(t){if(t){var e=iv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<tr.length&&e!==0&&e<tr[n].priority;n++);tr.splice(n,0,t),n===0&&lv(t)}};function uh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function km(){}function j2(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=kl(i);o.call(u)}}var i=T0(e,r,t,0,null,!1,!1,"",km);return t._reactRootContainer=i,t[Ln]=i.current,ki(t.nodeType===8?t.parentNode:t),cs(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=kl(l);a.call(u)}}var l=ah(t,0,!1,null,null,!1,!1,"",km);return t._reactRootContainer=l,t[Ln]=l.current,ki(t.nodeType===8?t.parentNode:t),cs(function(){fc(e,l,n,r)}),l}function mc(t,e,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=kl(i);a.call(l)}}fc(e,i,t,s)}else i=j2(n,e,t,s,r);return kl(i)}sv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zo(e.pendingLanes);n!==0&&(If(e,n|1),_t(e,Oe()),!(oe&6)&&(ho=Oe()+500,Or()))}break;case 13:cs(function(){var r=Fn(t,1);if(r!==null){var s=ut();an(r,t,1,s)}}),lh(t,1)}};Rf=function(t){if(t.tag===13){var e=Fn(t,134217728);if(e!==null){var n=ut();an(e,t,134217728,n)}lh(t,134217728)}};ov=function(t){if(t.tag===13){var e=vr(t),n=Fn(t,e);if(n!==null){var r=ut();an(n,t,e,r)}lh(t,e)}};iv=function(){return de};av=function(t,e){var n=de;try{return de=t,e()}finally{de=n}};Xu=function(t,e,n){switch(e){case"input":if(Vu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=oc(r);if(!s)throw Error(B(90));Fy(r),Vu(r,s)}}}break;case"textarea":By(t,n);break;case"select":e=n.value,e!=null&&Bs(t,!!n.multiple,e,!1)}};Yy=rh;Qy=cs;var M2={usingClientEntryPoint:!1,Events:[ea,Ps,oc,Hy,Gy,rh]},$o={findFiberByHostInstance:Gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},A2={bundleType:$o.bundleType,version:$o.version,rendererPackageName:$o.rendererPackageName,rendererConfig:$o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xy(t),t===null?null:t.stateNode},findFiberByHostInstance:$o.findFiberByHostInstance||P2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pa.isDisabled&&Pa.supportsFiber)try{tc=Pa.inject(A2),wn=Pa}catch{}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M2;Pt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uh(e))throw Error(B(200));return R2(t,e,null,n)};Pt.createRoot=function(t,e){if(!uh(t))throw Error(B(299));var n=!1,r="",s=I0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ah(t,1,!1,null,null,n,!1,r,s),t[Ln]=e.current,ki(t.nodeType===8?t.parentNode:t),new ch(e)};Pt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=Xy(e),t=t===null?null:t.stateNode,t};Pt.flushSync=function(t){return cs(t)};Pt.hydrate=function(t,e,n){if(!pc(e))throw Error(B(200));return mc(null,t,e,!0,n)};Pt.hydrateRoot=function(t,e,n){if(!uh(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=I0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=T0(e,null,t,1,n??null,s,!1,o,i),t[Ln]=e.current,ki(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new hc(e)};Pt.render=function(t,e,n){if(!pc(e))throw Error(B(200));return mc(null,t,e,!1,n)};Pt.unmountComponentAtNode=function(t){if(!pc(t))throw Error(B(40));return t._reactRootContainer?(cs(function(){mc(null,null,t,!1,function(){t._reactRootContainer=null,t[Ln]=null})}),!0):!1};Pt.unstable_batchedUpdates=rh;Pt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!pc(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return mc(t,e,n,!1,r)};Pt.version="18.3.1-next-f1338f8080-20240426";function R0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R0)}catch(t){console.error(t)}}R0(),Ry.exports=Pt;var na=Ry.exports;const P0=yy(na);var j0,Em=na;j0=Em.createRoot,Em.hydrateRoot;const O2=1,D2=1e6;let yu=0;function L2(){return yu=(yu+1)%Number.MAX_SAFE_INTEGER,yu.toString()}const vu=new Map,Nm=t=>{if(vu.has(t))return;const e=setTimeout(()=>{vu.delete(t),di({type:"REMOVE_TOAST",toastId:t})},D2);vu.set(t,e)},F2=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,O2)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Nm(n):t.toasts.forEach(r=>{Nm(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Xa=[];let Ja={toasts:[]};function di(t){Ja=F2(Ja,t),Xa.forEach(e=>{e(Ja)})}function z2({...t}){const e=L2(),n=s=>di({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>di({type:"DISMISS_TOAST",toastId:e});return di({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function B2(){const[t,e]=_.useState(Ja);return _.useEffect(()=>(Xa.push(e),()=>{const n=Xa.indexOf(e);n>-1&&Xa.splice(n,1)}),[t]),{...t,toast:z2,dismiss:n=>di({type:"DISMISS_TOAST",toastId:n})}}function Fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Tm(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function M0(...t){return e=>{let n=!1;const r=t.map(s=>{const o=Tm(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Tm(t[s],null)}}}}function un(...t){return _.useCallback(M0(...t),t)}function gc(t,e=[]){let n=[];function r(o,i){const a=_.createContext(i),l=n.length;n=[...n,i];const u=f=>{var y;const{scope:d,children:p,...g}=f,m=((y=d==null?void 0:d[t])==null?void 0:y[l])||a,w=_.useMemo(()=>g,Object.values(g));return c.jsx(m.Provider,{value:w,children:p})};u.displayName=o+"Provider";function h(f,d){var m;const p=((m=d==null?void 0:d[t])==null?void 0:m[l])||a,g=_.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,h]}const s=()=>{const o=n.map(i=>_.createContext(i));return function(a){const l=(a==null?void 0:a[t])||o;return _.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,$2(s,...e)]}function $2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...a,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function Rd(t){const e=W2(t),n=_.forwardRef((r,s)=>{const{children:o,...i}=r,a=_.Children.toArray(o),l=a.find(V2);if(l){const u=l.props.children,h=a.map(f=>f===l?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:f);return c.jsx(e,{...i,ref:s,children:_.isValidElement(u)?_.cloneElement(u,void 0,h):null})}return c.jsx(e,{...i,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}function W2(t){const e=_.forwardRef((n,r)=>{const{children:s,...o}=n;if(_.isValidElement(s)){const i=G2(s),a=H2(o,s.props);return s.type!==_.Fragment&&(a.ref=r?M0(r,i):i),_.cloneElement(s,a)}return _.Children.count(s)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var A0=Symbol("radix.slottable");function U2(t){const e=({children:n})=>c.jsx(c.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=A0,e}function V2(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===A0}function H2(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function G2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Y2(t){const e=t+"CollectionProvider",[n,r]=gc(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:w,children:y}=m,v=W.useRef(null),x=W.useRef(new Map).current;return c.jsx(s,{scope:w,itemMap:x,collectionRef:v,children:y})};i.displayName=e;const a=t+"CollectionSlot",l=Rd(a),u=W.forwardRef((m,w)=>{const{scope:y,children:v}=m,x=o(a,y),b=un(w,x.collectionRef);return c.jsx(l,{ref:b,children:v})});u.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",d=Rd(h),p=W.forwardRef((m,w)=>{const{scope:y,children:v,...x}=m,b=W.useRef(null),E=un(w,b),S=o(h,y);return W.useEffect(()=>(S.itemMap.set(b,{ref:b,...x}),()=>void S.itemMap.delete(b))),c.jsx(d,{[f]:"",ref:E,children:v})});p.displayName=h;function g(m){const w=o(t+"CollectionConsumer",m);return W.useCallback(()=>{const v=w.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((S,k)=>x.indexOf(S.ref.current)-x.indexOf(k.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},g,r]}var Q2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],St=Q2.reduce((t,e)=>{const n=Rd(`Primitive.${e}`),r=_.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function O0(t,e){t&&na.flushSync(()=>t.dispatchEvent(e))}function Er(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function K2(t,e=globalThis==null?void 0:globalThis.document){const n=Er(t);_.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var q2="DismissableLayer",Pd="dismissableLayer.update",X2="dismissableLayer.pointerDownOutside",J2="dismissableLayer.focusOutside",Im,D0=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dh=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=t,u=_.useContext(D0),[h,f]=_.useState(null),d=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=_.useState({}),g=un(e,k=>f(k)),m=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(w),v=h?m.indexOf(h):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,b=v>=y,E=eS(k=>{const N=k.target,O=[...u.branches].some(j=>j.contains(N));!b||O||(s==null||s(k),i==null||i(k),k.defaultPrevented||a==null||a())},d),S=tS(k=>{const N=k.target;[...u.branches].some(j=>j.contains(N))||(o==null||o(k),i==null||i(k),k.defaultPrevented||a==null||a())},d);return K2(k=>{v===u.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},d),_.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Im=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Rm(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=Im)}},[h,d,n,u]),_.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Rm())},[h,u]),_.useEffect(()=>{const k=()=>p({});return document.addEventListener(Pd,k),()=>document.removeEventListener(Pd,k)},[]),c.jsx(St.div,{...l,ref:g,style:{pointerEvents:x?b?"auto":"none":void 0,...t.style},onFocusCapture:Fe(t.onFocusCapture,S.onFocusCapture),onBlurCapture:Fe(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Fe(t.onPointerDownCapture,E.onPointerDownCapture)})});dh.displayName=q2;var Z2="DismissableLayerBranch",L0=_.forwardRef((t,e)=>{const n=_.useContext(D0),r=_.useRef(null),s=un(e,r);return _.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),c.jsx(St.div,{...t,ref:s})});L0.displayName=Z2;function eS(t,e=globalThis==null?void 0:globalThis.document){const n=Er(t),r=_.useRef(!1),s=_.useRef(()=>{});return _.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){F0(X2,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function tS(t,e=globalThis==null?void 0:globalThis.document){const n=Er(t),r=_.useRef(!1);return _.useEffect(()=>{const s=o=>{o.target&&!r.current&&F0(J2,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Rm(){const t=new CustomEvent(Pd);document.dispatchEvent(t)}function F0(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?O0(s,o):s.dispatchEvent(o)}var nS=dh,rS=L0,Nr=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},sS="Portal",z0=_.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,o]=_.useState(!1);Nr(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?P0.createPortal(c.jsx(St.div,{...r,ref:e}),i):null});z0.displayName=sS;function oS(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var fh=t=>{const{present:e,children:n}=t,r=iS(e),s=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),o=un(r.ref,aS(s));return typeof n=="function"||r.isPresent?_.cloneElement(s,{ref:o}):null};fh.displayName="Presence";function iS(t){const[e,n]=_.useState(),r=_.useRef(null),s=_.useRef(t),o=_.useRef("none"),i=t?"mounted":"unmounted",[a,l]=oS(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=ja(r.current);o.current=a==="mounted"?u:"none"},[a]),Nr(()=>{const u=r.current,h=s.current;if(h!==t){const d=o.current,p=ja(u);t?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(h&&d!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Nr(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=p=>{const m=ja(r.current).includes(p.animationName);if(p.target===e&&m&&(l("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},d=p=>{p.target===e&&(o.current=ja(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:_.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function ja(t){return(t==null?void 0:t.animationName)||"none"}function aS(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var lS=Ty[" useInsertionEffect ".trim().toString()]||Nr;function cS({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,i]=uS({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const h=_.useRef(t!==void 0);_.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const u=_.useCallback(h=>{var f;if(a){const d=dS(h)?h(t):h;d!==t&&((f=i.current)==null||f.call(i,d))}else o(h)},[a,t,o,i]);return[l,u]}function uS({defaultProp:t,onChange:e}){const[n,r]=_.useState(t),s=_.useRef(n),o=_.useRef(e);return lS(()=>{o.current=e},[e]),_.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function dS(t){return typeof t=="function"}var fS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hS="VisuallyHidden",yc=_.forwardRef((t,e)=>c.jsx(St.span,{...t,ref:e,style:{...fS,...t.style}}));yc.displayName=hS;var pS=yc,hh="ToastProvider",[ph,mS,gS]=Y2("Toast"),[B0,Ij]=gc("Toast",[gS]),[yS,vc]=B0(hh),$0=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=t,[a,l]=_.useState(null),[u,h]=_.useState(0),f=_.useRef(!1),d=_.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${hh}\`. Expected non-empty \`string\`.`),c.jsx(ph.Provider,{scope:e,children:c.jsx(yS,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:_.useCallback(()=>h(p=>p+1),[]),onToastRemove:_.useCallback(()=>h(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:d,children:i})})};$0.displayName=hh;var W0="ToastViewport",vS=["F8"],jd="toast.viewportPause",Md="toast.viewportResume",U0=_.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=vS,label:s="Notifications ({hotkey})",...o}=t,i=vc(W0,n),a=mS(n),l=_.useRef(null),u=_.useRef(null),h=_.useRef(null),f=_.useRef(null),d=un(e,f,i.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=i.toastCount>0;_.useEffect(()=>{const w=y=>{var x;r.length!==0&&r.every(b=>y[b]||y.code===b)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),_.useEffect(()=>{const w=l.current,y=f.current;if(g&&w&&y){const v=()=>{if(!i.isClosePausedRef.current){const S=new CustomEvent(jd);y.dispatchEvent(S),i.isClosePausedRef.current=!0}},x=()=>{if(i.isClosePausedRef.current){const S=new CustomEvent(Md);y.dispatchEvent(S),i.isClosePausedRef.current=!1}},b=S=>{!w.contains(S.relatedTarget)&&x()},E=()=>{w.contains(document.activeElement)||x()};return w.addEventListener("focusin",v),w.addEventListener("focusout",b),w.addEventListener("pointermove",v),w.addEventListener("pointerleave",E),window.addEventListener("blur",v),window.addEventListener("focus",x),()=>{w.removeEventListener("focusin",v),w.removeEventListener("focusout",b),w.removeEventListener("pointermove",v),w.removeEventListener("pointerleave",E),window.removeEventListener("blur",v),window.removeEventListener("focus",x)}}},[g,i.isClosePausedRef]);const m=_.useCallback(({tabbingDirection:w})=>{const v=a().map(x=>{const b=x.ref.current,E=[b,...PS(b)];return w==="forwards"?E:E.reverse()});return(w==="forwards"?v.reverse():v).flat()},[a]);return _.useEffect(()=>{const w=f.current;if(w){const y=v=>{var E,S,k;const x=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!x){const N=document.activeElement,O=v.shiftKey;if(v.target===w&&O){(E=u.current)==null||E.focus();return}const P=m({tabbingDirection:O?"backwards":"forwards"}),T=P.findIndex(I=>I===N);xu(P.slice(T+1))?v.preventDefault():O?(S=u.current)==null||S.focus():(k=h.current)==null||k.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[a,m]),c.jsxs(rS,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&c.jsx(Ad,{ref:u,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"forwards"});xu(w)}}),c.jsx(ph.Slot,{scope:n,children:c.jsx(St.ol,{tabIndex:-1,...o,ref:d})}),g&&c.jsx(Ad,{ref:h,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"backwards"});xu(w)}})]})});U0.displayName=W0;var V0="ToastFocusProxy",Ad=_.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,o=vc(V0,n);return c.jsx(yc,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var u;const a=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(a))&&r()}})});Ad.displayName=V0;var ra="Toast",xS="toast.swipeStart",wS="toast.swipeMove",_S="toast.swipeCancel",bS="toast.swipeEnd",H0=_.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=t,[a,l]=cS({prop:r,defaultProp:s??!0,onChange:o,caller:ra});return c.jsx(fh,{present:n||a,children:c.jsx(kS,{open:a,...i,ref:e,onClose:()=>l(!1),onPause:Er(t.onPause),onResume:Er(t.onResume),onSwipeStart:Fe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Fe(t.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Fe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Fe(t.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});H0.displayName=ra;var[SS,CS]=B0(ra,{onClose(){}}),kS=_.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:d,onSwipeEnd:p,...g}=t,m=vc(ra,n),[w,y]=_.useState(null),v=un(e,I=>y(I)),x=_.useRef(null),b=_.useRef(null),E=s||m.duration,S=_.useRef(0),k=_.useRef(E),N=_.useRef(0),{onToastAdd:O,onToastRemove:j}=m,H=Er(()=>{var $;(w==null?void 0:w.contains(document.activeElement))&&(($=m.viewport)==null||$.focus()),i()}),P=_.useCallback(I=>{!I||I===1/0||(window.clearTimeout(N.current),S.current=new Date().getTime(),N.current=window.setTimeout(H,I))},[H]);_.useEffect(()=>{const I=m.viewport;if(I){const $=()=>{P(k.current),u==null||u()},L=()=>{const z=new Date().getTime()-S.current;k.current=k.current-z,window.clearTimeout(N.current),l==null||l()};return I.addEventListener(jd,L),I.addEventListener(Md,$),()=>{I.removeEventListener(jd,L),I.removeEventListener(Md,$)}}},[m.viewport,E,l,u,P]),_.useEffect(()=>{o&&!m.isClosePausedRef.current&&P(E)},[o,E,m.isClosePausedRef,P]),_.useEffect(()=>(O(),()=>j()),[O,j]);const T=_.useMemo(()=>w?J0(w):null,[w]);return m.viewport?c.jsxs(c.Fragment,{children:[T&&c.jsx(ES,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:T}),c.jsx(SS,{scope:n,onClose:H,children:na.createPortal(c.jsx(ph.ItemSlot,{scope:n,children:c.jsx(nS,{asChild:!0,onEscapeKeyDown:Fe(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||H(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(St.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Fe(t.onKeyDown,I=>{I.key==="Escape"&&(a==null||a(I.nativeEvent),I.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,H()))}),onPointerDown:Fe(t.onPointerDown,I=>{I.button===0&&(x.current={x:I.clientX,y:I.clientY})}),onPointerMove:Fe(t.onPointerMove,I=>{if(!x.current)return;const $=I.clientX-x.current.x,L=I.clientY-x.current.y,z=!!b.current,C=["left","right"].includes(m.swipeDirection),R=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,F=C?R(0,$):0,M=C?0:R(0,L),D=I.pointerType==="touch"?10:2,V={x:F,y:M},Y={originalEvent:I,delta:V};z?(b.current=V,Ma(wS,f,Y,{discrete:!1})):Pm(V,m.swipeDirection,D)?(b.current=V,Ma(xS,h,Y,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs($)>D||Math.abs(L)>D)&&(x.current=null)}),onPointerUp:Fe(t.onPointerUp,I=>{const $=b.current,L=I.target;if(L.hasPointerCapture(I.pointerId)&&L.releasePointerCapture(I.pointerId),b.current=null,x.current=null,$){const z=I.currentTarget,C={originalEvent:I,delta:$};Pm($,m.swipeDirection,m.swipeThreshold)?Ma(bS,p,C,{discrete:!0}):Ma(_S,d,C,{discrete:!0}),z.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),ES=t=>{const{__scopeToast:e,children:n,...r}=t,s=vc(ra,e),[o,i]=_.useState(!1),[a,l]=_.useState(!1);return IS(()=>i(!0)),_.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:c.jsx(z0,{asChild:!0,children:c.jsx(yc,{...r,children:o&&c.jsxs(c.Fragment,{children:[s.label," ",n]})})})},NS="ToastTitle",G0=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(St.div,{...r,ref:e})});G0.displayName=NS;var TS="ToastDescription",Y0=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(St.div,{...r,ref:e})});Y0.displayName=TS;var Q0="ToastAction",K0=_.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?c.jsx(X0,{altText:n,asChild:!0,children:c.jsx(mh,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Q0}\`. Expected non-empty \`string\`.`),null)});K0.displayName=Q0;var q0="ToastClose",mh=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=CS(q0,n);return c.jsx(X0,{asChild:!0,children:c.jsx(St.button,{type:"button",...r,ref:e,onClick:Fe(t.onClick,s.onClose)})})});mh.displayName=q0;var X0=_.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return c.jsx(St.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function J0(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),RS(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...J0(r))}}),e}function Ma(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?O0(s,o):s.dispatchEvent(o)}var Pm=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),o=r>s;return e==="left"||e==="right"?o&&r>n:!o&&s>n};function IS(t=()=>{}){const e=Er(t);Nr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function RS(t){return t.nodeType===t.ELEMENT_NODE}function PS(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function xu(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var jS=$0,Z0=U0,ex=H0,tx=G0,nx=Y0,rx=K0,sx=mh;function ox(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=ox(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ix(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=ox(t))&&(r&&(r+=" "),r+=e);return r}const jm=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Mm=ix,MS=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Mm(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=o==null?void 0:o[u];if(h===null)return null;const d=jm(h)||jm(f);return s[u][d]}),a=n&&Object.entries(n).reduce((u,h)=>{let[f,d]=h;return d===void 0||(u[f]=d),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:d,...p}=h;return Object.entries(p).every(g=>{let[m,w]=g;return Array.isArray(w)?w.includes({...o,...a}[m]):{...o,...a}[m]===w})?[...u,f,d]:u},[]);return Mm(t,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ax=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},l)=>_.createElement("svg",{ref:l,...OS,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:ax("lucide",s),...a},[...i.map(([u,h])=>_.createElement(u,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=(t,e)=>{const n=_.forwardRef(({className:r,...s},o)=>_.createElement(DS,{ref:o,iconNode:e,className:ax(`lucide-${AS(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=LS("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),gh="-",zS=t=>{const e=$S(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{const a=i.split(gh);return a[0]===""&&a.length!==1&&a.shift(),lx(a,e)||BS(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},lx=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?lx(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(gh);return(i=e.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},Am=/^\[(.+)\]$/,BS=t=>{if(Am.test(t)){const e=Am.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},$S=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return US(Object.entries(t.classGroups),n).forEach(([o,i])=>{Od(i,r,o,e)}),r},Od=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:Om(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(WS(s)){Od(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{Od(i,Om(e,o),n,r)})})},Om=(t,e)=>{let n=t;return e.split(gh).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},WS=t=>t.isThemeGetter,US=(t,e)=>e?t.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[e+i,a])):o);return[n,s]}):t,VS=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},cx="!",HS=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],o=e.length,i=a=>{const l=[];let u=0,h=0,f;for(let w=0;w<a.length;w++){let y=a[w];if(u===0){if(y===s&&(r||a.slice(w,w+o)===e)){l.push(a.slice(h,w)),h=w+o;continue}if(y==="/"){f=w;continue}}y==="["?u++:y==="]"&&u--}const d=l.length===0?a:a.substring(h),p=d.startsWith(cx),g=p?d.substring(1):d,m=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:i}):i},GS=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},YS=t=>({cache:VS(t.cacheSize),parseClassName:HS(t),...zS(t)}),QS=/\s+/,KS=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,o=[],i=t.trim().split(QS);let a="";for(let l=i.length-1;l>=0;l-=1){const u=i[l],{modifiers:h,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:p}=n(u);let g=!!p,m=r(g?d.substring(0,p):d);if(!m){if(!g){a=u+(a.length>0?" "+a:a);continue}if(m=r(d),!m){a=u+(a.length>0?" "+a:a);continue}g=!1}const w=GS(h).join(":"),y=f?w+cx:w,v=y+m;if(o.includes(v))continue;o.push(v);const x=s(m,g);for(let b=0;b<x.length;++b){const E=x[b];o.push(y+E)}a=u+(a.length>0?" "+a:a)}return a};function qS(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=ux(e))&&(r&&(r+=" "),r+=n);return r}const ux=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=ux(t[r]))&&(n&&(n+=" "),n+=e);return n};function XS(t,...e){let n,r,s,o=i;function i(l){const u=e.reduce((h,f)=>f(h),t());return n=YS(u),r=n.cache.get,s=n.cache.set,o=a,a(l)}function a(l){const u=r(l);if(u)return u;const h=KS(l,n);return s(l,h),h}return function(){return o(qS.apply(null,arguments))}}const xe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},dx=/^\[(?:([a-z-]+):)?(.+)\]$/i,JS=/^\d+\/\d+$/,ZS=new Set(["px","full","screen"]),eC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,En=t=>Gs(t)||ZS.has(t)||JS.test(t),qn=t=>ko(t,"length",fC),Gs=t=>!!t&&!Number.isNaN(Number(t)),wu=t=>ko(t,"number",Gs),Wo=t=>!!t&&Number.isInteger(Number(t)),oC=t=>t.endsWith("%")&&Gs(t.slice(0,-1)),J=t=>dx.test(t),Xn=t=>eC.test(t),iC=new Set(["length","size","percentage"]),aC=t=>ko(t,iC,fx),lC=t=>ko(t,"position",fx),cC=new Set(["image","url"]),uC=t=>ko(t,cC,pC),dC=t=>ko(t,"",hC),Uo=()=>!0,ko=(t,e,n)=>{const r=dx.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},fC=t=>tC.test(t)&&!nC.test(t),fx=()=>!1,hC=t=>rC.test(t),pC=t=>sC.test(t),mC=()=>{const t=xe("colors"),e=xe("spacing"),n=xe("blur"),r=xe("brightness"),s=xe("borderColor"),o=xe("borderRadius"),i=xe("borderSpacing"),a=xe("borderWidth"),l=xe("contrast"),u=xe("grayscale"),h=xe("hueRotate"),f=xe("invert"),d=xe("gap"),p=xe("gradientColorStops"),g=xe("gradientColorStopPositions"),m=xe("inset"),w=xe("margin"),y=xe("opacity"),v=xe("padding"),x=xe("saturate"),b=xe("scale"),E=xe("sepia"),S=xe("skew"),k=xe("space"),N=xe("translate"),O=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",J,e],P=()=>[J,e],T=()=>["",En,qn],I=()=>["auto",Gs,J],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",J],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[Gs,J];return{cacheSize:500,separator:":",theme:{colors:[Uo],spacing:[En,qn],blur:["none","",Xn,J],brightness:M(),borderColor:[t],borderRadius:["none","","full",Xn,J],borderSpacing:P(),borderWidth:T(),contrast:M(),grayscale:R(),hueRotate:M(),invert:R(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[oC,qn],inset:H(),margin:H(),opacity:M(),padding:P(),saturate:M(),scale:M(),sepia:R(),skew:M(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",J]}],container:["container"],columns:[{columns:[Xn]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),J]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wo,J]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",J]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Wo,J]}],"grid-cols":[{"grid-cols":[Uo]}],"col-start-end":[{col:["auto",{span:["full",Wo,J]},J]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Uo]}],"row-start-end":[{row:["auto",{span:[Wo,J]},J]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",J]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",J]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",J,e]}],"min-w":[{"min-w":[J,e,"min","max","fit"]}],"max-w":[{"max-w":[J,e,"none","full","min","max","fit","prose",{screen:[Xn]},Xn]}],h:[{h:[J,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[J,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[J,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[J,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Xn,qn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wu]}],"font-family":[{font:[Uo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",J]}],"line-clamp":[{"line-clamp":["none",Gs,wu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",En,J]}],"list-image":[{"list-image":["none",J]}],"list-style-type":[{list:["none","disc","decimal",J]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",En,qn]}],"underline-offset":[{"underline-offset":["auto",En,J]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",J]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",J]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),lC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",aC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uC]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:L()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[En,J]}],"outline-w":[{outline:[En,qn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[En,qn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Xn,dC]}],"shadow-color":[{shadow:[Uo]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Xn,J]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",J]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",J]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",J]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Wo,J]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",J]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",J]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",J]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[En,qn,wu]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},gC=XS(mC);function ys(...t){return gC(ix(t))}const yC=jS,hx=_.forwardRef(({className:t,...e},n)=>c.jsx(Z0,{ref:n,className:ys("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));hx.displayName=Z0.displayName;const vC=MS("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),px=_.forwardRef(({className:t,variant:e,...n},r)=>c.jsx(ex,{ref:r,className:ys(vC({variant:e}),t),...n}));px.displayName=ex.displayName;const xC=_.forwardRef(({className:t,...e},n)=>c.jsx(rx,{ref:n,className:ys("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));xC.displayName=rx.displayName;const mx=_.forwardRef(({className:t,...e},n)=>c.jsx(sx,{ref:n,className:ys("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(FS,{className:"h-4 w-4"})}));mx.displayName=sx.displayName;const gx=_.forwardRef(({className:t,...e},n)=>c.jsx(tx,{ref:n,className:ys("text-sm font-semibold",t),...e}));gx.displayName=tx.displayName;const yx=_.forwardRef(({className:t,...e},n)=>c.jsx(nx,{ref:n,className:ys("text-sm opacity-90",t),...e}));yx.displayName=nx.displayName;function wC(){const{toasts:t}=B2();return c.jsxs(yC,{children:[t.map(function({id:e,title:n,description:r,action:s,...o}){return c.jsxs(px,{...o,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(gx,{children:n}),r&&c.jsx(yx,{children:r})]}),s,c.jsx(mx,{})]},e)}),c.jsx(hx,{})]})}var Dm=["light","dark"],_C="(prefers-color-scheme: dark)",bC=_.createContext(void 0),SC={setTheme:t=>{},themes:[]},CC=()=>{var t;return(t=_.useContext(bC))!=null?t:SC};_.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:l})=>{let u=o==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?Dm.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d=(g,m=!1,w=!0)=>{let y=i?i[g]:g,v=m?g+"|| ''":`'${y}'`,x="";return s&&w&&!m&&Dm.includes(g)&&(x+=`d.style.colorScheme = '${g}';`),n==="class"?m||y?x+=`c.add(${v})`:x+="null":y&&(x+=`d[s](n,${v})`),x},p=t?`!function(){${h}${d(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${_C}',m=window.matchMedia(t);if(m.media!==t||m.matches){${d("dark")}}else{${d("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${d(i?"x[e]":"e",!0)}}${u?"":"else{"+d(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${d(i?"x[e]":"e",!0)}}else{${d(o,!1,!1)};}${f}}catch(t){}}();`;return _.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var kC=t=>{switch(t){case"success":return TC;case"info":return RC;case"warning":return IC;case"error":return PC;default:return null}},EC=Array(12).fill(0),NC=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},EC.map((n,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),TC=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),IC=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),RC=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),PC=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),jC=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),MC=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Dd=1,AC=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Dd++,o=this.toasts.find(a=>a.id===s),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:i,title:n}):a):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,o,i=r.then(async l=>{if(o=["resolve",l],W.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(DC(l)&&!l.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,h=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:u,description:h})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(l):e.success,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:u,description:h})}}).catch(async l=>{if(o=["reject",l],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(l):e.error,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:u,description:h})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,u)=>i.then(()=>o[0]==="reject"?u(o[1]):l(o[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Dd++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},mt=new AC,OC=(t,e)=>{let n=(e==null?void 0:e.id)||Dd++;return mt.addToast({title:t,...e,id:n}),n},DC=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",LC=OC,FC=()=>mt.toasts,zC=()=>mt.getActiveToasts();Object.assign(LC,{success:mt.success,info:mt.info,warning:mt.warning,error:mt.error,custom:mt.custom,message:mt.message,promise:mt.promise,dismiss:mt.dismiss,loading:mt.loading},{getHistory:FC,getToasts:zC});function BC(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}BC(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Aa(t){return t.label!==void 0}var $C=3,WC="32px",UC="16px",Lm=4e3,VC=356,HC=14,GC=20,YC=200;function Kt(...t){return t.filter(Boolean).join(" ")}function QC(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var KC=t=>{var e,n,r,s,o,i,a,l,u,h,f;let{invert:d,toast:p,unstyled:g,interacting:m,setHeights:w,visibleToasts:y,heights:v,index:x,toasts:b,expanded:E,removeToast:S,defaultRichColors:k,closeButton:N,style:O,cancelButtonStyle:j,actionButtonStyle:H,className:P="",descriptionClassName:T="",duration:I,position:$,gap:L,loadingIcon:z,expandByDefault:C,classNames:R,icons:F,closeButtonAriaLabel:M="Close toast",pauseWhenPageIsHidden:D}=t,[V,Y]=W.useState(null),[le,ve]=W.useState(null),[K,be]=W.useState(!1),[Mt,At]=W.useState(!1),[Ge,se]=W.useState(!1),[ce,Z]=W.useState(!1),[Ie,ue]=W.useState(!1),[pt,Lr]=W.useState(0),[ws,dp]=W.useState(0),Mo=W.useRef(p.duration||I||Lm),fp=W.useRef(null),Fr=W.useRef(null),e_=x===0,t_=x+1<=y,Ot=p.type,_s=p.dismissible!==!1,n_=p.className||"",r_=p.descriptionClassName||"",ha=W.useMemo(()=>v.findIndex(q=>q.toastId===p.id)||0,[v,p.id]),s_=W.useMemo(()=>{var q;return(q=p.closeButton)!=null?q:N},[p.closeButton,N]),hp=W.useMemo(()=>p.duration||I||Lm,[p.duration,I]),Wc=W.useRef(0),bs=W.useRef(0),pp=W.useRef(0),Ss=W.useRef(null),[o_,i_]=$.split("-"),mp=W.useMemo(()=>v.reduce((q,fe,Se)=>Se>=ha?q:q+fe.height,0),[v,ha]),gp=MC(),a_=p.invert||d,Uc=Ot==="loading";bs.current=W.useMemo(()=>ha*L+mp,[ha,mp]),W.useEffect(()=>{Mo.current=hp},[hp]),W.useEffect(()=>{be(!0)},[]),W.useEffect(()=>{let q=Fr.current;if(q){let fe=q.getBoundingClientRect().height;return dp(fe),w(Se=>[{toastId:p.id,height:fe,position:p.position},...Se]),()=>w(Se=>Se.filter(Ht=>Ht.toastId!==p.id))}},[w,p.id]),W.useLayoutEffect(()=>{if(!K)return;let q=Fr.current,fe=q.style.height;q.style.height="auto";let Se=q.getBoundingClientRect().height;q.style.height=fe,dp(Se),w(Ht=>Ht.find(Gt=>Gt.toastId===p.id)?Ht.map(Gt=>Gt.toastId===p.id?{...Gt,height:Se}:Gt):[{toastId:p.id,height:Se,position:p.position},...Ht])},[K,p.title,p.description,w,p.id]);let Gn=W.useCallback(()=>{At(!0),Lr(bs.current),w(q=>q.filter(fe=>fe.toastId!==p.id)),setTimeout(()=>{S(p)},YC)},[p,S,w,bs]);W.useEffect(()=>{if(p.promise&&Ot==="loading"||p.duration===1/0||p.type==="loading")return;let q;return E||m||D&&gp?(()=>{if(pp.current<Wc.current){let fe=new Date().getTime()-Wc.current;Mo.current=Mo.current-fe}pp.current=new Date().getTime()})():Mo.current!==1/0&&(Wc.current=new Date().getTime(),q=setTimeout(()=>{var fe;(fe=p.onAutoClose)==null||fe.call(p,p),Gn()},Mo.current)),()=>clearTimeout(q)},[E,m,p,Ot,D,gp,Gn]),W.useEffect(()=>{p.delete&&Gn()},[Gn,p.delete]);function l_(){var q,fe,Se;return F!=null&&F.loading?W.createElement("div",{className:Kt(R==null?void 0:R.loader,(q=p==null?void 0:p.classNames)==null?void 0:q.loader,"sonner-loader"),"data-visible":Ot==="loading"},F.loading):z?W.createElement("div",{className:Kt(R==null?void 0:R.loader,(fe=p==null?void 0:p.classNames)==null?void 0:fe.loader,"sonner-loader"),"data-visible":Ot==="loading"},z):W.createElement(NC,{className:Kt(R==null?void 0:R.loader,(Se=p==null?void 0:p.classNames)==null?void 0:Se.loader),visible:Ot==="loading"})}return W.createElement("li",{tabIndex:0,ref:Fr,className:Kt(P,n_,R==null?void 0:R.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,R==null?void 0:R.default,R==null?void 0:R[Ot],(n=p==null?void 0:p.classNames)==null?void 0:n[Ot]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:k,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":K,"data-promise":!!p.promise,"data-swiped":Ie,"data-removed":Mt,"data-visible":t_,"data-y-position":o_,"data-x-position":i_,"data-index":x,"data-front":e_,"data-swiping":Ge,"data-dismissible":_s,"data-type":Ot,"data-invert":a_,"data-swipe-out":ce,"data-swipe-direction":le,"data-expanded":!!(E||C&&K),style:{"--index":x,"--toasts-before":x,"--z-index":b.length-x,"--offset":`${Mt?pt:bs.current}px`,"--initial-height":C?"auto":`${ws}px`,...O,...p.style},onDragEnd:()=>{se(!1),Y(null),Ss.current=null},onPointerDown:q=>{Uc||!_s||(fp.current=new Date,Lr(bs.current),q.target.setPointerCapture(q.pointerId),q.target.tagName!=="BUTTON"&&(se(!0),Ss.current={x:q.clientX,y:q.clientY}))},onPointerUp:()=>{var q,fe,Se,Ht;if(ce||!_s)return;Ss.current=null;let Gt=Number(((q=Fr.current)==null?void 0:q.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Yn=Number(((fe=Fr.current)==null?void 0:fe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),zr=new Date().getTime()-((Se=fp.current)==null?void 0:Se.getTime()),Yt=V==="x"?Gt:Yn,Qn=Math.abs(Yt)/zr;if(Math.abs(Yt)>=GC||Qn>.11){Lr(bs.current),(Ht=p.onDismiss)==null||Ht.call(p,p),ve(V==="x"?Gt>0?"right":"left":Yn>0?"down":"up"),Gn(),Z(!0),ue(!1);return}se(!1),Y(null)},onPointerMove:q=>{var fe,Se,Ht,Gt;if(!Ss.current||!_s||((fe=window.getSelection())==null?void 0:fe.toString().length)>0)return;let Yn=q.clientY-Ss.current.y,zr=q.clientX-Ss.current.x,Yt=(Se=t.swipeDirections)!=null?Se:QC($);!V&&(Math.abs(zr)>1||Math.abs(Yn)>1)&&Y(Math.abs(zr)>Math.abs(Yn)?"x":"y");let Qn={x:0,y:0};V==="y"?(Yt.includes("top")||Yt.includes("bottom"))&&(Yt.includes("top")&&Yn<0||Yt.includes("bottom")&&Yn>0)&&(Qn.y=Yn):V==="x"&&(Yt.includes("left")||Yt.includes("right"))&&(Yt.includes("left")&&zr<0||Yt.includes("right")&&zr>0)&&(Qn.x=zr),(Math.abs(Qn.x)>0||Math.abs(Qn.y)>0)&&ue(!0),(Ht=Fr.current)==null||Ht.style.setProperty("--swipe-amount-x",`${Qn.x}px`),(Gt=Fr.current)==null||Gt.style.setProperty("--swipe-amount-y",`${Qn.y}px`)}},s_&&!p.jsx?W.createElement("button",{"aria-label":M,"data-disabled":Uc,"data-close-button":!0,onClick:Uc||!_s?()=>{}:()=>{var q;Gn(),(q=p.onDismiss)==null||q.call(p,p)},className:Kt(R==null?void 0:R.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(o=F==null?void 0:F.close)!=null?o:jC):null,p.jsx||_.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:W.createElement(W.Fragment,null,Ot||p.icon||p.promise?W.createElement("div",{"data-icon":"",className:Kt(R==null?void 0:R.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||l_():null,p.type!=="loading"?p.icon||(F==null?void 0:F[Ot])||kC(Ot):null):null,W.createElement("div",{"data-content":"",className:Kt(R==null?void 0:R.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},W.createElement("div",{"data-title":"",className:Kt(R==null?void 0:R.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?W.createElement("div",{"data-description":"",className:Kt(T,r_,R==null?void 0:R.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),_.isValidElement(p.cancel)?p.cancel:p.cancel&&Aa(p.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||j,onClick:q=>{var fe,Se;Aa(p.cancel)&&_s&&((Se=(fe=p.cancel).onClick)==null||Se.call(fe,q),Gn())},className:Kt(R==null?void 0:R.cancelButton,(h=p==null?void 0:p.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,_.isValidElement(p.action)?p.action:p.action&&Aa(p.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||H,onClick:q=>{var fe,Se;Aa(p.action)&&((Se=(fe=p.action).onClick)==null||Se.call(fe,q),!q.defaultPrevented&&Gn())},className:Kt(R==null?void 0:R.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function Fm(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function qC(t,e){let n={};return[t,e].forEach((r,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?UC:WC;function l(u){["top","right","bottom","left"].forEach(h=>{n[`${i}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${i}-${u}`]=a:n[`${i}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var XC=_.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:l,mobileOffset:u,theme:h="light",richColors:f,duration:d,style:p,visibleToasts:g=$C,toastOptions:m,dir:w=Fm(),gap:y=HC,loadingIcon:v,icons:x,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:E}=t,[S,k]=W.useState([]),N=W.useMemo(()=>Array.from(new Set([r].concat(S.filter(D=>D.position).map(D=>D.position)))),[S,r]),[O,j]=W.useState([]),[H,P]=W.useState(!1),[T,I]=W.useState(!1),[$,L]=W.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=W.useRef(null),C=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=W.useRef(null),F=W.useRef(!1),M=W.useCallback(D=>{k(V=>{var Y;return(Y=V.find(le=>le.id===D.id))!=null&&Y.delete||mt.dismiss(D.id),V.filter(({id:le})=>le!==D.id)})},[]);return W.useEffect(()=>mt.subscribe(D=>{if(D.dismiss){k(V=>V.map(Y=>Y.id===D.id?{...Y,delete:!0}:Y));return}setTimeout(()=>{P0.flushSync(()=>{k(V=>{let Y=V.findIndex(le=>le.id===D.id);return Y!==-1?[...V.slice(0,Y),{...V[Y],...D},...V.slice(Y+1)]:[D,...V]})})})}),[]),W.useEffect(()=>{if(h!=="system"){L(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let D=window.matchMedia("(prefers-color-scheme: dark)");try{D.addEventListener("change",({matches:V})=>{L(V?"dark":"light")})}catch{D.addListener(({matches:Y})=>{try{L(Y?"dark":"light")}catch(le){console.error(le)}})}},[h]),W.useEffect(()=>{S.length<=1&&P(!1)},[S]),W.useEffect(()=>{let D=V=>{var Y,le;s.every(ve=>V[ve]||V.code===ve)&&(P(!0),(Y=z.current)==null||Y.focus()),V.code==="Escape"&&(document.activeElement===z.current||(le=z.current)!=null&&le.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[s]),W.useEffect(()=>{if(z.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,F.current=!1)}},[z.current]),W.createElement("section",{ref:e,"aria-label":`${b} ${C}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((D,V)=>{var Y;let[le,ve]=D.split("-");return S.length?W.createElement("ol",{key:D,dir:w==="auto"?Fm():w,tabIndex:-1,ref:z,className:a,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":le,"data-lifted":H&&S.length>1&&!o,"data-x-position":ve,style:{"--front-toast-height":`${((Y=O[0])==null?void 0:Y.height)||0}px`,"--width":`${VC}px`,"--gap":`${y}px`,...p,...qC(l,u)},onBlur:K=>{F.current&&!K.currentTarget.contains(K.relatedTarget)&&(F.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||F.current||(F.current=!0,R.current=K.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{T||P(!1)},onDragEnd:()=>P(!1),onPointerDown:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},S.filter(K=>!K.position&&V===0||K.position===D).map((K,be)=>{var Mt,At;return W.createElement(KC,{key:K.id,icons:x,index:be,toast:K,defaultRichColors:f,duration:(Mt=m==null?void 0:m.duration)!=null?Mt:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:n,visibleToasts:g,closeButton:(At=m==null?void 0:m.closeButton)!=null?At:i,interacting:T,position:D,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:M,toasts:S.filter(Ge=>Ge.position==K.position),heights:O.filter(Ge=>Ge.position==K.position),setHeights:j,expandByDefault:o,gap:y,loadingIcon:v,expanded:H,pauseWhenPageIsHidden:E,swipeDirections:t.swipeDirections})})):null}))});const JC=({...t})=>{const{theme:e="system"}=CC();return c.jsx(XC,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},ZC=["top","right","bottom","left"],Tr=Math.min,kt=Math.max,El=Math.round,Oa=Math.floor,bn=t=>({x:t,y:t}),ek={left:"right",right:"left",bottom:"top",top:"bottom"},tk={start:"end",end:"start"};function Ld(t,e,n){return kt(t,Tr(e,n))}function Bn(t,e){return typeof t=="function"?t(e):t}function $n(t){return t.split("-")[0]}function Eo(t){return t.split("-")[1]}function yh(t){return t==="x"?"y":"x"}function vh(t){return t==="y"?"height":"width"}const nk=new Set(["top","bottom"]);function xn(t){return nk.has($n(t))?"y":"x"}function xh(t){return yh(xn(t))}function rk(t,e,n){n===void 0&&(n=!1);const r=Eo(t),s=xh(t),o=vh(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=Nl(i)),[i,Nl(i)]}function sk(t){const e=Nl(t);return[Fd(t),e,Fd(e)]}function Fd(t){return t.replace(/start|end/g,e=>tk[e])}const zm=["left","right"],Bm=["right","left"],ok=["top","bottom"],ik=["bottom","top"];function ak(t,e,n){switch(t){case"top":case"bottom":return n?e?Bm:zm:e?zm:Bm;case"left":case"right":return e?ok:ik;default:return[]}}function lk(t,e,n,r){const s=Eo(t);let o=ak($n(t),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(Fd)))),o}function Nl(t){return t.replace(/left|right|bottom|top/g,e=>ek[e])}function ck(t){return{top:0,right:0,bottom:0,left:0,...t}}function vx(t){return typeof t!="number"?ck(t):{top:t,right:t,bottom:t,left:t}}function Tl(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function $m(t,e,n){let{reference:r,floating:s}=t;const o=xn(e),i=xh(e),a=vh(i),l=$n(e),u=o==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,d=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:h,y:r.y-s.height};break;case"bottom":p={x:h,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Eo(e)){case"start":p[i]-=d*(n&&u?-1:1);break;case"end":p[i]+=d*(n&&u?-1:1);break}return p}const uk=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(e));let u=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=$m(u,r,l),d=r,p={},g=0;for(let m=0;m<a.length;m++){const{name:w,fn:y}=a[m],{x:v,y:x,data:b,reset:E}=await y({x:h,y:f,initialPlacement:r,placement:d,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:t,floating:e}});h=v??h,f=x??f,p={...p,[w]:{...p[w],...b}},E&&g<=50&&(g++,typeof E=="object"&&(E.placement&&(d=E.placement),E.rects&&(u=E.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):E.rects),{x:h,y:f}=$m(u,d,l)),m=-1)}return{x:h,y:f,placement:d,strategy:s,middlewareData:p}};async function Ai(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=Bn(e,t),g=vx(p),w=a[d?f==="floating"?"reference":"floating":f],y=Tl(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:l})),v=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),b=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},E=Tl(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:l}):v);return{top:(y.top-E.top+g.top)/b.y,bottom:(E.bottom-y.bottom+g.bottom)/b.y,left:(y.left-E.left+g.left)/b.x,right:(E.right-y.right+g.right)/b.x}}const dk=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=e,{element:u,padding:h=0}=Bn(t,e)||{};if(u==null)return{};const f=vx(h),d={x:n,y:r},p=xh(s),g=vh(p),m=await i.getDimensions(u),w=p==="y",y=w?"top":"left",v=w?"bottom":"right",x=w?"clientHeight":"clientWidth",b=o.reference[g]+o.reference[p]-d[p]-o.floating[g],E=d[p]-o.reference[p],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let k=S?S[x]:0;(!k||!await(i.isElement==null?void 0:i.isElement(S)))&&(k=a.floating[x]||o.floating[g]);const N=b/2-E/2,O=k/2-m[g]/2-1,j=Tr(f[y],O),H=Tr(f[v],O),P=j,T=k-m[g]-H,I=k/2-m[g]/2+N,$=Ld(P,I,T),L=!l.arrow&&Eo(s)!=null&&I!==$&&o.reference[g]/2-(I<P?j:H)-m[g]/2<0,z=L?I<P?I-P:I-T:0;return{[p]:d[p]+z,data:{[p]:$,centerOffset:I-$-z,...L&&{alignmentOffset:z}},reset:L}}}),fk=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...w}=Bn(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=$n(s),v=xn(a),x=$n(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=d||(x||!m?[Nl(a)]:sk(a)),S=g!=="none";!d&&S&&E.push(...lk(a,m,g,b));const k=[a,...E],N=await Ai(e,w),O=[];let j=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&O.push(N[y]),f){const I=rk(s,i,b);O.push(N[I[0]],N[I[1]])}if(j=[...j,{placement:s,overflows:O}],!O.every(I=>I<=0)){var H,P;const I=(((H=o.flip)==null?void 0:H.index)||0)+1,$=k[I];if($&&(!(f==="alignment"?v!==xn($):!1)||j.every(C=>C.overflows[0]>0&&xn(C.placement)===v)))return{data:{index:I,overflows:j},reset:{placement:$}};let L=(P=j.filter(z=>z.overflows[0]<=0).sort((z,C)=>z.overflows[1]-C.overflows[1])[0])==null?void 0:P.placement;if(!L)switch(p){case"bestFit":{var T;const z=(T=j.filter(C=>{if(S){const R=xn(C.placement);return R===v||R==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(R=>R>0).reduce((R,F)=>R+F,0)]).sort((C,R)=>C[1]-R[1])[0])==null?void 0:T[0];z&&(L=z);break}case"initialPlacement":L=a;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function Wm(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Um(t){return ZC.some(e=>t[e]>=0)}const hk=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Bn(t,e);switch(r){case"referenceHidden":{const o=await Ai(e,{...s,elementContext:"reference"}),i=Wm(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Um(i)}}}case"escaped":{const o=await Ai(e,{...s,altBoundary:!0}),i=Wm(o,n.floating);return{data:{escapedOffsets:i,escaped:Um(i)}}}default:return{}}}}},xx=new Set(["left","top"]);async function pk(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=$n(n),a=Eo(n),l=xn(n)==="y",u=xx.has(i)?-1:1,h=o&&l?-1:1,f=Bn(e,t);let{mainAxis:d,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*h,y:d*u}:{x:d*u,y:p*h}}const mk=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=e,l=await pk(e,t);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},gk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:w=>{let{x:y,y:v}=w;return{x:y,y:v}}},...l}=Bn(t,e),u={x:n,y:r},h=await Ai(e,l),f=xn($n(s)),d=yh(f);let p=u[d],g=u[f];if(o){const w=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=p+h[w],x=p-h[y];p=Ld(v,p,x)}if(i){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=g+h[w],x=g-h[y];g=Ld(v,g,x)}const m=a.fn({...e,[d]:p,[f]:g});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[d]:o,[f]:i}}}}}},yk=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Bn(t,e),h={x:n,y:r},f=xn(s),d=yh(f);let p=h[d],g=h[f];const m=Bn(a,e),w=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const x=d==="y"?"height":"width",b=o.reference[d]-o.floating[x]+w.mainAxis,E=o.reference[d]+o.reference[x]-w.mainAxis;p<b?p=b:p>E&&(p=E)}if(u){var y,v;const x=d==="y"?"width":"height",b=xx.has($n(s)),E=o.reference[f]-o.floating[x]+(b&&((y=i.offset)==null?void 0:y[f])||0)+(b?0:w.crossAxis),S=o.reference[f]+o.reference[x]+(b?0:((v=i.offset)==null?void 0:v[f])||0)-(b?w.crossAxis:0);g<E?g=E:g>S&&(g=S)}return{[d]:p,[f]:g}}}},vk=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:i,elements:a}=e,{apply:l=()=>{},...u}=Bn(t,e),h=await Ai(e,u),f=$n(s),d=Eo(s),p=xn(s)==="y",{width:g,height:m}=o.floating;let w,y;f==="top"||f==="bottom"?(w=f,y=d===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,w=d==="end"?"top":"bottom");const v=m-h.top-h.bottom,x=g-h.left-h.right,b=Tr(m-h[w],v),E=Tr(g-h[y],x),S=!e.middlewareData.shift;let k=b,N=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=v),S&&!d){const j=kt(h.left,0),H=kt(h.right,0),P=kt(h.top,0),T=kt(h.bottom,0);p?N=g-2*(j!==0||H!==0?j+H:kt(h.left,h.right)):k=m-2*(P!==0||T!==0?P+T:kt(h.top,h.bottom))}await l({...e,availableWidth:N,availableHeight:k});const O=await i.getDimensions(a.floating);return g!==O.width||m!==O.height?{reset:{rects:!0}}:{}}}};function xc(){return typeof window<"u"}function No(t){return wx(t)?(t.nodeName||"").toLowerCase():"#document"}function Tt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Cn(t){var e;return(e=(wx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function wx(t){return xc()?t instanceof Node||t instanceof Tt(t).Node:!1}function dn(t){return xc()?t instanceof Element||t instanceof Tt(t).Element:!1}function Sn(t){return xc()?t instanceof HTMLElement||t instanceof Tt(t).HTMLElement:!1}function Vm(t){return!xc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tt(t).ShadowRoot}const xk=new Set(["inline","contents"]);function sa(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=fn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!xk.has(s)}const wk=new Set(["table","td","th"]);function _k(t){return wk.has(No(t))}const bk=[":popover-open",":modal"];function wc(t){return bk.some(e=>{try{return t.matches(e)}catch{return!1}})}const Sk=["transform","translate","scale","rotate","perspective"],Ck=["transform","translate","scale","rotate","perspective","filter"],kk=["paint","layout","strict","content"];function wh(t){const e=_h(),n=dn(t)?fn(t):t;return Sk.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Ck.some(r=>(n.willChange||"").includes(r))||kk.some(r=>(n.contain||"").includes(r))}function Ek(t){let e=Ir(t);for(;Sn(e)&&!po(e);){if(wh(e))return e;if(wc(e))return null;e=Ir(e)}return null}function _h(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Nk=new Set(["html","body","#document"]);function po(t){return Nk.has(No(t))}function fn(t){return Tt(t).getComputedStyle(t)}function _c(t){return dn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ir(t){if(No(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Vm(t)&&t.host||Cn(t);return Vm(e)?e.host:e}function _x(t){const e=Ir(t);return po(e)?t.ownerDocument?t.ownerDocument.body:t.body:Sn(e)&&sa(e)?e:_x(e)}function Oi(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=_x(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),i=Tt(s);if(o){const a=zd(i);return e.concat(i,i.visualViewport||[],sa(s)?s:[],a&&n?Oi(a):[])}return e.concat(s,Oi(s,[],n))}function zd(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function bx(t){const e=fn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Sn(t),o=s?t.offsetWidth:n,i=s?t.offsetHeight:r,a=El(n)!==o||El(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function bh(t){return dn(t)?t:t.contextElement}function Ys(t){const e=bh(t);if(!Sn(e))return bn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=bx(e);let i=(o?El(n.width):n.width)/r,a=(o?El(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const Tk=bn(0);function Sx(t){const e=Tt(t);return!_h()||!e.visualViewport?Tk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ik(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Tt(t)?!1:e}function us(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=bh(t);let i=bn(1);e&&(r?dn(r)&&(i=Ys(r)):i=Ys(t));const a=Ik(o,n,r)?Sx(o):bn(0);let l=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,h=s.width/i.x,f=s.height/i.y;if(o){const d=Tt(o),p=r&&dn(r)?Tt(r):r;let g=d,m=zd(g);for(;m&&r&&p!==g;){const w=Ys(m),y=m.getBoundingClientRect(),v=fn(m),x=y.left+(m.clientLeft+parseFloat(v.paddingLeft))*w.x,b=y.top+(m.clientTop+parseFloat(v.paddingTop))*w.y;l*=w.x,u*=w.y,h*=w.x,f*=w.y,l+=x,u+=b,g=Tt(m),m=zd(g)}}return Tl({width:h,height:f,x:l,y:u})}function Sh(t,e){const n=_c(t).scrollLeft;return e?e.left+n:us(Cn(t)).left+n}function Cx(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Sh(t,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function Rk(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",i=Cn(r),a=e?wc(e.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=bn(1);const h=bn(0),f=Sn(r);if((f||!f&&!o)&&((No(r)!=="body"||sa(i))&&(l=_c(r)),Sn(r))){const p=us(r);u=Ys(r),h.x=p.x+r.clientLeft,h.y=p.y+r.clientTop}const d=i&&!f&&!o?Cx(i,l,!0):bn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+h.x+d.x,y:n.y*u.y-l.scrollTop*u.y+h.y+d.y}}function Pk(t){return Array.from(t.getClientRects())}function jk(t){const e=Cn(t),n=_c(t),r=t.ownerDocument.body,s=kt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=kt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Sh(t);const a=-n.scrollTop;return fn(r).direction==="rtl"&&(i+=kt(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}function Mk(t,e){const n=Tt(t),r=Cn(t),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const u=_h();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:a,y:l}}const Ak=new Set(["absolute","fixed"]);function Ok(t,e){const n=us(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=Sn(t)?Ys(t):bn(1),i=t.clientWidth*o.x,a=t.clientHeight*o.y,l=s*o.x,u=r*o.y;return{width:i,height:a,x:l,y:u}}function Hm(t,e,n){let r;if(e==="viewport")r=Mk(t,n);else if(e==="document")r=jk(Cn(t));else if(dn(e))r=Ok(e,n);else{const s=Sx(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Tl(r)}function kx(t,e){const n=Ir(t);return n===e||!dn(n)||po(n)?!1:fn(n).position==="fixed"||kx(n,e)}function Dk(t,e){const n=e.get(t);if(n)return n;let r=Oi(t,[],!1).filter(a=>dn(a)&&No(a)!=="body"),s=null;const o=fn(t).position==="fixed";let i=o?Ir(t):t;for(;dn(i)&&!po(i);){const a=fn(i),l=wh(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&Ak.has(s.position)||sa(i)&&!l&&kx(t,i))?r=r.filter(h=>h!==i):s=a,i=Ir(i)}return e.set(t,r),r}function Lk(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?wc(e)?[]:Dk(e,this._c):[].concat(n),r],a=i[0],l=i.reduce((u,h)=>{const f=Hm(e,h,s);return u.top=kt(f.top,u.top),u.right=Tr(f.right,u.right),u.bottom=Tr(f.bottom,u.bottom),u.left=kt(f.left,u.left),u},Hm(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Fk(t){const{width:e,height:n}=bx(t);return{width:e,height:n}}function zk(t,e,n){const r=Sn(e),s=Cn(e),o=n==="fixed",i=us(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=bn(0);function u(){l.x=Sh(s)}if(r||!r&&!o)if((No(e)!=="body"||sa(s))&&(a=_c(e)),r){const p=us(e,!0,o,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&u();o&&!r&&s&&u();const h=s&&!r&&!o?Cx(s,a):bn(0),f=i.left+a.scrollLeft-l.x-h.x,d=i.top+a.scrollTop-l.y-h.y;return{x:f,y:d,width:i.width,height:i.height}}function _u(t){return fn(t).position==="static"}function Gm(t,e){if(!Sn(t)||fn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Cn(t)===n&&(n=n.ownerDocument.body),n}function Ex(t,e){const n=Tt(t);if(wc(t))return n;if(!Sn(t)){let s=Ir(t);for(;s&&!po(s);){if(dn(s)&&!_u(s))return s;s=Ir(s)}return n}let r=Gm(t,e);for(;r&&_k(r)&&_u(r);)r=Gm(r,e);return r&&po(r)&&_u(r)&&!wh(r)?n:r||Ek(t)||n}const Bk=async function(t){const e=this.getOffsetParent||Ex,n=this.getDimensions,r=await n(t.floating);return{reference:zk(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function $k(t){return fn(t).direction==="rtl"}const Wk={convertOffsetParentRelativeRectToViewportRelativeRect:Rk,getDocumentElement:Cn,getClippingRect:Lk,getOffsetParent:Ex,getElementRects:Bk,getClientRects:Pk,getDimensions:Fk,getScale:Ys,isElement:dn,isRTL:$k};function Nx(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Uk(t,e){let n=null,r;const s=Cn(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=t.getBoundingClientRect(),{left:h,top:f,width:d,height:p}=u;if(a||e(),!d||!p)return;const g=Oa(f),m=Oa(s.clientWidth-(h+d)),w=Oa(s.clientHeight-(f+p)),y=Oa(h),x={rootMargin:-g+"px "+-m+"px "+-w+"px "+-y+"px",threshold:kt(0,Tr(1,l))||1};let b=!0;function E(S){const k=S[0].intersectionRatio;if(k!==l){if(!b)return i();k?i(!1,k):r=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!Nx(u,t.getBoundingClientRect())&&i(),b=!1}try{n=new IntersectionObserver(E,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(E,x)}n.observe(t)}return i(!0),o}function Vk(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=bh(t),h=s||o?[...u?Oi(u):[],...Oi(e)]:[];h.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const f=u&&a?Uk(u,n):null;let d=-1,p=null;i&&(p=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(e)})),n()}),u&&!l&&p.observe(u),p.observe(e));let g,m=l?us(t):null;l&&w();function w(){const y=us(t);m&&!Nx(m,y)&&n(),m=y,g=requestAnimationFrame(w)}return n(),()=>{var y;h.forEach(v=>{s&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const Hk=mk,Gk=gk,Yk=fk,Qk=vk,Kk=hk,Ym=dk,qk=yk,Xk=(t,e,n)=>{const r=new Map,s={platform:Wk,...n},o={...s.platform,_c:r};return uk(t,e,{...s,platform:o})};var Jk=typeof document<"u",Zk=function(){},Za=Jk?_.useLayoutEffect:Zk;function Il(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Il(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Il(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function Tx(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Qm(t,e){const n=Tx(t);return Math.round(e*n)/n}function bu(t){const e=_.useRef(t);return Za(()=>{e.current=t}),e}function eE(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[h,f]=_.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[d,p]=_.useState(r);Il(d,r)||p(r);const[g,m]=_.useState(null),[w,y]=_.useState(null),v=_.useCallback(C=>{C!==S.current&&(S.current=C,m(C))},[]),x=_.useCallback(C=>{C!==k.current&&(k.current=C,y(C))},[]),b=o||g,E=i||w,S=_.useRef(null),k=_.useRef(null),N=_.useRef(h),O=l!=null,j=bu(l),H=bu(s),P=bu(u),T=_.useCallback(()=>{if(!S.current||!k.current)return;const C={placement:e,strategy:n,middleware:d};H.current&&(C.platform=H.current),Xk(S.current,k.current,C).then(R=>{const F={...R,isPositioned:P.current!==!1};I.current&&!Il(N.current,F)&&(N.current=F,na.flushSync(()=>{f(F)}))})},[d,e,n,H,P]);Za(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(C=>({...C,isPositioned:!1})))},[u]);const I=_.useRef(!1);Za(()=>(I.current=!0,()=>{I.current=!1}),[]),Za(()=>{if(b&&(S.current=b),E&&(k.current=E),b&&E){if(j.current)return j.current(b,E,T);T()}},[b,E,T,j,O]);const $=_.useMemo(()=>({reference:S,floating:k,setReference:v,setFloating:x}),[v,x]),L=_.useMemo(()=>({reference:b,floating:E}),[b,E]),z=_.useMemo(()=>{const C={position:n,left:0,top:0};if(!L.floating)return C;const R=Qm(L.floating,h.x),F=Qm(L.floating,h.y);return a?{...C,transform:"translate("+R+"px, "+F+"px)",...Tx(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:F}},[n,a,L.floating,h.x,h.y]);return _.useMemo(()=>({...h,update:T,refs:$,elements:L,floatingStyles:z}),[h,T,$,L,z])}const tE=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Ym({element:r.current,padding:s}).fn(n):{}:r?Ym({element:r,padding:s}).fn(n):{}}}},nE=(t,e)=>({...Hk(t),options:[t,e]}),rE=(t,e)=>({...Gk(t),options:[t,e]}),sE=(t,e)=>({...qk(t),options:[t,e]}),oE=(t,e)=>({...Yk(t),options:[t,e]}),iE=(t,e)=>({...Qk(t),options:[t,e]}),aE=(t,e)=>({...Kk(t),options:[t,e]}),lE=(t,e)=>({...tE(t),options:[t,e]});var cE="Arrow",Ix=_.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return c.jsx(St.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ix.displayName=cE;var uE=Ix;function dE(t){const[e,n]=_.useState(void 0);return Nr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;i=u.inlineSize,a=u.blockSize}else i=t.offsetWidth,a=t.offsetHeight;n({width:i,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Rx="Popper",[Px,jx]=gc(Rx),[Rj,Mx]=Px(Rx),Ax="PopperAnchor",Ox=_.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=Mx(Ax,n),i=_.useRef(null),a=un(e,i);return _.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:c.jsx(St.div,{...s,ref:a})});Ox.displayName=Ax;var Ch="PopperContent",[fE,hE]=Px(Ch),Dx=_.forwardRef((t,e)=>{var K,be,Mt,At,Ge,se;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=t,w=Mx(Ch,n),[y,v]=_.useState(null),x=un(e,ce=>v(ce)),[b,E]=_.useState(null),S=dE(b),k=(S==null?void 0:S.width)??0,N=(S==null?void 0:S.height)??0,O=r+(o!=="center"?"-"+o:""),j=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},H=Array.isArray(u)?u:[u],P=H.length>0,T={padding:j,boundary:H.filter(mE),altBoundary:P},{refs:I,floatingStyles:$,placement:L,isPositioned:z,middlewareData:C}=eE({strategy:"fixed",placement:O,whileElementsMounted:(...ce)=>Vk(...ce,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[nE({mainAxis:s+N,alignmentAxis:i}),l&&rE({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?sE():void 0,...T}),l&&oE({...T}),iE({...T,apply:({elements:ce,rects:Z,availableWidth:Ie,availableHeight:ue})=>{const{width:pt,height:Lr}=Z.reference,ws=ce.floating.style;ws.setProperty("--radix-popper-available-width",`${Ie}px`),ws.setProperty("--radix-popper-available-height",`${ue}px`),ws.setProperty("--radix-popper-anchor-width",`${pt}px`),ws.setProperty("--radix-popper-anchor-height",`${Lr}px`)}}),b&&lE({element:b,padding:a}),gE({arrowWidth:k,arrowHeight:N}),d&&aE({strategy:"referenceHidden",...T})]}),[R,F]=zx(L),M=Er(g);Nr(()=>{z&&(M==null||M())},[z,M]);const D=(K=C.arrow)==null?void 0:K.x,V=(be=C.arrow)==null?void 0:be.y,Y=((Mt=C.arrow)==null?void 0:Mt.centerOffset)!==0,[le,ve]=_.useState();return Nr(()=>{y&&ve(window.getComputedStyle(y).zIndex)},[y]),c.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:z?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(At=C.transformOrigin)==null?void 0:At.x,(Ge=C.transformOrigin)==null?void 0:Ge.y].join(" "),...((se=C.hide)==null?void 0:se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(fE,{scope:n,placedSide:R,onArrowChange:E,arrowX:D,arrowY:V,shouldHideArrow:Y,children:c.jsx(St.div,{"data-side":R,"data-align":F,...m,ref:x,style:{...m.style,animation:z?void 0:"none"}})})})});Dx.displayName=Ch;var Lx="PopperArrow",pE={top:"bottom",right:"left",bottom:"top",left:"right"},Fx=_.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=hE(Lx,r),i=pE[o.placedSide];return c.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:c.jsx(uE,{...s,ref:n,style:{...s.style,display:"block"}})})});Fx.displayName=Lx;function mE(t){return t!==null}var gE=t=>({name:"transformOrigin",options:t,fn(e){var w,y,v;const{placement:n,rects:r,middlewareData:s}=e,i=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=i?0:t.arrowWidth,l=i?0:t.arrowHeight,[u,h]=zx(n),f={start:"0%",center:"50%",end:"100%"}[h],d=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let g="",m="";return u==="bottom"?(g=i?f:`${d}px`,m=`${-l}px`):u==="top"?(g=i?f:`${d}px`,m=`${r.floating.height+l}px`):u==="right"?(g=`${-l}px`,m=i?f:`${p}px`):u==="left"&&(g=`${r.floating.width+l}px`,m=i?f:`${p}px`),{data:{x:g,y:m}}}});function zx(t){const[e,n="center"]=t.split("-");return[e,n]}var yE=Ox,vE=Dx,xE=Fx,[bc,Pj]=gc("Tooltip",[jx]),kh=jx(),Bx="TooltipProvider",wE=700,Km="tooltip.open",[_E,$x]=bc(Bx),Wx=t=>{const{__scopeTooltip:e,delayDuration:n=wE,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=t,i=_.useRef(!0),a=_.useRef(!1),l=_.useRef(0);return _.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(_E,{scope:e,isOpenDelayedRef:i,delayDuration:n,onOpen:_.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:_.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:o})};Wx.displayName=Bx;var Ux="Tooltip",[jj,Sc]=bc(Ux),Bd="TooltipTrigger",bE=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Sc(Bd,n),o=$x(Bd,n),i=kh(n),a=_.useRef(null),l=un(e,a,s.onTriggerChange),u=_.useRef(!1),h=_.useRef(!1),f=_.useCallback(()=>u.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(yE,{asChild:!0,...i,children:c.jsx(St.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Fe(t.onPointerMove,d=>{d.pointerType!=="touch"&&!h.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Fe(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Fe(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Fe(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:Fe(t.onBlur,s.onClose),onClick:Fe(t.onClick,s.onClose)})})});bE.displayName=Bd;var SE="TooltipPortal",[Mj,CE]=bc(SE,{forceMount:void 0}),mo="TooltipContent",Vx=_.forwardRef((t,e)=>{const n=CE(mo,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=t,i=Sc(mo,t.__scopeTooltip);return c.jsx(fh,{present:r||i.open,children:i.disableHoverableContent?c.jsx(Hx,{side:s,...o,ref:e}):c.jsx(kE,{side:s,...o,ref:e})})}),kE=_.forwardRef((t,e)=>{const n=Sc(mo,t.__scopeTooltip),r=$x(mo,t.__scopeTooltip),s=_.useRef(null),o=un(e,s),[i,a]=_.useState(null),{trigger:l,onClose:u}=n,h=s.current,{onPointerInTransitChange:f}=r,d=_.useCallback(()=>{a(null),f(!1)},[f]),p=_.useCallback((g,m)=>{const w=g.currentTarget,y={x:g.clientX,y:g.clientY},v=RE(y,w.getBoundingClientRect()),x=PE(y,v),b=jE(m.getBoundingClientRect()),E=AE([...x,...b]);a(E),f(!0)},[f]);return _.useEffect(()=>()=>d(),[d]),_.useEffect(()=>{if(l&&h){const g=w=>p(w,h),m=w=>p(w,l);return l.addEventListener("pointerleave",g),h.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",g),h.removeEventListener("pointerleave",m)}}},[l,h,p,d]),_.useEffect(()=>{if(i){const g=m=>{const w=m.target,y={x:m.clientX,y:m.clientY},v=(l==null?void 0:l.contains(w))||(h==null?void 0:h.contains(w)),x=!ME(y,i);v?d():x&&(d(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,h,i,u,d]),c.jsx(Hx,{...t,ref:o})}),[EE,NE]=bc(Ux,{isInside:!1}),TE=U2("TooltipContent"),Hx=_.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=t,l=Sc(mo,n),u=kh(n),{onClose:h}=l;return _.useEffect(()=>(document.addEventListener(Km,h),()=>document.removeEventListener(Km,h)),[h]),_.useEffect(()=>{if(l.trigger){const f=d=>{const p=d.target;p!=null&&p.contains(l.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,h]),c.jsx(dh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:c.jsxs(vE,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(TE,{children:r}),c.jsx(EE,{scope:n,isInside:!0,children:c.jsx(pS,{id:l.contentId,role:"tooltip",children:s||r})})]})})});Vx.displayName=mo;var Gx="TooltipArrow",IE=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=kh(n);return NE(Gx,n).isInside?null:c.jsx(xE,{...s,...r,ref:e})});IE.displayName=Gx;function RE(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function PE(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function jE(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function ME(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o],l=e[i],u=a.x,h=a.y,f=l.x,d=l.y;h>r!=d>r&&n<(f-u)*(r-h)/(d-h)+u&&(s=!s)}return s}function AE(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),OE(e)}function OE(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var DE=Wx,Yx=Vx;const LE=DE,FE=_.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(Yx,{ref:r,sideOffset:e,className:ys("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));FE.displayName=Yx.displayName;var Cc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kc=typeof window>"u"||"Deno"in globalThis;function Jt(){}function zE(t,e){return typeof t=="function"?t(e):t}function BE(t){return typeof t=="number"&&t>=0&&t!==1/0}function $E(t,e){return Math.max(t+(e||0)-Date.now(),0)}function $d(t,e){return typeof t=="function"?t(e):t}function WE(t,e){return typeof t=="function"?t(e):t}function qm(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=t;if(i){if(r){if(e.queryHash!==Eh(i,e.options))return!1}else if(!Li(e.queryKey,i))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||o&&!o(e))}function Xm(t,e){const{exact:n,status:r,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Di(e.options.mutationKey)!==Di(o))return!1}else if(!Li(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Eh(t,e){return((e==null?void 0:e.queryKeyHashFn)||Di)(t)}function Di(t){return JSON.stringify(t,(e,n)=>Wd(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Li(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Li(t[n],e[n])):!1}function Qx(t,e){if(t===e)return t;const n=Jm(t)&&Jm(e);if(n||Wd(t)&&Wd(e)){const r=n?t:Object.keys(t),s=r.length,o=n?e:Object.keys(e),i=o.length,a=n?[]:{},l=new Set(r);let u=0;for(let h=0;h<i;h++){const f=n?h:o[h];(!n&&l.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,u++):(a[f]=Qx(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&u++)}return s===i&&u===s?t:a}return e}function Jm(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Wd(t){if(!Zm(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Zm(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Zm(t){return Object.prototype.toString.call(t)==="[object Object]"}function UE(t){return new Promise(e=>{setTimeout(e,t)})}function VE(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Qx(t,e):e}function HE(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function GE(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Nh=Symbol();function Kx(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Nh?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var qr,rr,Js,cy,YE=(cy=class extends Cc{constructor(){super();ie(this,qr);ie(this,rr);ie(this,Js);X(this,Js,e=>{if(!kc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){A(this,rr)||this.setEventListener(A(this,Js))}onUnsubscribe(){var e;this.hasListeners()||((e=A(this,rr))==null||e.call(this),X(this,rr,void 0))}setEventListener(e){var n;X(this,Js,e),(n=A(this,rr))==null||n.call(this),X(this,rr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){A(this,qr)!==e&&(X(this,qr,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof A(this,qr)=="boolean"?A(this,qr):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},qr=new WeakMap,rr=new WeakMap,Js=new WeakMap,cy),qx=new YE,Zs,sr,eo,uy,QE=(uy=class extends Cc{constructor(){super();ie(this,Zs,!0);ie(this,sr);ie(this,eo);X(this,eo,e=>{if(!kc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){A(this,sr)||this.setEventListener(A(this,eo))}onUnsubscribe(){var e;this.hasListeners()||((e=A(this,sr))==null||e.call(this),X(this,sr,void 0))}setEventListener(e){var n;X(this,eo,e),(n=A(this,sr))==null||n.call(this),X(this,sr,e(this.setOnline.bind(this)))}setOnline(e){A(this,Zs)!==e&&(X(this,Zs,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return A(this,Zs)}},Zs=new WeakMap,sr=new WeakMap,eo=new WeakMap,uy),Rl=new QE;function KE(){let t,e;const n=new Promise((s,o)=>{t=s,e=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function qE(t){return Math.min(1e3*2**t,3e4)}function Xx(t){return(t??"online")==="online"?Rl.isOnline():!0}var Jx=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Su(t){return t instanceof Jx}function Zx(t){let e=!1,n=0,r=!1,s;const o=KE(),i=m=>{var w;r||(d(new Jx(m)),(w=t.abort)==null||w.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>qx.isFocused()&&(t.networkMode==="always"||Rl.isOnline())&&t.canRun(),h=()=>Xx(t.networkMode)&&t.canRun(),f=m=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,m),s==null||s(),o.resolve(m))},d=m=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,m),s==null||s(),o.reject(m))},p=()=>new Promise(m=>{var w;s=y=>{(r||u())&&m(y)},(w=t.onPause)==null||w.call(t)}).then(()=>{var m;s=void 0,r||(m=t.onContinue)==null||m.call(t)}),g=()=>{if(r)return;let m;const w=n===0?t.initialPromise:void 0;try{m=w??t.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(f).catch(y=>{var S;if(r)return;const v=t.retry??(kc?0:3),x=t.retryDelay??qE,b=typeof x=="function"?x(n,y):x,E=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,y);if(e||!E){d(y);return}n++,(S=t.onFail)==null||S.call(t,n,y),UE(b).then(()=>u()?void 0:p()).then(()=>{e?d(y):g()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?g():p().then(g),o)}}var XE=t=>setTimeout(t,0);function JE(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=XE;const o=a=>{e?t.push(a):s(()=>{n(a)})},i=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||i()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var lt=JE(),Xr,dy,e1=(dy=class{constructor(){ie(this,Xr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),BE(this.gcTime)&&X(this,Xr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(kc?1/0:5*60*1e3))}clearGcTimeout(){A(this,Xr)&&(clearTimeout(A(this,Xr)),X(this,Xr,void 0))}},Xr=new WeakMap,dy),to,Jr,Dt,Zr,tt,Ki,es,Zt,Nn,fy,ZE=(fy=class extends e1{constructor(e){super();ie(this,Zt);ie(this,to);ie(this,Jr);ie(this,Dt);ie(this,Zr);ie(this,tt);ie(this,Ki);ie(this,es);X(this,es,!1),X(this,Ki,e.defaultOptions),this.setOptions(e.options),this.observers=[],X(this,Zr,e.client),X(this,Dt,A(this,Zr).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,X(this,to,t5(this.options)),this.state=e.state??A(this,to),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=A(this,tt))==null?void 0:e.promise}setOptions(e){this.options={...A(this,Ki),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&A(this,Dt).remove(this)}setData(e,n){const r=VE(this.state.data,e,this.options);return Je(this,Zt,Nn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Je(this,Zt,Nn).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=A(this,tt))==null?void 0:r.promise;return(s=A(this,tt))==null||s.cancel(e),n?n.then(Jt).catch(Jt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(A(this,to))}isActive(){return this.observers.some(e=>WE(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Nh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>$d(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!$E(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=A(this,tt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=A(this,tt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),A(this,Dt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(A(this,tt)&&(A(this,es)?A(this,tt).cancel({revert:!0}):A(this,tt).cancelRetry()),this.scheduleGc()),A(this,Dt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Je(this,Zt,Nn).call(this,{type:"invalidate"})}fetch(e,n){var u,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(A(this,tt))return A(this,tt).continueRetry(),A(this,tt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(X(this,es,!0),r.signal)})},o=()=>{const d=Kx(this.options,n),g=(()=>{const m={client:A(this,Zr),queryKey:this.queryKey,meta:this.meta};return s(m),m})();return X(this,es,!1),this.options.persister?this.options.persister(d,g,this):d(g)},a=(()=>{const d={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:A(this,Zr),state:this.state,fetchFn:o};return s(d),d})();(u=this.options.behavior)==null||u.onFetch(a,this),X(this,Jr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&Je(this,Zt,Nn).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=d=>{var p,g,m,w;Su(d)&&d.silent||Je(this,Zt,Nn).call(this,{type:"error",error:d}),Su(d)||((g=(p=A(this,Dt).config).onError)==null||g.call(p,d,this),(w=(m=A(this,Dt).config).onSettled)==null||w.call(m,this.state.data,d,this)),this.scheduleGc()};return X(this,tt,Zx({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var p,g,m,w;if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(y){l(y);return}(g=(p=A(this,Dt).config).onSuccess)==null||g.call(p,d,this),(w=(m=A(this,Dt).config).onSettled)==null||w.call(m,d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,p)=>{Je(this,Zt,Nn).call(this,{type:"failed",failureCount:d,error:p})},onPause:()=>{Je(this,Zt,Nn).call(this,{type:"pause"})},onContinue:()=>{Je(this,Zt,Nn).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),A(this,tt).start()}},to=new WeakMap,Jr=new WeakMap,Dt=new WeakMap,Zr=new WeakMap,tt=new WeakMap,Ki=new WeakMap,es=new WeakMap,Zt=new WeakSet,Nn=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...e5(r.data,this.options),fetchMeta:e.meta??null};case"success":return X(this,Jr,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Su(s)&&s.revert&&A(this,Jr)?{...A(this,Jr),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),lt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),A(this,Dt).notify({query:this,type:"updated",action:e})})},fy);function e5(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Xx(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function t5(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var mn,hy,n5=(hy=class extends Cc{constructor(e={}){super();ie(this,mn);this.config=e,X(this,mn,new Map)}build(e,n,r){const s=n.queryKey,o=n.queryHash??Eh(s,n);let i=this.get(o);return i||(i=new ZE({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){A(this,mn).has(e.queryHash)||(A(this,mn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=A(this,mn).get(e.queryHash);n&&(e.destroy(),n===e&&A(this,mn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return A(this,mn).get(e)}getAll(){return[...A(this,mn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>qm(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>qm(e,r)):n}notify(e){lt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){lt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){lt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},mn=new WeakMap,hy),gn,it,ts,yn,Jn,py,r5=(py=class extends e1{constructor(e){super();ie(this,yn);ie(this,gn);ie(this,it);ie(this,ts);this.mutationId=e.mutationId,X(this,it,e.mutationCache),X(this,gn,[]),this.state=e.state||s5(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){A(this,gn).includes(e)||(A(this,gn).push(e),this.clearGcTimeout(),A(this,it).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){X(this,gn,A(this,gn).filter(n=>n!==e)),this.scheduleGc(),A(this,it).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){A(this,gn).length||(this.state.status==="pending"?this.scheduleGc():A(this,it).remove(this))}continue(){var e;return((e=A(this,ts))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,i,a,l,u,h,f,d,p,g,m,w,y,v,x,b,E,S,k,N;const n=()=>{Je(this,yn,Jn).call(this,{type:"continue"})};X(this,ts,Zx({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(O,j)=>{Je(this,yn,Jn).call(this,{type:"failed",failureCount:O,error:j})},onPause:()=>{Je(this,yn,Jn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>A(this,it).canRun(this)}));const r=this.state.status==="pending",s=!A(this,ts).canStart();try{if(r)n();else{Je(this,yn,Jn).call(this,{type:"pending",variables:e,isPaused:s}),await((i=(o=A(this,it).config).onMutate)==null?void 0:i.call(o,e,this));const j=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));j!==this.state.context&&Je(this,yn,Jn).call(this,{type:"pending",context:j,variables:e,isPaused:s})}const O=await A(this,ts).start();return await((h=(u=A(this,it).config).onSuccess)==null?void 0:h.call(u,O,e,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,O,e,this.state.context)),await((g=(p=A(this,it).config).onSettled)==null?void 0:g.call(p,O,null,this.state.variables,this.state.context,this)),await((w=(m=this.options).onSettled)==null?void 0:w.call(m,O,null,e,this.state.context)),Je(this,yn,Jn).call(this,{type:"success",data:O}),O}catch(O){try{throw await((v=(y=A(this,it).config).onError)==null?void 0:v.call(y,O,e,this.state.context,this)),await((b=(x=this.options).onError)==null?void 0:b.call(x,O,e,this.state.context)),await((S=(E=A(this,it).config).onSettled)==null?void 0:S.call(E,void 0,O,this.state.variables,this.state.context,this)),await((N=(k=this.options).onSettled)==null?void 0:N.call(k,void 0,O,e,this.state.context)),O}finally{Je(this,yn,Jn).call(this,{type:"error",error:O})}}finally{A(this,it).runNext(this)}}},gn=new WeakMap,it=new WeakMap,ts=new WeakMap,yn=new WeakSet,Jn=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),lt.batch(()=>{A(this,gn).forEach(r=>{r.onMutationUpdate(e)}),A(this,it).notify({mutation:this,type:"updated",action:e})})},py);function s5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Rn,en,qi,my,o5=(my=class extends Cc{constructor(e={}){super();ie(this,Rn);ie(this,en);ie(this,qi);this.config=e,X(this,Rn,new Set),X(this,en,new Map),X(this,qi,0)}build(e,n,r){const s=new r5({mutationCache:this,mutationId:++pa(this,qi)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){A(this,Rn).add(e);const n=Da(e);if(typeof n=="string"){const r=A(this,en).get(n);r?r.push(e):A(this,en).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(A(this,Rn).delete(e)){const n=Da(e);if(typeof n=="string"){const r=A(this,en).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&A(this,en).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Da(e);if(typeof n=="string"){const r=A(this,en).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Da(e);if(typeof n=="string"){const s=(r=A(this,en).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){lt.batch(()=>{A(this,Rn).forEach(e=>{this.notify({type:"removed",mutation:e})}),A(this,Rn).clear(),A(this,en).clear()})}getAll(){return Array.from(A(this,Rn))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Xm(n,r))}findAll(e={}){return this.getAll().filter(n=>Xm(e,n))}notify(e){lt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return lt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Jt))))}},Rn=new WeakMap,en=new WeakMap,qi=new WeakMap,my);function Da(t){var e;return(e=t.options.scope)==null?void 0:e.id}function eg(t){return{onFetch:(e,n)=>{var h,f,d,p,g;const r=e.options,s=(d=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:d.direction,o=((p=e.state.data)==null?void 0:p.pages)||[],i=((g=e.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let m=!1;const w=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},y=Kx(e.options,e.fetchOptions),v=async(x,b,E)=>{if(m)return Promise.reject();if(b==null&&x.pages.length)return Promise.resolve(x);const k=(()=>{const H={client:e.client,queryKey:e.queryKey,pageParam:b,direction:E?"backward":"forward",meta:e.options.meta};return w(H),H})(),N=await y(k),{maxPages:O}=e.options,j=E?GE:HE;return{pages:j(x.pages,N,O),pageParams:j(x.pageParams,b,O)}};if(s&&o.length){const x=s==="backward",b=x?i5:tg,E={pages:o,pageParams:i},S=b(r,E);a=await v(E,S,x)}else{const x=t??o.length;do{const b=l===0?i[0]??r.initialPageParam:tg(r,a);if(l>0&&b==null)break;a=await v(a,b),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var m,w;return(w=(m=e.options).persister)==null?void 0:w.call(m,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function tg(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function i5(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Re,or,ir,no,ro,ar,so,oo,gy,a5=(gy=class{constructor(t={}){ie(this,Re);ie(this,or);ie(this,ir);ie(this,no);ie(this,ro);ie(this,ar);ie(this,so);ie(this,oo);X(this,Re,t.queryCache||new n5),X(this,or,t.mutationCache||new o5),X(this,ir,t.defaultOptions||{}),X(this,no,new Map),X(this,ro,new Map),X(this,ar,0)}mount(){pa(this,ar)._++,A(this,ar)===1&&(X(this,so,qx.subscribe(async t=>{t&&(await this.resumePausedMutations(),A(this,Re).onFocus())})),X(this,oo,Rl.subscribe(async t=>{t&&(await this.resumePausedMutations(),A(this,Re).onOnline())})))}unmount(){var t,e;pa(this,ar)._--,A(this,ar)===0&&((t=A(this,so))==null||t.call(this),X(this,so,void 0),(e=A(this,oo))==null||e.call(this),X(this,oo,void 0))}isFetching(t){return A(this,Re).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return A(this,or).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=A(this,Re).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=A(this,Re).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime($d(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return A(this,Re).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=A(this,Re).get(r.queryHash),o=s==null?void 0:s.state.data,i=zE(e,o);if(i!==void 0)return A(this,Re).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(t,e,n){return lt.batch(()=>A(this,Re).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=A(this,Re).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=A(this,Re);lt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=A(this,Re);return lt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=lt.batch(()=>A(this,Re).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Jt).catch(Jt)}invalidateQueries(t,e={}){return lt.batch(()=>(A(this,Re).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=lt.batch(()=>A(this,Re).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(Jt)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Jt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=A(this,Re).build(this,e);return n.isStaleByTime($d(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Jt).catch(Jt)}fetchInfiniteQuery(t){return t.behavior=eg(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Jt).catch(Jt)}ensureInfiniteQueryData(t){return t.behavior=eg(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Rl.isOnline()?A(this,or).resumePausedMutations():Promise.resolve()}getQueryCache(){return A(this,Re)}getMutationCache(){return A(this,or)}getDefaultOptions(){return A(this,ir)}setDefaultOptions(t){X(this,ir,t)}setQueryDefaults(t,e){A(this,no).set(Di(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...A(this,no).values()],n={};return e.forEach(r=>{Li(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){A(this,ro).set(Di(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...A(this,ro).values()],n={};return e.forEach(r=>{Li(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...A(this,ir).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Eh(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Nh&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...A(this,ir).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){A(this,Re).clear(),A(this,or).clear()}},Re=new WeakMap,or=new WeakMap,ir=new WeakMap,no=new WeakMap,ro=new WeakMap,ar=new WeakMap,so=new WeakMap,oo=new WeakMap,gy),l5=_.createContext(void 0),c5=({client:t,children:e})=>(_.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(l5.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pl.apply(this,arguments)}var ur;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ur||(ur={}));const ng="popstate";function u5(t){t===void 0&&(t={});function e(r,s){let{pathname:o,search:i,hash:a}=r.location;return Ud("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:n1(s)}return f5(e,n,null,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function t1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d5(){return Math.random().toString(36).substr(2,8)}function rg(t,e){return{usr:t.state,key:t.key,idx:e}}function Ud(t,e,n,r){return n===void 0&&(n=null),Pl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ec(e):e,{state:n,key:e&&e.key||r||d5()})}function n1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ec(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function f5(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=ur.Pop,l=null,u=h();u==null&&(u=0,i.replaceState(Pl({},i.state,{idx:u}),""));function h(){return(i.state||{idx:null}).idx}function f(){a=ur.Pop;let w=h(),y=w==null?null:w-u;u=w,l&&l({action:a,location:m.location,delta:y})}function d(w,y){a=ur.Push;let v=Ud(m.location,w,y);u=h()+1;let x=rg(v,u),b=m.createHref(v);try{i.pushState(x,"",b)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(b)}o&&l&&l({action:a,location:m.location,delta:1})}function p(w,y){a=ur.Replace;let v=Ud(m.location,w,y);u=h();let x=rg(v,u),b=m.createHref(v);i.replaceState(x,"",b),o&&l&&l({action:a,location:m.location,delta:0})}function g(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof w=="string"?w:n1(w);return v=v.replace(/ $/,"%20"),bt(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let m={get action(){return a},get location(){return t(s,i)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(ng,f),l=w,()=>{s.removeEventListener(ng,f),l=null}},createHref(w){return e(s,w)},createURL:g,encodeLocation(w){let y=g(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:p,go(w){return i.go(w)}};return m}var sg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(sg||(sg={}));function h5(t,e,n){return n===void 0&&(n="/"),p5(t,e,n,!1)}function p5(t,e,n,r){let s=typeof e=="string"?Ec(e):e,o=o1(s.pathname||"/",n);if(o==null)return null;let i=r1(t);m5(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let u=E5(o);a=C5(i[l],u,r)}return a}function r1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(bt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Qs([r,l.relativePath]),h=n.concat(l);o.children&&o.children.length>0&&(bt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),r1(o.children,e,h,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:b5(u,o.index),routesMeta:h})};return t.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of s1(o.path))s(o,i,l)}),e}function s1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=s1(r.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function m5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:S5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const g5=/^:[\w-]+$/,y5=3,v5=2,x5=1,w5=10,_5=-2,og=t=>t==="*";function b5(t,e){let n=t.split("/"),r=n.length;return n.some(og)&&(r+=_5),e&&(r+=v5),n.filter(s=>!og(s)).reduce((s,o)=>s+(g5.test(o)?y5:o===""?x5:w5),r)}function S5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function C5(t,e,n){let{routesMeta:r}=t,s={},o="/",i=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",f=ig({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),d=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=ig({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Qs([o,f.pathname]),pathnameBase:N5(Qs([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=Qs([o,f.pathnameBase]))}return i}function ig(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=k5(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:d,isOptional:p}=h;if(d==="*"){let m=a[f]||"";i=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const g=a[f];return p&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:t}}function k5(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),t1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function E5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return t1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function o1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Qs=t=>t.join("/").replace(/\/\/+/g,"/"),N5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function T5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const i1=["post","put","patch","delete"];new Set(i1);const I5=["get",...i1];new Set(I5);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jl.apply(this,arguments)}const R5=_.createContext(null),P5=_.createContext(null),a1=_.createContext(null),Nc=_.createContext(null),Tc=_.createContext({outlet:null,matches:[],isDataRoute:!1}),l1=_.createContext(null);function Th(){return _.useContext(Nc)!=null}function c1(){return Th()||bt(!1),_.useContext(Nc).location}function j5(t,e){return M5(t,e)}function M5(t,e,n,r){Th()||bt(!1);let{navigator:s}=_.useContext(a1),{matches:o}=_.useContext(Tc),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let u=c1(),h;if(e){var f;let w=typeof e=="string"?Ec(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||bt(!1),h=w}else h=u;let d=h.pathname||"/",p=d;if(l!=="/"){let w=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=h5(t,{pathname:p}),m=F5(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Qs([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Qs([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&m?_.createElement(Nc.Provider,{value:{location:jl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ur.Pop}},m):m}function A5(){let t=W5(),e=T5(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:s},n):null,null)}const O5=_.createElement(A5,null);class D5 extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(Tc.Provider,{value:this.props.routeContext},_.createElement(l1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function L5(t){let{routeContext:e,match:n,children:r}=t,s=_.useContext(R5);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(Tc.Provider,{value:e},r)}function F5(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||bt(!1),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:d,errors:p}=n,g=f.route.loader&&d[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,f,d)=>{let p,g=!1,m=null,w=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,m=f.route.errorElement||O5,l&&(u<0&&d===0?(g=!0,w=null):u===d&&(g=!0,w=f.route.hydrateFallbackElement||null)));let y=e.concat(i.slice(0,d+1)),v=()=>{let x;return p?x=m:g?x=w:f.route.Component?x=_.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=h,_.createElement(L5,{match:f,routeContext:{outlet:h,matches:y,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?_.createElement(D5,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var Vd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vd||{});function z5(t){let e=_.useContext(P5);return e||bt(!1),e}function B5(t){let e=_.useContext(Tc);return e||bt(!1),e}function $5(t){let e=B5(),n=e.matches[e.matches.length-1];return n.route.id||bt(!1),n.route.id}function W5(){var t;let e=_.useContext(l1),n=z5(Vd.UseRouteError),r=$5(Vd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function U5(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Hd(t){bt(!1)}function V5(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ur.Pop,navigator:o,static:i=!1,future:a}=t;Th()&&bt(!1);let l=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:o,static:i,future:jl({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof r=="string"&&(r=Ec(r));let{pathname:h="/",search:f="",hash:d="",state:p=null,key:g="default"}=r,m=_.useMemo(()=>{let w=o1(h,l);return w==null?null:{location:{pathname:w,search:f,hash:d,state:p,key:g},navigationType:s}},[l,h,f,d,p,g,s]);return m==null?null:_.createElement(a1.Provider,{value:u},_.createElement(Nc.Provider,{children:n,value:m}))}function H5(t){let{children:e,location:n}=t;return j5(Gd(e),n)}new Promise(()=>{});function Gd(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,s)=>{if(!_.isValidElement(r))return;let o=[...e,s];if(r.type===_.Fragment){n.push.apply(n,Gd(r.props.children,o));return}r.type!==Hd&&bt(!1),!r.props.index||!r.props.children||bt(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Gd(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const G5="6";try{window.__reactRouterVersion=G5}catch{}const Y5="startTransition",ag=Ty[Y5];function Q5(t){let{basename:e,children:n,future:r,window:s}=t,o=_.useRef();o.current==null&&(o.current=u5({window:s,v5Compat:!0}));let i=o.current,[a,l]=_.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},h=_.useCallback(f=>{u&&ag?ag(()=>l(f)):l(f)},[l,u]);return _.useLayoutEffect(()=>i.listen(h),[i,h]),_.useEffect(()=>U5(r),[r]),_.createElement(V5,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var lg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(lg||(lg={}));var cg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cg||(cg={}));const Ml=["Mantas","Lukas","Tomas","Domantas","Jonas","Mindaugas","Arvydas","arnas","Donatas","Paulius","Rokas","Ignas","Deividas","Karolis","Martynas","Edgaras","Aurimas","Giedrius","Renaldas","Eimantas","Marius","Dovydas","Justas","Linas","Arnas","Benas","Vytautas","Gediminas","Andrius","ygimantas"],Al=["Sabonis","Valaninas","Jasikeviius","Kleiza","Songaila","Kavaliauskas","Motiejnas","Kuzminskas","Lekavicius","Grigonis","Jokubaitis","Brazdeikis","Butkevicius","Dima","Echodas","Geben","Jankunas","Kalnietis","Likauskis","Maciulis","Normantas","Orelik","Pocius","Seibutis","Tubelis","Ulanovas","Velika","ukauskas","Birutis","Bendzius"];let K5=0;function u1(){return`p_${++K5}`}function Ol(t,e){const n=t*120,r=1+e*.06;return Math.round(n*r)}function Ae(t,e){return Math.floor(Math.random()*(e-t+1))+t}function d1(t,e){const n=30+e*10,r=e>=3?12:10,s={height:t==="Defender"?Ae(195,212):t==="Sharpshooter"?Ae(185,205):Ae(178,195),shooting:Ae(n-r,n+r),defending:Ae(n-r,n+r),dribbling:Ae(n-r,n+r),passing:Ae(n-r,n+r)};return t==="Sharpshooter"?s.shooting=Math.min(99,s.shooting+15):t==="Defender"?(s.defending=Math.min(99,s.defending+15),s.height=Math.max(s.height,198)):(s.passing=Math.min(99,s.passing+12),s.dribbling=Math.min(99,s.dribbling+10)),s.shooting=Math.max(1,Math.min(99,s.shooting)),s.defending=Math.max(1,Math.min(99,s.defending)),s.dribbling=Math.max(1,Math.min(99,s.dribbling)),s.passing=Math.max(1,Math.min(99,s.passing)),s}function f1(t){return Math.round((t.shooting+t.defending+t.dribbling+t.passing)/4)}function h1(t){return t>=80?"Legendary":t>=70?"Epic":t>=60?"Rare":"Common"}function p1(t,e){const n=["Sharpshooter","Defender","Playmaker"],r=e||n[Math.floor(Math.random()*n.length)],s=d1(r,t),o=f1(s),i=Ol(o,t);return{id:u1(),name:`${Ml[Ae(0,Ml.length-1)]} ${Al[Ae(0,Al.length-1)]}`,age:Ae(19,34),role:r,attributes:s,overall:o,salary:i,contractYears:Ae(1,3),rarity:h1(o),joinedThisOffseason:!1,seasonsWithoutPlay:0}}function q5(t,e){const n=[],r=["Sharpshooter","Sharpshooter","Defender","Defender","Playmaker","Playmaker"];for(let s=0;s<t;s++){const o=s<r.length?r[s]:void 0;n.push(p1(e,o))}return n}const ss=[{id:"striptejas",name:'Molt "Striptizo okjai"',shortName:"STR",division:"rkl",prestige:4,color:"#1a237e",budget:38e4},{id:"rusiai",name:'Kupikio "Rsio Bgikai"',shortName:"RS",division:"rkl",prestige:4,color:"#b71c1c",budget:36e4},{id:"desros",name:'Vilniaus "Samsono Deros"',shortName:"DR",division:"rkl",prestige:3,color:"#006064",budget:28e4},{id:"uzbekai",name:'Kauno "Uzbek Kratas"',shortName:"UZB",division:"rkl",prestige:3,color:"#1b5e20",budget:26e4},{id:"benamiai",name:'Garliavos "Benami Sostin"',shortName:"BEN",division:"rkl",prestige:2,color:"#4a148c",budget:2e5},{id:"hirosima",name:'Ignalinos "Hiroimos Vaikai"',shortName:"HIR",division:"rkl",prestige:2,color:"#e65100",budget:19e4},{id:"degiai",name:'Elektrn "yd Degsiai"',shortName:"DEG",division:"rkl",prestige:2,color:"#880e4f",budget:185e3},{id:"pedofilai",name:'Marijampols "Pedofil Rojus"',shortName:"PED",division:"rkl",prestige:2,color:"#f57f17",budget:18e4},{id:"dinge",name:'Pakruojo "Ding Vaikai"',shortName:"DNG",division:"lkl",prestige:2,color:"#00838f",budget:13e4},{id:"imigrantai",name:'venionli "Imigrant Miestas"',shortName:"IMG",division:"lkl",prestige:1,color:"#558b2f",budget:105e3},{id:"teletubbies",name:'Druskinink "Teletabi Toucheriai"',shortName:"TEL",division:"lkl",prestige:1,color:"#6a1b9a",budget:1e5},{id:"ceburekai",name:'Kretingos "ali eburekai"',shortName:"EB",division:"lkl",prestige:1,color:"#c62828",budget:95e3},{id:"mocutes",name:'Zaras "Moii Turgus"',shortName:"MO",division:"lkl",prestige:1,color:"#37474f",budget:9e4},{id:"duona",name:'Bir "Nekepta Duona"',shortName:"DUO",division:"lkl",prestige:1,color:"#4e342e",budget:88e3},{id:"sala",name:'Neringos "Slapta Sala"',shortName:"SAL",division:"lkl",prestige:1,color:"#0277bd",budget:85e3},{id:"bombos",name:'Visagino "Putino Bombos"',shortName:"BOM",division:"lkl",prestige:1,color:"#2e7d32",budget:83e3}];function X5(){return ss.map(t=>{const e=q5(t.prestige>=3?10:8,t.prestige),n=[...e].sort((o,i)=>i.overall-o.overall),r=new Set(n.slice(0,5).map(o=>o.id)),s=e.map(o=>({...o,isStarter:r.has(o.id)}));return{...t,budget:Math.round(t.budget/2),players:s}})}function Vr(t,e=!1,n=2){const r=[],s=t==="lkl",o=n>=4?1.5:n>=3?1.2:n>=2?1:.7;let i;s?i=Math.round((e?10:5)*o):i=Math.round((e?18:7)*o);const a=Math.max(1,n-1),l=Math.min(5,n+1);for(let u=0;u<i;u++){const h=Ae(a,l),f=p1(h);if(s){const d=Ae(5,15);r.push({...f,attributes:f.attributes,overall:f.overall,askingSalary:0,salary:0,contractYears:0,attributeRanges:{shooting:{min:f.attributes.shooting,max:Math.min(99,f.attributes.shooting+d)},defending:{min:f.attributes.defending,max:Math.min(99,f.attributes.defending+d)},dribbling:{min:f.attributes.dribbling,max:Math.min(99,f.attributes.dribbling+d)},passing:{min:f.attributes.passing,max:Math.min(99,f.attributes.passing+d)},overall:{min:f.overall,max:Math.min(99,f.overall+d)}}})}else r.push({...f,askingSalary:Math.round(f.salary*(1+Math.random()*.3)),contractYears:0})}return r}function el(t){if(t||Math.random()>.08)return null;const e={height:196,shooting:Ae(68,78),defending:Ae(55,68),dribbling:Ae(60,72),passing:Ae(62,74)},n=Math.round((e.shooting+e.defending+e.dribbling+e.passing)/4);return{id:"titas_samsonas_legend",name:"Titas Samsonas",age:Ae(26,31),role:"Sharpshooter",attributes:e,overall:n,salary:Math.round(n*180),contractYears:0,askingSalary:Math.round(n*200),rarity:"Epic",isTitasSamsonas:!0}}function m1(t){const e=["Sharpshooter","Defender","Playmaker"],n=e[Math.floor(Math.random()*e.length)],r=d1(n,Math.max(1,t-1)),s=f1(r);return{id:u1(),name:`${Ml[Ae(0,Ml.length-1)]} ${Al[Ae(0,Al.length-1)]}`,age:Ae(17,20),role:n,attributes:r,overall:s,salary:0,contractYears:2,isYouth:!0,rarity:h1(s)}}const J5=[{id:"foreign_investment",name:"Foreign Investment",description:"+15% transfer budget",emoji:""},{id:"financial_crisis",name:"Financial Crisis",description:"30% income",emoji:""},{id:"injury_crisis",name:"Injury Crisis",description:"Random rating penalties during matches",emoji:""},{id:"fan_boom",name:"Fan Boom",description:"Bonus prestige growth",emoji:""}],Yd=[{id:"bonus_ticket_10",name:"Packed Arena",description:"+10% ticket income this season",emoji:""},{id:"bonus_sponsor_10",name:"New Sponsor Deal",description:"+10% sponsor income this season",emoji:""},{id:"bonus_wage_minus10",name:"Salary Restructure",description:"Player wage bill -10% this season",emoji:""}],ds=[{id:"rkl",name:"A Division (RKL)"},{id:"lkl",name:"B Division (LKL)"}];function ke(t,e){return Math.floor(Math.random()*(e-t+1))+t}function ug(t,e,n){if(t.players.length===0)return 30;let r=t.players.filter(i=>i.isStarter);if(r.length<5){const i=t.players.filter(l=>!l.isStarter).sort((l,u)=>u.overall-l.overall),a=5-r.length;r=[...r,...i.slice(0,a)]}const s=r.slice(0,5);let o=s.reduce((i,a)=>i+a.overall,0)/s.length;if(e==="injury_crisis"&&(o-=ke(0,8)),n&&s.length===5){const i=Qd(t);(n==="attack"&&i==="offensive"||n==="defense"&&i==="defensive"||n==="playmaking"&&i==="playmaking")&&(o*=1.05)}return Math.max(20,o+t.prestige*3)}function Qd(t){let e=t.players.filter(i=>i.isStarter);if(e.length<5){const i=t.players.filter(a=>!a.isStarter).sort((a,l)=>l.overall-a.overall);e=[...e,...i.slice(0,5-e.length)]}if(e.length<5)return"balanced";const n=e.filter(i=>i.role==="Defender").length,r=e.filter(i=>i.role==="Sharpshooter").length,s=e.filter(i=>i.role==="Playmaker").length,o=Math.max(n,r,s);if(o>=2){if(n===o)return"defensive";if(r===o)return"offensive";if(s===o)return"playmaking"}return"balanced"}function dg(t,e){return t==="balanced"||e==="balanced"?0:t==="defensive"&&e==="playmaking"||t==="playmaking"&&e==="offensive"||t==="offensive"&&e==="defensive"?.1:0}function Z5(t){if(t.length===0)return[];const e=[...t];e.length%2!==0&&e.push("__BYE__");const r=e.length,s=[];for(let i=0;i<r-1;i++){const a=[];for(let h=0;h<r/2;h++){const f=e[h],d=e[r-1-h];f!=="__BYE__"&&d!=="__BYE__"&&a.push({homeTeamId:f,awayTeamId:d})}s.push(a);const l=e[0],u=e.slice(1);u.unshift(u.pop()),e.splice(0,e.length,l,...u)}const o=s.map(i=>i.map(a=>({homeTeamId:a.awayTeamId,awayTeamId:a.homeTeamId})));return[...s,...o]}function g1(t,e,n,r,s){const o=Qd(t),i=Qd(e),a=dg(o,i),l=dg(i,o),u=ug(t,n,r)*(1+a)+ke(0,6),h=ug(e,n,s)*(1+l),f=60+(u-50)*.5,d=60+(h-50)*.5,p=Math.max(40,Math.round(f+ke(-8,8))),g=Math.max(40,Math.round(d+ke(-8,8)));return p===g?{homeScore:p+1,awayScore:g}:{homeScore:p,awayScore:g}}function y1(t){const e={};for(const n of ds)e[n.id]=t.filter(r=>r.division===n.id).map(r=>({teamId:r.id,wins:0,losses:0,pointsFor:0,pointsAgainst:0,streak:0}));return e}function v1(t){const e=X5(),n=x1();return{selectedTeamId:t,season:1,week:0,phase:"preseason",teams:e,standings:y1(e),schedule:[],seasonModifier:n,declinedPlayerIds:[],playoffBracket:[],gameOver:!1,finances:Hr(e.find(r=>r.id===t),n),youthIntakeUsed:!1,youthIntakeUsedGuest:!1,titasSamsonasRecruited:!1,consecutiveNegativeSeasons:0}}function Hr(t,e){const n=t.prestige*.5;let r=Math.round((2e4+n*3e4)/2),s=Math.round((15e3+n*25e3)/2),o=0;e==="financial_crisis"&&(r=Math.round(r*.7),s=Math.round(s*.7));const i=t.players.reduce((a,l)=>a+l.salary,0);return{ticketIncome:r,sponsorIncome:s,prizeIncome:o,totalWages:i,transferSpending:0,balance:t.budget}}function x1(){const t=["foreign_investment","financial_crisis","injury_crisis","fan_boom"];return t[Math.floor(Math.random()*t.length)]}function eN(t){const e={...t};return t.week===7||t.week===8?(e.teams.filter(s=>!s.players.find(o=>o.isStarter)&&s.prestige>=4&&s.id!==t.selectedTeamId).forEach(s=>{const o=s.players.filter(f=>f.isStarter),i=o.filter(f=>f.role==="Sharpshooter").length<2,a=o.filter(f=>f.role==="Defender").length<2,l=o.filter(f=>f.role==="Playmaker").length<1,u=[];i&&u.push("Sharpshooter"),a&&u.push("Defender"),l&&u.push("Playmaker");const h=Math.min(3,u.length);for(let f=0;f<h;f++){const d=u[f],p=30+s.prestige*10,g=8,m={height:d==="Defender"?ke(195,212):d==="Sharpshooter"?ke(185,205):ke(178,195),shooting:ke(p-g,p+g),defending:ke(p-g,p+g),dribbling:ke(p-g,p+g),passing:ke(p-g,p+g)};d==="Sharpshooter"?m.shooting=Math.min(99,m.shooting+15):d==="Defender"?m.defending=Math.min(99,m.defending+15):(m.passing=Math.min(99,m.passing+12),m.dribbling=Math.min(99,m.dribbling+10));const w=Math.round((m.shooting+m.defending+m.dribbling+m.passing)/4),y=Ol(w,s.prestige),v={id:`ai_transfer_${s.id}_${Date.now()}_${f}`,name:`${["Mantas","Lukas","Tomas","Domantas","Jonas"][Math.floor(Math.random()*5)]} ${["Sabonis","Valaninas","Jasikeviius","Kleiza","Songaila"][Math.floor(Math.random()*5)]}`,age:ke(19,30),role:d,attributes:m,overall:w,salary:y,contractYears:ke(2,4),isStarter:!1};e.teams=e.teams.map(x=>x.id===s.id?{...x,players:[...x.players,v]}:x)}}),e):t}function w1(t,e){const n={...t};n.week+=1;const s=eN(n),o={...s.standings};for(const f of ds){const d=s.teams.filter(y=>y.division===f.id).map(y=>y.id),p=Z5(d),g=n.week-1,m=p[g],w=[...o[f.id]||[]];if(!m){o[f.id]=w;continue}for(const y of m){const v=s.teams.find(N=>N.id===y.homeTeamId),x=s.teams.find(N=>N.id===y.awayTeamId),b=g1(v,x,s.seasonModifier,v.id===s.selectedTeamId?s.coachType:v.id===e?s.guestCoachType:null,x.id===s.selectedTeamId?s.coachType:x.id===e?s.guestCoachType:null),E=w.find(N=>N.teamId===v.id),S=w.find(N=>N.teamId===x.id);E&&S&&(E.pointsFor+=b.homeScore,E.pointsAgainst+=b.awayScore,S.pointsFor+=b.awayScore,S.pointsAgainst+=b.homeScore,b.homeScore>b.awayScore?(E.wins+=1,S.losses+=1,E.streak=E.streak>0?E.streak+1:1,S.streak=S.streak<0?S.streak-1:-1):(S.wins+=1,E.losses+=1,S.streak=S.streak>0?S.streak+1:1,E.streak=E.streak<0?E.streak-1:-1));const k=s.teams.find(N=>N.id===s.selectedTeamId);v.division===k.division&&(n.schedule=[...n.schedule??[],{homeTeamId:v.id,awayTeamId:x.id,homeScore:b.homeScore,awayScore:b.awayScore,week:n.week}])}o[f.id]=w}n.standings=o;const i=t.teams.find(f=>f.id===t.selectedTeamId),l=2*(t.teams.filter(f=>f.division===i.division).length-1);let u=l;if(e){const f=t.teams.find(d=>d.id===e);if(f){const p=2*(t.teams.filter(g=>g.division===f.division).length-1);u=Math.max(l,p)}}if(n.week===l){const f=i.division,p=[...o[f]].sort((m,w)=>w.wins-m.wins||w.pointsFor-w.pointsAgainst-(m.pointsFor-m.pointsAgainst)).findIndex(m=>m.teamId===t.selectedTeamId)+1;let g=0;f==="rkl"?g={1:23e4,2:2e5,3:19e4,4:16e4,5:15e4,6:125e3,7:1e5,8:75e3}[p]||0:g={1:5e4,2:38e3,3:3e4,4:24e3,5:18e3,6:14e3,7:1e4,8:7e3}[p]||0,n.finances={...n.finances,prizeIncome:n.finances.prizeIncome+g}}if(n.week>=u){const f=i.division,d=[...o[f]].sort((p,g)=>g.wins-p.wins||g.pointsFor-g.pointsAgainst-(p.pointsFor-p.pointsAgainst));i.division==="rkl"?(n.phase="playoffs",n.playoffBracket=[{round:1,team1Id:d[0].teamId,team2Id:d[3].teamId,team1Wins:0,team2Wins:0},{round:1,team1Id:d[1].teamId,team2Id:d[2].teamId,team1Wins:0,team2Wins:0}]):n.phase="offseason"}if((n.schedule||[]).filter(f=>f.week===n.week&&f.homeTeamId===t.selectedTeamId).length>0){const f=t.seasonBonus==="bonus_ticket_10"?1.1:1;n.finances={...n.finances,ticketIncome:n.finances.ticketIncome+Math.round(i.prestige*1500/2*f)}}return n}function _1(t,e){const n={...t},r=[...t.playoffBracket],s={...r[e]},o=t.teams.find(h=>h.id===s.team1Id),i=t.teams.find(h=>h.id===s.team2Id),a=g1(o,i,t.seasonModifier,o.id===t.selectedTeamId?t.coachType:null,i.id===t.selectedTeamId?t.coachType:null);if(a.homeScore>a.awayScore?s.team1Wins+=1:s.team2Wins+=1,s.team1Wins>=2?s.winnerId=s.team1Id:s.team2Wins>=2&&(s.winnerId=s.team2Id),r[e]=s,n.playoffBracket=r,r.filter(h=>h.round===1).every(h=>h.winnerId)&&r.length===2){const h=r.filter(f=>f.round===1).map(f=>f.winnerId);r.push({round:2,team1Id:h[0],team2Id:h[1],team1Wins:0,team2Wins:0}),n.playoffBracket=r}const u=r.find(h=>h.round===2);return u!=null&&u.winnerId&&(n.phase="offseason"),n}function b1(t){let e={...t},n=0;for(;e.phase==="playoffs"&&n<50;){n++;const r=e.playoffBracket.findIndex(s=>!s.winnerId);if(r===-1)break;e=_1(e,r)}return e}function S1(t){const e={...t};e.titasSamsonasRecruited=t.titasSamsonasRecruited??!1;const n=e.teams.map(i=>{const a=i.id===t.selectedTeamId;let l=i.players.map(u=>{let h=u.joinedThisOffseason===!0?u.contractYears:u.contractYears-1,f=u.age+1;if(f>=32){const p=(f-32)*.12;Math.random()<p&&(h=0)}let d={...u,contractYears:h,age:f,joinedThisOffseason:!1};if(a){if(d.age<23&&Math.random()<.7){const p={...d.attributes},g=ke(1,3);for(let m=0;m<g;m++){const w=["shooting","defending","dribbling","passing"][Math.floor(Math.random()*4)];typeof p[w]=="number"&&p[w]<99&&(p[w]=Math.min(99,p[w]+1))}d.attributes=p,d.overall=Math.round((p.shooting+p.defending+p.dribbling+p.passing)/4)}d.isStarter?d.seasonsWithoutPlay=0:d.seasonsWithoutPlay=(d.seasonsWithoutPlay||0)+1}return d}).filter(u=>u.contractYears>0);return{...i,players:l}});if(e.teams=n,e.teams=e.teams.map(i=>{if(i.id===t.selectedTeamId)return i;const l=i.players,u=10-l.length;if(u<=0)return i;const h=[];for(let f=0;f<u;f++){const d=["Sharpshooter","Defender","Playmaker"],p=d[Math.floor(Math.random()*d.length)],g=30+i.prestige*10,m=10,w={height:p==="Defender"?ke(195,212):p==="Sharpshooter"?ke(185,205):ke(178,195),shooting:ke(g-m,g+m),defending:ke(g-m,g+m),dribbling:ke(g-m,g+m),passing:ke(g-m,g+m)};p==="Sharpshooter"?w.shooting=Math.min(99,w.shooting+15):p==="Defender"?w.defending=Math.min(99,w.defending+15):(w.passing=Math.min(99,w.passing+12),w.dribbling=Math.min(99,w.dribbling+10));const y=Math.round((w.shooting+w.defending+w.dribbling+w.passing)/4),v=Ol(y,i.prestige);h.push({id:`ai_${i.id}_${Date.now()}_${f}`,name:`${["Mantas","Lukas","Tomas","Domantas","Jonas","Mindaugas","Arvydas","arnas","Donatas","Paulius"][Math.floor(Math.random()*10)]} ${["Sabonis","Valaninas","Jasikeviius","Kleiza","Songaila","Kavaliauskas","Motiejnas","Kuzminskas","Lekavicius","Grigonis"][Math.floor(Math.random()*10)]}`,age:ke(19,34),role:p,attributes:w,overall:y,salary:v,contractYears:ke(1,3),isStarter:l.length+h.length<=5})}return{...i,players:[...l,...h]}}),e.teams.find(i=>i.id===t.selectedTeamId).players.length<5)return e.gameOver=!0,e.gameOverReason="You started the off-season with fewer than 5 players under contract. Your career is over!",e;const s=t.finances.balance+t.finances.ticketIncome+t.finances.sponsorIncome+t.finances.prizeIncome-t.finances.totalWages-t.finances.transferSpending;if(s<-5e4){if(e.consecutiveNegativeSeasons=(t.consecutiveNegativeSeasons||0)+1,e.consecutiveNegativeSeasons>=2)return e.gameOver=!0,e.gameOverReason="Your club has been in severe debt (below -$50,000) for consecutive seasons. The board has terminated your contract!",e}else e.consecutiveNegativeSeasons=0;{const i=[...e.standings.rkl||[]].sort((l,u)=>u.wins-l.wins||u.pointsFor-u.pointsAgainst-(l.pointsFor-l.pointsAgainst)),a=[...e.standings.lkl||[]].sort((l,u)=>u.wins-l.wins||u.pointsFor-u.pointsAgainst-(l.pointsFor-l.pointsAgainst));if(i.length>0&&a.length>0){const l=i[i.length-1].teamId,u=a[0].teamId;e.teams=e.teams.map(h=>{if(h.id===u){const f=h.players.map(p=>{if(p.salary===0){const g=Ol(p.overall,Math.max(1,h.prestige));return{...p,salary:g}}return p}),d=f.reduce((p,g)=>p+g.salary,0);return h.id===t.selectedTeamId&&(e.finances={...e.finances,totalWages:d}),{...h,division:"rkl",players:f}}return h.id===l?{...h,division:"lkl"}:h})}}e.season+=1,e.week=0,e.phase="preseason",e.seasonModifier=x1(),e.declinedPlayerIds=[],e.standings=y1(e.teams),e.schedule=[],e.playoffBracket=[],e.youthIntakeUsed=!1,e.youthIntakeUsedGuest=!1,t.seasonModifier==="fan_boom"&&(e.teams=e.teams.map(i=>i.id===t.selectedTeamId?{...i,prestige:Math.min(5,i.prestige+1)}:i));const o=e.teams.find(i=>i.id===t.selectedTeamId);return e.finances={...Hr(o,e.seasonModifier),balance:s},e.seasonModifier==="foreign_investment"&&(e.finances.balance=Math.round(e.finances.balance*1.15)),e}function C1(t,e,n,r){const s=t.teams.find(a=>a.id===t.selectedTeamId);if(s.players.length>=12)return{success:!1,newState:t,reason:"Squad is full! Maximum capacity is 12 players."};if(t.declinedPlayerIds.includes(e.id))return{success:!1,newState:t,reason:"This player has already declined your offer. You cannot offer again."};if(r>s.budget+t.finances.balance)return{success:!1,newState:t,reason:"You don't have enough budget to afford this contract."};let o=.5;if(r>=e.askingSalary&&(o+=.25),r>=e.askingSalary*1.2&&(o+=.15),r<e.askingSalary*.8&&(o-=.3),n===2&&(o+=.1),o+=s.prestige*.05,o=Math.max(.05,Math.min(.95,o)),Math.random()<o){let a=e.attributes,l=e.overall;e.attributeRanges&&(a={height:e.attributes.height,shooting:Math.floor(Math.random()*(e.attributeRanges.shooting.max-e.attributeRanges.shooting.min+1))+e.attributeRanges.shooting.min,defending:Math.floor(Math.random()*(e.attributeRanges.defending.max-e.attributeRanges.defending.min+1))+e.attributeRanges.defending.min,dribbling:Math.floor(Math.random()*(e.attributeRanges.dribbling.max-e.attributeRanges.dribbling.min+1))+e.attributeRanges.dribbling.min,passing:Math.floor(Math.random()*(e.attributeRanges.passing.max-e.attributeRanges.passing.min+1))+e.attributeRanges.passing.min},l=Math.round((a.shooting+a.defending+a.dribbling+a.passing)/4));const u={id:e.id,name:e.name,age:e.age,role:e.role,attributes:a,overall:l,salary:r,contractYears:n,isStarter:!1,seasonsWithoutPlay:0,joinedThisOffseason:t.phase==="offseason"},h=t.teams.map(f=>f.id===t.selectedTeamId?{...f,players:[...f.players,u],budget:f.budget-r}:f);return{success:!0,newState:{...t,teams:h,finances:{...t.finances,transferSpending:t.finances.transferSpending+r,totalWages:t.finances.totalWages+r,balance:t.finances.balance-r}}}}else return{success:!1,newState:{...t,declinedPlayerIds:[...t.declinedPlayerIds,e.id]},reason:"Player declined your offer."}}const Ih=_.createContext(null);function tN({children:t}){const[e,n]=_.useState(null),[r,s]=_.useState("dashboard"),[o,i]=_.useState([]),[a,l]=_.useState([]);function u(){return[...Yd.map(N=>N.id)].sort(()=>Math.random()-.5).slice(0,3)}const h=_.useCallback((S,k,N)=>{const O=v1(S);l(u()),n({...O,seasonBonus:null,coachName:k||"Coach",coachType:N||void 0});const j=O.teams.find(H=>H.id===S);j&&i(Vr(j.division,!1,j.prestige)),s("dashboard")},[]),f=_.useCallback(()=>{e&&n({...e,phase:"regular",week:0})},[e]),d=_.useCallback(()=>{if(!e||e.phase!=="offseason")return;const S=S1(e),k=S.teams.find(N=>N.id===S.selectedTeamId);k&&i(Vr(k.division,!1,k.prestige)),l(u()),n({...S,seasonBonus:null})},[e]),p=_.useCallback(S=>{if(!e)return;l([]);let k={...e.finances};S==="bonus_sponsor_10"?k={...k,sponsorIncome:Math.round(k.sponsorIncome*1.1)}:S==="bonus_wage_minus10"&&(k={...k,totalWages:Math.round(k.totalWages*.9)}),n({...e,seasonBonus:S,finances:k})},[e]),g=_.useCallback(()=>{if(!e||e.phase!=="regular")return;const S=w1(e);if(S.phase==="offseason"){const k=S.teams.find(N=>N.id===S.selectedTeamId);if(k){const N=Vr(k.division,!0,k.prestige),O=el(S.titasSamsonasRecruited??!1);i(O?[...N,O]:N)}S.youthIntakeUsed=!1,S.youthIntakeUsedGuest=!1}n(S)},[e]),m=_.useCallback(S=>{if(!e||e.phase!=="playoffs")return;const k=_1(e,S);if(k.phase==="offseason"){const N=k.teams.find(O=>O.id===k.selectedTeamId);if(N){const O=Vr(N.division,!0,N.prestige),j=el(k.titasSamsonasRecruited??!1);i(j?[...O,j]:O)}k.youthIntakeUsed=!1,k.youthIntakeUsedGuest=!1}n(k)},[e]),w=_.useCallback(()=>{if(!e||e.phase!=="playoffs")return;const S=b1(e);if(S.phase==="offseason"){const k=S.teams.find(N=>N.id===S.selectedTeamId);if(k){const N=Vr(k.division,!0,k.prestige),O=el(S.titasSamsonasRecruited??!1);i(O?[...N,O]:N)}S.youthIntakeUsed=!1,S.youthIntakeUsedGuest=!1}n(S)},[e]),y=_.useCallback((S,k,N)=>{if(!e)return{success:!1,reason:"Game not initialized"};const O=!!S.isTitasSamsonas,{success:j,newState:H,reason:P}=C1(e,S,k,N),T=O&&j?{...H,titasSamsonasRecruited:!0}:H;return n(T),j&&i(I=>I.filter($=>$.id!==S.id)),{success:j,reason:P}},[e]),v=_.useCallback(()=>{if(!e||e.youthIntakeUsed||e.phase!=="offseason")return;const S=e.teams.find(P=>P.id===e.selectedTeamId),k=12-S.players.length;if(k<=0)return;const N=Math.min(Math.floor(Math.random()*3)+1,k),O=[];let j=0;for(let P=0;P<N;P++){const T=m1(S.prestige);T.isStarter=!1,T.seasonsWithoutPlay=0,O.push(T),j+=T.salary}const H=e.teams.map(P=>P.id===e.selectedTeamId?{...P,players:[...P.players,...O]}:P);n({...e,teams:H,finances:{...e.finances,totalWages:e.finances.totalWages+j},youthIntakeUsed:!0})},[e]),x=_.useCallback(S=>{if(!e)return;const k=e.teams.find(j=>j.id===e.selectedTeamId),N=k.players.find(j=>j.id===S);if(!N||!N.isStarter&&k.players.filter(j=>j.isStarter).length>=5)return;const O=e.teams.map(j=>j.id===e.selectedTeamId?{...j,players:j.players.map(H=>H.id===S?{...H,isStarter:!H.isStarter}:H)}:j);n({...e,teams:O})},[e]),b=_.useCallback(S=>{if(!e)return;const N=e.teams.find(j=>j.id===e.selectedTeamId).players.find(j=>j.id===S);if(!N)return;const O=e.teams.map(j=>j.id===e.selectedTeamId?{...j,players:j.players.filter(H=>H.id!==S)}:j);n({...e,teams:O,finances:{...e.finances,totalWages:e.finances.totalWages-N.salary}})},[e]),E=_.useCallback(S=>{if(!e)return{success:!1,reason:"Game not initialized"};const k=e.teams.find(T=>T.id===e.selectedTeamId),N=k.players.find(T=>T.id===S);if(!N)return{success:!1,reason:"Player not found"};if(N.contractYears>1)return{success:!1,reason:"Can only renew with 1 year remaining"};let O,j;if(N.salary===0){const T=1+k.prestige*.1;O=Math.round(N.overall*100*T),j=O}else{const T=1+k.prestige*.1;O=Math.round(N.salary*1.15*T),j=O-N.salary}if(e.finances.balance<j)return{success:!1,reason:"Insufficient funds for salary increase"};const H=e.phase==="offseason"?2:1,P=e.teams.map(T=>T.id===e.selectedTeamId?{...T,players:T.players.map(I=>I.id===S?{...I,contractYears:I.contractYears+H,salary:O,isYouth:!1}:I)}:T);return n({...e,teams:P,finances:{...e.finances,totalWages:e.finances.totalWages+j,balance:e.finances.balance-j}}),{success:!0}},[e]);return c.jsx(Ih.Provider,{value:{state:e,view:r,freeAgents:o,seasonBonusChoices:a,multiplayerLobby:null,setView:s,startGame:h,playWeek:g,playPlayoffGame:m,simulateAllPlayoffs:w,makeTransferOffer:y,intakeYouth:v,startRegularSeason:f,startNewSeason:d,toggleStarter:x,releasePlayer:b,renewContract:E,chooseSeasonBonus:p},children:t})}function nN({children:t,initialGameState:e,initialFinances:n,lobbyState:r,onReady:s,onCancelReady:o,onUpdateTeam:i}){const[a,l]=_.useState(()=>({...e,selectedTeamId:r.myTeamId,finances:n})),[u,h]=_.useState("dashboard"),[f,d]=_.useState(()=>{const T=e.teams.find(I=>I.id===r.myTeamId);return T?Vr(T.division,!1,T.prestige):[]}),[p]=_.useState([]),g=W.useRef(e.phase);_.useEffect(()=>{const T={...e,selectedTeamId:r.myTeamId,finances:n};if(l(T),e.phase==="offseason"&&g.current!=="offseason"){const I=e.teams.find($=>$.id===r.myTeamId);if(I){const $=Vr(I.division,!0,I.prestige),L=el(e.titasSamsonasRecruited??!1);d(L?[...$,L]:$)}}g.current=e.phase},[e.week,e.phase,e.standings,e.teams,e.schedule,r.myTeamId,n]);const m=_.useCallback(async T=>{l(T),await i(T,T.finances)},[i]),w=_.useCallback(async()=>{r.myReady?await o():await s()},[r.myReady,s,o]),y=_.useCallback(async()=>{a&&await w()},[a,w]),v=_.useCallback(T=>{},[]),x=_.useCallback(()=>{a&&l({...a,phase:"regular",week:0})},[a]),b=_.useCallback(async()=>{await w()},[w]),E=_.useCallback(T=>{},[]),S=_.useCallback(async()=>{await w()},[w]),k=_.useCallback(T=>{if(!a)return;let I={...a.finances};T==="bonus_sponsor_10"?I={...I,sponsorIncome:Math.round(I.sponsorIncome*1.1)}:T==="bonus_wage_minus10"&&(I={...I,totalWages:Math.round(I.totalWages*.9)}),m({...a,seasonBonus:T,finances:I})},[a,m]),N=_.useCallback((T,I,$)=>{if(!a)return{success:!1,reason:"Game not initialized"};const L=!!T.isTitasSamsonas,{success:z,newState:C,reason:R}=C1(a,T,I,$),F=L&&z?{...C,titasSamsonasRecruited:!0}:C;return z?(d(M=>M.filter(D=>D.id!==T.id)),m(F)):l(F),{success:z,reason:R}},[a,m]),O=_.useCallback(()=>{if(!a||a.phase!=="offseason")return;const T=r.myRole==="host";if(T?a.youthIntakeUsed:a.youthIntakeUsedGuest)return;const $=a.teams.find(D=>D.id===a.selectedTeamId),L=12-$.players.length;if(L<=0)return;const z=Math.min(3,L),C=[];let R=0;for(let D=0;D<z;D++){const V=m1($.prestige);V.isStarter=!1,V.seasonsWithoutPlay=0,C.push(V),R+=V.salary}const F=a.teams.map(D=>D.id===a.selectedTeamId?{...D,players:[...D.players,...C]}:D),M=T?{youthIntakeUsed:!0}:{youthIntakeUsedGuest:!0};m({...a,teams:F,finances:{...a.finances,totalWages:a.finances.totalWages+R},...M})},[a,r.myRole,m]),j=_.useCallback(T=>{if(!a)return;const I=a.teams.find(z=>z.id===a.selectedTeamId),$=I.players.find(z=>z.id===T);if(!$||!$.isStarter&&I.players.filter(z=>z.isStarter).length>=5)return;const L=a.teams.map(z=>z.id===a.selectedTeamId?{...z,players:z.players.map(C=>C.id===T?{...C,isStarter:!C.isStarter}:C)}:z);m({...a,teams:L})},[a,m]),H=_.useCallback(T=>{if(!a)return;const $=a.teams.find(z=>z.id===a.selectedTeamId).players.find(z=>z.id===T);if(!$)return;const L=a.teams.map(z=>z.id===a.selectedTeamId?{...z,players:z.players.filter(C=>C.id!==T)}:z);m({...a,teams:L,finances:{...a.finances,totalWages:a.finances.totalWages-$.salary}})},[a,m]),P=_.useCallback(T=>{if(!a)return{success:!1,reason:"Game not initialized"};const I=a.teams.find(F=>F.id===a.selectedTeamId),$=I.players.find(F=>F.id===T);if(!$)return{success:!1,reason:"Player not found"};if($.contractYears>1)return{success:!1,reason:"Can only renew with 1 year remaining"};let L,z;if($.salary===0?(L=Math.round($.overall*100*(1+I.prestige*.1)),z=L):(L=Math.round($.salary*1.15*(1+I.prestige*.1)),z=L-$.salary),a.finances.balance<z)return{success:!1,reason:"Insufficient funds"};const C=a.phase==="offseason"?2:1,R=a.teams.map(F=>F.id===a.selectedTeamId?{...F,players:F.players.map(M=>M.id===T?{...M,contractYears:M.contractYears+C,salary:L,isYouth:!1}:M)}:F);return m({...a,teams:R,finances:{...a.finances,totalWages:a.finances.totalWages+z,balance:a.finances.balance-z}}),{success:!0}},[a,m]);return c.jsx(Ih.Provider,{value:{state:a,view:u,freeAgents:f,seasonBonusChoices:p,multiplayerLobby:r,setView:h,startGame:v,playWeek:y,playPlayoffGame:E,simulateAllPlayoffs:S,makeTransferOffer:N,intakeYouth:O,startRegularSeason:x,startNewSeason:b,toggleStarter:j,releasePlayer:H,renewContract:P,chooseSeasonBonus:k},children:t})}function Dr(){const t=_.useContext(Ih);if(!t)throw new Error("useGame must be used within GameProvider");return t}var fg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U=function(t,e){if(!t)throw To(e)},To=function(t){return new Error("Firebase Database ("+k1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},rN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],i=t[n++],a=t[n++],l=((s&7)<<18|(o&63)<<12|(i&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],i=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return e.join("")},Rh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],i=s+1<t.length,a=i?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=o>>2,f=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,i||(d=64)),r.push(n[h],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(E1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||a==null||u==null||f==null)throw new sN;const d=o<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N1=function(t){const e=E1(t);return Rh.encodeByteArray(e,!0)},Dl=function(t){return N1(t).replace(/\./g,"")},Kd=function(t){try{return Rh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t){return T1(void 0,t)}function T1(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!iN(n)||(t[n]=T1(t[n],e[n]));return t}function iN(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=()=>aN().__FIREBASE_DEFAULTS__,cN=()=>{if(typeof process>"u"||typeof fg>"u")return;const t=fg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Kd(t[1]);return e&&JSON.parse(e)},I1=()=>{try{return lN()||cN()||uN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dN=t=>{var e,n;return(n=(e=I1())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fN=t=>{const e=dN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},R1=()=>{var t;return(t=I1())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dl(JSON.stringify(n)),Dl(JSON.stringify(i)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pN())}function mN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function j1(){return k1.NODE_ADMIN===!0}function gN(){try{return typeof indexedDB=="object"}catch{return!1}}function yN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="FirebaseError";class ia extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vN,Object.setPrototypeOf(this,ia.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,M1.prototype.create)}}class M1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],i=o?xN(o,r):"Error",a=`${this.serviceName}: ${i} (${s}).`;return new ia(s,a,r)}}function xN(t,e){return t.replace(wN,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const wN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t){return JSON.parse(t)}function Be(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=function(t){let e={},n={},r={},s="";try{const o=t.split(".");e=Fi(Kd(o[0])||""),n=Fi(Kd(o[1])||""),s=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},_N=function(t){const e=A1(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},bN=function(t){const e=A1(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function go(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function hg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ll(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function qd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],i=e[s];if(pg(o)&&pg(i)){if(!qd(o,i))return!1}else if(o!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function pg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const d=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(d<<1|d>>>31)&4294967295}let s=this.chain_[0],o=this.chain_[1],i=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,h;for(let f=0;f<80;f++){f<40?f<20?(u=a^o&(i^a),h=1518500249):(u=o^i^a,h=1859775393):f<60?(u=o&i|a&(o|i),h=2400959708):(u=o^i^a,h=3395469782);const d=(s<<5|s>>>27)+u+l+h+r[f]&4294967295;l=a,a=i,i=(o<<30|o>>>2)&4294967295,o=s,s=d}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+i&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const o=this.buf_;let i=this.inbuf_;for(;s<n;){if(i===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(o[i]=e.charCodeAt(s),++i,++s,i===this.blockSize){this.compress_(o),i=0;break}}else for(;s<n;)if(o[i]=e[s],++i,++s,i===this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[s]>>o&255,++r;return e}}function Ic(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const o=s-55296;r++,U(r<t.length,"Surrogate pair missing trail surrogate.");const i=t.charCodeAt(r)-56320;s=65536+(o<<10)+i}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Rc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t){return t&&t._delegate?t._delegate:t}class zi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new oa;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TN(e))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wr){return this.instances.has(e)}getOptions(e=Wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&i.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const i=this.instances.get(s);return i&&e(i,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wr){return this.component?this.component.multipleInstances?e:Wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NN(t){return t===Wr?void 0:t}function TN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const RN={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},PN=me.INFO,jN={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},MN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=jN[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class O1{constructor(e){this.name=e,this._logLevel=PN,this._logHandler=MN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const AN=(t,e)=>e.some(n=>t instanceof n);let mg,gg;function ON(){return mg||(mg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DN(){return gg||(gg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D1=new WeakMap,Xd=new WeakMap,L1=new WeakMap,Cu=new WeakMap,Ph=new WeakMap;function LN(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(wr(t.result)),s()},i=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&D1.set(n,t)}).catch(()=>{}),Ph.set(e,t),e}function FN(t){if(Xd.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});Xd.set(t,e)}let Jd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||L1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zN(t){Jd=t(Jd)}function BN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ku(this),e,...n);return L1.set(r,e.sort?e.sort():[e]),wr(r)}:DN().includes(t)?function(...e){return t.apply(ku(this),e),wr(D1.get(this))}:function(...e){return wr(t.apply(ku(this),e))}}function $N(t){return typeof t=="function"?BN(t):(t instanceof IDBTransaction&&FN(t),AN(t,ON())?new Proxy(t,Jd):t)}function wr(t){if(t instanceof IDBRequest)return LN(t);if(Cu.has(t))return Cu.get(t);const e=$N(t);return e!==t&&(Cu.set(t,e),Ph.set(e,t)),e}const ku=t=>Ph.get(t);function WN(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(t,e),a=wr(i);return r&&i.addEventListener("upgradeneeded",l=>{r(wr(i.result),l.oldVersion,l.newVersion,wr(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const UN=["get","getKey","getAll","getAllKeys","count"],VN=["put","add","delete","clear"],Eu=new Map;function yg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Eu.get(e))return Eu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=VN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||UN.includes(n)))return;const o=async function(i,...a){const l=this.transaction(i,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Eu.set(e,o),o}zN(t=>({...t,get:(e,n,r)=>yg(e,n)||t.get(e,n,r),has:(e,n)=>!!yg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function GN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zd="@firebase/app",vg="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn=new O1("@firebase/app"),YN="@firebase/app-compat",QN="@firebase/analytics-compat",KN="@firebase/analytics",qN="@firebase/app-check-compat",XN="@firebase/app-check",JN="@firebase/auth",ZN="@firebase/auth-compat",eT="@firebase/database",tT="@firebase/data-connect",nT="@firebase/database-compat",rT="@firebase/functions",sT="@firebase/functions-compat",oT="@firebase/installations",iT="@firebase/installations-compat",aT="@firebase/messaging",lT="@firebase/messaging-compat",cT="@firebase/performance",uT="@firebase/performance-compat",dT="@firebase/remote-config",fT="@firebase/remote-config-compat",hT="@firebase/storage",pT="@firebase/storage-compat",mT="@firebase/firestore",gT="@firebase/vertexai-preview",yT="@firebase/firestore-compat",vT="firebase",xT="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef="[DEFAULT]",wT={[Zd]:"fire-core",[YN]:"fire-core-compat",[KN]:"fire-analytics",[QN]:"fire-analytics-compat",[XN]:"fire-app-check",[qN]:"fire-app-check-compat",[JN]:"fire-auth",[ZN]:"fire-auth-compat",[eT]:"fire-rtdb",[tT]:"fire-data-connect",[nT]:"fire-rtdb-compat",[rT]:"fire-fn",[sT]:"fire-fn-compat",[oT]:"fire-iid",[iT]:"fire-iid-compat",[aT]:"fire-fcm",[lT]:"fire-fcm-compat",[cT]:"fire-perf",[uT]:"fire-perf-compat",[dT]:"fire-rc",[fT]:"fire-rc-compat",[hT]:"fire-gcs",[pT]:"fire-gcs-compat",[mT]:"fire-fst",[yT]:"fire-fst-compat",[gT]:"fire-vertex","fire-js":"fire-js",[vT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new Map,_T=new Map,tf=new Map;function xg(t,e){try{t.container.addComponent(e)}catch(n){Wn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zl(t){const e=t.name;if(tf.has(e))return Wn.debug(`There were multiple attempts to register component ${e}.`),!1;tf.set(e,t);for(const n of Fl.values())xg(n,t);for(const n of _T.values())xg(n,t);return!0}function bT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new M1("app","Firebase",ST);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=xT;function F1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ef,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw _r.create("bad-app-name",{appName:String(s)});if(n||(n=R1()),!n)throw _r.create("no-options");const o=Fl.get(s);if(o){if(qd(n,o.options)&&qd(r,o.config))return o;throw _r.create("duplicate-app",{appName:s})}const i=new IN(s);for(const l of tf.values())i.addComponent(l);const a=new CT(n,r,i);return Fl.set(s,a),a}function ET(t=ef){const e=Fl.get(t);if(!e&&t===ef&&R1())return F1();if(!e)throw _r.create("no-app",{appName:t});return e}function Ks(t,e,n){var r;let s=(r=wT[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),i=e.match(/\s|\//);if(o||i){const a=[`Unable to register library "${s}" with version "${e}":`];o&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wn.warn(a.join(" "));return}zl(new zi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="firebase-heartbeat-database",TT=1,Bi="firebase-heartbeat-store";let Nu=null;function z1(){return Nu||(Nu=WN(NT,TT,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bi)}catch(n){console.warn(n)}}}}).catch(t=>{throw _r.create("idb-open",{originalErrorMessage:t.message})})),Nu}async function IT(t){try{const n=(await z1()).transaction(Bi),r=await n.objectStore(Bi).get(B1(t));return await n.done,r}catch(e){if(e instanceof ia)Wn.warn(e.message);else{const n=_r.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wn.warn(n.message)}}}async function wg(t,e){try{const r=(await z1()).transaction(Bi,"readwrite");await r.objectStore(Bi).put(e,B1(t)),await r.done}catch(n){if(n instanceof ia)Wn.warn(n.message);else{const r=_r.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wn.warn(r.message)}}}function B1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=1024,PT=30*24*60*60*1e3;class jT{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=_g();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(i=>i.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const a=new Date(i.date).valueOf();return Date.now()-a<=PT}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Wn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_g(),{heartbeatsToSend:r,unsentEntries:s}=MT(this._heartbeatsCache.heartbeats),o=Dl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Wn.warn(n),""}}}function _g(){return new Date().toISOString().substring(0,10)}function MT(t,e=RT){const n=[];let r=t.slice();for(const s of t){const o=n.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),bg(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),bg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class AT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gN()?yN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IT(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return wg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return wg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function bg(t){return Dl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(t){zl(new zi("platform-logger",e=>new HN(e),"PRIVATE")),zl(new zi("heartbeat",e=>new jT(e),"PRIVATE")),Ks(Zd,vg,t),Ks(Zd,vg,"esm2017"),Ks("fire-js","")}OT("");var Sg={};const Cg="@firebase/database",kg="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $1="";function DT(t){$1=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Be(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Fi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return kn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new LT(e)}}catch{}return new FT},Kr=W1("localStorage"),zT=W1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new O1("@firebase/database"),BT=function(){let t=1;return function(){return t++}}(),U1=function(t){const e=kN(t),n=new CN;n.update(e);const r=n.digest();return Rh.encodeByteArray(r)},aa=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=aa.apply(null,r):typeof r=="object"?e+=Be(r):e+=r,e+=" "}return e};let fi=null,Eg=!0;const $T=function(t,e){U(!e,"Can't turn on custom loggers persistently."),qs.logLevel=me.VERBOSE,fi=qs.log.bind(qs)},Qe=function(...t){if(Eg===!0&&(Eg=!1,fi===null&&zT.get("logging_enabled")===!0&&$T()),fi){const e=aa.apply(null,t);fi(e)}},la=function(t){return function(...e){Qe(t,...e)}},nf=function(...t){const e="FIREBASE INTERNAL ERROR: "+aa(...t);qs.error(e)},Un=function(...t){const e=`FIREBASE FATAL ERROR: ${aa(...t)}`;throw qs.error(e),new Error(e)},dt=function(...t){const e="FIREBASE WARNING: "+aa(...t);qs.warn(e)},WT=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&dt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},jh=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},UT=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},yo="[MIN_NAME]",fs="[MAX_NAME]",vs=function(t,e){if(t===e)return 0;if(t===yo||e===fs)return-1;if(e===yo||t===fs)return 1;{const n=Ng(t),r=Ng(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},VT=function(t,e){return t===e?0:t<e?-1:1},Vo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Be(e))},Mh=function(t){if(typeof t!="object"||t===null)return Be(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Be(e[r]),n+=":",n+=Mh(t[e[r]]);return n+="}",n},V1=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Xe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const H1=function(t){U(!jh(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,o,i,a,l;t===0?(o=0,i=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,i=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,i=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(i%2?1:0),i=Math.floor(i/2);for(l=e;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(s?1:0),u.reverse();const h=u.join("");let f="";for(l=0;l<64;l+=8){let d=parseInt(h.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),f=f+d}return f.toLowerCase()},HT=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},GT=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function YT(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const QT=new RegExp("^-?(0*)\\d{1,10}$"),KT=-2147483648,qT=2147483647,Ng=function(t){if(QT.test(t)){const e=Number(t);if(e>=KT&&e<=qT)return e}return null},Ro=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw dt("Exception was thrown by user callback.",n),e},Math.floor(0))}},XT=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},hi=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){dt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',dt(e)}}class tl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}tl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah="5",G1="v",Y1="s",Q1="r",K1="f",q1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,X1="ls",J1="p",rf="ac",Z1="websocket",ew="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,n,r,s,o=!1,i="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=i,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Kr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Kr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function eI(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function nw(t,e,n){U(typeof e=="string","typeof type must == string"),U(typeof n=="object","typeof params must == object");let r;if(e===Z1)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===ew)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);eI(t)&&(n.ns=t.namespace);const s=[];return Xe(n,(o,i)=>{s.push(o+"="+i)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.counters_={}}incrementCounter(e,n=1){kn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return oN(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu={},Iu={};function Oh(t){const e=t.toString();return Tu[e]||(Tu[e]=new tI),Tu[e]}function nI(t,e){const n=t.toString();return Iu[n]||(Iu[n]=e()),Iu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Ro(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="start",sI="close",oI="pLPCommand",iI="pRTLPCB",rw="id",sw="pw",ow="ser",aI="cb",lI="seg",cI="ts",uI="d",dI="dframe",iw=1870,aw=30,fI=iw-aw,hI=25e3,pI=3e4;class Fs{constructor(e,n,r,s,o,i,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.transportSessionId=i,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=la(e),this.stats_=Oh(n),this.urlFn=l=>(this.appCheckToken&&(l[rf]=this.appCheckToken),nw(n,ew,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new rI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(pI)),UT(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Dh((...o)=>{const[i,a,l,u,h]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,i===Tg)this.id=a,this.password=l;else if(i===sI)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+i)},(...o)=>{const[i,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(i,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Tg]="t",r[ow]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[aI]=this.scriptTagHolder.uniqueCallbackIdentifier),r[G1]=Ah,this.transportSessionId&&(r[Y1]=this.transportSessionId),this.lastSessionId&&(r[X1]=this.lastSessionId),this.applicationId&&(r[J1]=this.applicationId),this.appCheckToken&&(r[rf]=this.appCheckToken),typeof location<"u"&&location.hostname&&q1.test(location.hostname)&&(r[Q1]=K1);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fs.forceAllow_=!0}static forceDisallow(){Fs.forceDisallow_=!0}static isAvailable(){return Fs.forceAllow_?!0:!Fs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!HT()&&!GT()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Be(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=N1(n),s=V1(r,fI);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[dI]="t",r[rw]=e,r[sw]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Be(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Dh{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=BT(),window[oI+this.uniqueCallbackIdentifier]=e,window[iI+this.uniqueCallbackIdentifier]=n,this.myIFrame=Dh.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const i="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(a){Qe("frame writing exception"),a.stack&&Qe(a.stack),Qe(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Qe("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[rw]=this.myID,e[sw]=this.myPW,e[ow]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+aw+r.length<=iw;){const i=this.pendingSegs.shift();r=r+"&"+lI+s+"="+i.seg+"&"+cI+s+"="+i.ts+"&"+uI+s+"="+i.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(hI)),o=()=>{clearTimeout(s),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Qe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=16384,gI=45e3;let Bl=null;typeof MozWebSocket<"u"?Bl=MozWebSocket:typeof WebSocket<"u"&&(Bl=WebSocket);class rn{constructor(e,n,r,s,o,i,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=la(this.connId),this.stats_=Oh(n),this.connURL=rn.connectionURL_(n,i,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,o){const i={};return i[G1]=Ah,typeof location<"u"&&location.hostname&&q1.test(location.hostname)&&(i[Q1]=K1),n&&(i[Y1]=n),r&&(i[X1]=r),s&&(i[rf]=s),o&&(i[J1]=o),nw(e,Z1,i)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Kr.set("previous_websocket_failure",!0);try{let r;j1(),this.mySock=new Bl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){rn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Bl!==null&&!rn.forceDisallow_}static previouslyFailed(){return Kr.isInMemoryStorage||Kr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Kr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Fi(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(U(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Be(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=V1(n,mI);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(gI))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}rn.responsesRequiredToBeHealthy=2;rn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Fs,rn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=rn&&rn.isAvailable();let r=n&&!rn.previouslyFailed();if(e.webSocketOnly&&(n||dt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[rn];else{const s=this.transports_=[];for(const o of $i.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);$i.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}$i.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=6e4,vI=5e3,xI=10*1024,wI=100*1024,Ru="t",Ig="d",_I="s",Rg="r",bI="e",Pg="o",jg="a",Mg="n",Ag="p",SI="h";class CI{constructor(e,n,r,s,o,i,a,l,u,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=i,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=la("c:"+this.id+":"),this.transportManager_=new $i(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=hi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>wI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>xI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ru in e){const n=e[Ru];n===jg?this.upgradeIfSecondaryHealthy_():n===Rg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Pg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Vo("t",e),r=Vo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ag,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:jg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Mg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Vo("t",e),r=Vo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Vo(Ru,e);if(Ig in e){const r=e[Ig];if(n===SI){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Mg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===_I?this.onConnectionShutdown_(r):n===Rg?this.onReset_(r):n===bI?nf("Server Error: "+r):n===Pg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):nf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ah!==r&&dt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),hi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(yI))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(vI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ag,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Kr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this.allowedEvents_=e,this.listeners_={},U(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let o=0;o<s.length;o++)if(s[o].callback===n&&(!r||r===s[o].context)){s.splice(o,1);return}}validateEventType_(e){U(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends cw{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!P1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new $l}getInitialEvent(e){return U(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og=32,Dg=768;class he{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ae(){return new he("")}function ee(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Rr(t){return t.pieces_.length-t.pieceNum_}function ge(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new he(t.pieces_,e)}function Lh(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function kI(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Wi(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function uw(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new he(e,0)}function je(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof he)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new he(n,0)}function ne(t){return t.pieceNum_>=t.pieces_.length}function ct(t,e){const n=ee(t),r=ee(e);if(n===null)return e;if(n===r)return ct(ge(t),ge(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function EI(t,e){const n=Wi(t,0),r=Wi(e,0);for(let s=0;s<n.length&&s<r.length;s++){const o=vs(n[s],r[s]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Fh(t,e){if(Rr(t)!==Rr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Bt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Rr(t)>Rr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class NI{constructor(e,n){this.errorPrefix_=n,this.parts_=Wi(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Rc(this.parts_[r]);dw(this)}}function TI(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Rc(e),dw(t)}function II(t){const e=t.parts_.pop();t.byteLength_-=Rc(e),t.parts_.length>0&&(t.byteLength_-=1)}function dw(t){if(t.byteLength_>Dg)throw new Error(t.errorPrefix_+"has a key path longer than "+Dg+" bytes ("+t.byteLength_+").");if(t.parts_.length>Og)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Og+") or object contains a cycle "+Ur(t))}function Ur(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends cw{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new zh}getInitialEvent(e){return U(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=1e3,RI=60*5*1e3,Lg=30*1e3,PI=1.3,jI=3e4,MI="server_kill",Fg=3;class On extends lw{constructor(e,n,r,s,o,i,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=On.nextPersistentConnectionId_++,this.log_=la("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ho,this.maxReconnectDelay_=RI,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!j1())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&$l.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,o={r:s,a:e,b:n};this.log_(Be(o)),U(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new oa,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:i=>{const a=i.d;i.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,s){this.initConnection_();const o=e._queryIdentifier,i=e._path.toString();this.log_("Listen called for "+i+" "+o),this.listens.has(i)||this.listens.set(i,new Map),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),U(!this.listens.get(i).has(o),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(i).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r},i="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(i,o,a=>{const l=a.d,u=a.s;On.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&kn(e,"w")){const r=go(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();dt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||bN(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Lg)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=_N(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const o=s.s,i=s.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,i))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const o={p:e},i="n";s&&(o.q=r,o.t=s),this.sendRequest(i,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,i=>{s&&setTimeout(()=>{s(i.s,i.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,o){this.initConnection_();const i={p:n,d:r};o!==void 0&&(i.h=o),this.outstandingPuts_.push({action:e,request:i,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Be(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):nf("Unrecognized action received from server: "+Be(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){U(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ho,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ho,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>jI&&(this.reconnectDelay_=Ho),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*PI)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+On.nextConnectionId_++,o=this.lastSessionId;let i=!1,a=null;const l=function(){a?a.close():(i=!0,r())},u=function(f){U(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:l,sendRequest:u};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,d]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);i?Qe("getToken() completed but was canceled"):(Qe("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=d&&d.token,a=new CI(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{dt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(MI)},o))}catch(f){this.log_("Failed to get token: "+f),i||(this.repoInfo_.nodeAdmin&&dt(f),l())}}}interrupt(e){Qe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Qe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],hg(this.interruptReasons_)&&(this.reconnectDelay_=Ho,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>Mh(o)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new he(e).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){Qe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Fg&&(this.reconnectDelay_=Lg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Qe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Fg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+$1.replace(/\./g,"-")]=1,P1()?e["framework.cordova"]=1:mN()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=$l.getInstance().currentlyOnline();return hg(this.interruptReasons_)&&e}}On.nextPersistentConnectionId_=0;On.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new te(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new te(yo,e),s=new te(yo,n);return this.compare(r,s)!==0}minPost(){return te.MIN}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La;class fw extends Pc{static get __EMPTY_NODE(){return La}static set __EMPTY_NODE(e){La=e}compare(e,n){return vs(e.name,n.name)}isDefinedOn(e){throw To("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return te.MIN}maxPost(){return new te(fs,La)}makePost(e,n){return U(typeof e=="string","KeyIndex indexValue must always be a string."),new te(e,La)}toString(){return".key"}}const Xs=new fw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n,r,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let i=1;for(;!e.isEmpty();)if(e=e,i=n?r(e.key,n):1,s&&(i*=-1),i<0)this.isReverse_?e=e.left:e=e.right;else if(i===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ve{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Ve.RED,this.left=s??vt.EMPTY_NODE,this.right=o??vt.EMPTY_NODE}copy(e,n,r,s,o){return new Ve(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return vt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return vt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ve.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ve.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ve.RED=!0;Ve.BLACK=!1;class AI{copy(e,n,r,s,o){return this}insert(e,n,r){return new Ve(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class vt{constructor(e,n=vt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new vt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ve.BLACK,null,null))}remove(e){return new vt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ve.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Fa(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Fa(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Fa(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Fa(this.root_,null,this.comparator_,!0,e)}}vt.EMPTY_NODE=new AI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t,e){return vs(t.name,e.name)}function Bh(t,e){return vs(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf;function DI(t){sf=t}const hw=function(t){return typeof t=="number"?"number:"+H1(t):"string:"+t},pw=function(t){if(t.isLeafNode()){const e=t.val();U(typeof e=="string"||typeof e=="number"||typeof e=="object"&&kn(e,".sv"),"Priority must be a string or number.")}else U(t===sf||t.isEmpty(),"priority of unexpected type.");U(t===sf||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zg;class We{constructor(e,n=We.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,U(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),pw(this.priorityNode_)}static set __childrenNodeConstructor(e){zg=e}static get __childrenNodeConstructor(){return zg}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new We(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:We.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ne(e)?this:ee(e)===".priority"?this.priorityNode_:We.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:We.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ee(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(U(r!==".priority"||Rr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,We.__childrenNodeConstructor.EMPTY_NODE.updateChild(ge(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+hw(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=H1(this.value_):e+=this.value_,this.lazyHash_=U1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===We.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof We.__childrenNodeConstructor?-1:(U(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=We.VALUE_TYPE_ORDER.indexOf(n),o=We.VALUE_TYPE_ORDER.indexOf(r);return U(s>=0,"Unknown leaf type: "+n),U(o>=0,"Unknown leaf type: "+r),s===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}We.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mw,gw;function LI(t){mw=t}function FI(t){gw=t}class zI extends Pc{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),o=r.compareTo(s);return o===0?vs(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return te.MIN}maxPost(){return new te(fs,new We("[PRIORITY-POST]",gw))}makePost(e,n){const r=mw(e);return new te(n,new We("[PRIORITY-POST]",r))}toString(){return".priority"}}const Me=new zI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=Math.log(2);class $I{constructor(e){const n=o=>parseInt(Math.log(o)/BI,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Wl=function(t,e,n,r){t.sort(e);const s=function(l,u){const h=u-l;let f,d;if(h===0)return null;if(h===1)return f=t[l],d=n?n(f):f,new Ve(d,f.node,Ve.BLACK,null,null);{const p=parseInt(h/2,10)+l,g=s(l,p),m=s(p+1,u);return f=t[p],d=n?n(f):f,new Ve(d,f.node,Ve.BLACK,g,m)}},o=function(l){let u=null,h=null,f=t.length;const d=function(g,m){const w=f-g,y=f;f-=g;const v=s(w+1,y),x=t[w],b=n?n(x):x;p(new Ve(b,x.node,m,null,v))},p=function(g){u?(u.left=g,u=g):(h=g,u=g)};for(let g=0;g<l.count;++g){const m=l.nextBitIsOne(),w=Math.pow(2,l.count-(g+1));m?d(w,Ve.BLACK):(d(w,Ve.BLACK),d(w,Ve.RED))}return h},i=new $I(t.length),a=o(i);return new vt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu;const ks={};class Mn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return U(ks&&Me,"ChildrenNode.ts has not been loaded"),Pu=Pu||new Mn({".priority":ks},{".priority":Me}),Pu}get(e){const n=go(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof vt?n:null}hasIndex(e){return kn(this.indexSet_,e.toString())}addIndex(e,n){U(e!==Xs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const o=n.getIterator(te.Wrap);let i=o.getNext();for(;i;)s=s||e.isDefinedOn(i.node),r.push(i),i=o.getNext();let a;s?a=Wl(r,e.getCompare()):a=ks;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const h=Object.assign({},this.indexes_);return h[l]=a,new Mn(h,u)}addToIndexes(e,n){const r=Ll(this.indexes_,(s,o)=>{const i=go(this.indexSet_,o);if(U(i,"Missing index implementation for "+o),s===ks)if(i.isDefinedOn(e.node)){const a=[],l=n.getIterator(te.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Wl(a,i.getCompare())}else return ks;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new te(e.name,a))),l.insert(e,e.node)}});return new Mn(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ll(this.indexes_,s=>{if(s===ks)return s;{const o=n.get(e.name);return o?s.remove(new te(e.name,o)):s}});return new Mn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go;class Q{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&pw(this.priorityNode_),this.children_.isEmpty()&&U(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Go||(Go=new Q(new vt(Bh),null,Mn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Go}updatePriority(e){return this.children_.isEmpty()?this:new Q(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Go:n}}getChild(e){const n=ee(e);return n===null?this:this.getImmediateChild(n).getChild(ge(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(U(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new te(e,n);let s,o;n.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const i=s.isEmpty()?Go:this.priorityNode_;return new Q(s,i,o)}}updateChild(e,n){const r=ee(e);if(r===null)return n;{U(ee(e)!==".priority"||Rr(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ge(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,o=!0;if(this.forEachChild(Me,(i,a)=>{n[i]=a.val(e),r++,o&&Q.INTEGER_REGEXP_.test(i)?s=Math.max(s,Number(i)):o=!1}),!e&&o&&s<2*r){const i=[];for(const a in n)i[a]=n[a];return i}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+hw(this.getPriority().val())+":"),this.forEachChild(Me,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":U1(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new te(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new te(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new te(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,te.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,te.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ca?-1:0}withIndex(e){if(e===Xs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Q(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Xs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Me),s=n.getIterator(Me);let o=r.getNext(),i=s.getNext();for(;o&&i;){if(o.name!==i.name||!o.node.equals(i.node))return!1;o=r.getNext(),i=s.getNext()}return o===null&&i===null}else return!1;else return!1}}resolveIndex_(e){return e===Xs?null:this.indexMap_.get(e.toString())}}Q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class WI extends Q{constructor(){super(new vt(Bh),Q.EMPTY_NODE,Mn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Q.EMPTY_NODE}isEmpty(){return!1}}const ca=new WI;Object.defineProperties(te,{MIN:{value:new te(yo,Q.EMPTY_NODE)},MAX:{value:new te(fs,ca)}});fw.__EMPTY_NODE=Q.EMPTY_NODE;We.__childrenNodeConstructor=Q;DI(ca);FI(ca);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=!0;function ze(t,e=null){if(t===null)return Q.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),U(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new We(n,ze(e))}if(!(t instanceof Array)&&UI){const n=[];let r=!1;if(Xe(t,(i,a)=>{if(i.substring(0,1)!=="."){const l=ze(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new te(i,l)))}}),n.length===0)return Q.EMPTY_NODE;const o=Wl(n,OI,i=>i.name,Bh);if(r){const i=Wl(n,Me.getCompare());return new Q(o,ze(e),new Mn({".priority":i},{".priority":Me}))}else return new Q(o,ze(e),Mn.Default)}else{let n=Q.EMPTY_NODE;return Xe(t,(r,s)=>{if(kn(t,r)&&r.substring(0,1)!=="."){const o=ze(s);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(ze(e))}}LI(ze);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI extends Pc{constructor(e){super(),this.indexPath_=e,U(!ne(e)&&ee(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),o=r.compareTo(s);return o===0?vs(e.name,n.name):o}makePost(e,n){const r=ze(e),s=Q.EMPTY_NODE.updateChild(this.indexPath_,r);return new te(n,s)}maxPost(){const e=Q.EMPTY_NODE.updateChild(this.indexPath_,ca);return new te(fs,e)}toString(){return Wi(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI extends Pc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?vs(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return te.MIN}maxPost(){return te.MAX}makePost(e,n){const r=ze(e);return new te(n,r)}toString(){return".value"}}const GI=new HI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t){return{type:"value",snapshotNode:t}}function vo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ui(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Vi(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function YI(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.index_=e}updateChild(e,n,r,s,o,i){U(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(i!=null&&(r.isEmpty()?e.hasChild(n)?i.trackChildChange(Ui(n,a)):U(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?i.trackChildChange(vo(n,r)):i.trackChildChange(Vi(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Me,(s,o)=>{n.hasChild(s)||r.trackChildChange(Ui(s,o))}),n.isLeafNode()||n.forEachChild(Me,(s,o)=>{if(e.hasChild(s)){const i=e.getImmediateChild(s);i.equals(o)||r.trackChildChange(Vi(s,o,i))}else r.trackChildChange(vo(s,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Q.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this.indexedFilter_=new $h(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Hi.getStartPost_(e),this.endPost_=Hi.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,o,i){return this.matches(new te(n,r))||(r=Q.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,o,i)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Q.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(Q.EMPTY_NODE);const o=this;return n.forEachChild(Me,(i,a)=>{o.matches(new te(i,a))||(s=s.updateImmediateChild(i,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Hi(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,o,i){return this.rangedFilter_.matches(new te(n,r))||(r=Q.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,o,i):this.fullLimitUpdateChild_(e,n,r,o,i)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=Q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=Q.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let i=0;for(;o.hasNext()&&i<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),i++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(Q.EMPTY_NODE);let o;this.reverse_?o=s.getReverseIterator(this.index_):o=s.getIterator(this.index_);let i=0;for(;o.hasNext();){const a=o.getNext();i<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?i++:s=s.updateImmediateChild(a.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,o){let i;if(this.reverse_){const f=this.index_.getCompare();i=(d,p)=>f(p,d)}else i=this.index_.getCompare();const a=e;U(a.numChildren()===this.limit_,"");const l=new te(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),h=this.rangedFilter_.matches(l);if(a.hasChild(n)){const f=a.getImmediateChild(n);let d=s.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||a.hasChild(d.name));)d=s.getChildAfterChild(this.index_,d,this.reverse_);const p=d==null?1:i(d,l);if(h&&!r.isEmpty()&&p>=0)return o!=null&&o.trackChildChange(Vi(n,r,f)),a.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(Ui(n,f));const m=a.updateImmediateChild(n,Q.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(o!=null&&o.trackChildChange(vo(d.name,d.node)),m.updateImmediateChild(d.name,d.node)):m}}else return r.isEmpty()?e:h&&i(u,l)>=0?(o!=null&&(o.trackChildChange(Ui(u.name,u.node)),o.trackChildChange(vo(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,Q.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Me}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return U(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return U(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:yo}hasEnd(){return this.endSet_}getIndexEndValue(){return U(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return U(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return U(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Me}copy(){const e=new Wh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function KI(t){return t.loadsAllData()?new $h(t.getIndex()):t.hasLimit()?new QI(t):new Hi(t)}function Bg(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Me?n="$priority":t.index_===GI?n="$value":t.index_===Xs?n="$key":(U(t.index_ instanceof VI,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Be(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Be(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Be(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Be(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Be(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function $g(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Me&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends lw{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=la("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(U(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const i=Ul.getListenId_(e,r),a={};this.listens_[i]=a;const l=Bg(e._queryParams);this.restRequest_(o+".json",l,(u,h)=>{let f=h;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(o,f,!1,r),go(this.listens_,i)===a){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",s(d,null)}})}unlisten(e,n){const r=Ul.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Bg(e._queryParams),r=e._path.toString(),s=new oa;return this.restRequest_(r+".json",n,(o,i)=>{let a=i;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(n.auth=s.accessToken),o&&o.token&&(n.ac=o.token);const i=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+SN(n);this.log_("Sending REST request for "+i);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+i+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Fi(a.responseText)}catch{dt("Failed to parse JSON response for "+i+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&dt("Got unsuccessful REST response for "+i+" Status: "+a.status),r(a.status);r=null}},a.open("GET",i,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(){return{value:null,children:new Map}}function vw(t,e,n){if(ne(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ee(e);t.children.has(r)||t.children.set(r,Vl());const s=t.children.get(r);e=ge(e),vw(s,e,n)}}function of(t,e,n){t.value!==null?n(e,t.value):XI(t,(r,s)=>{const o=new he(e.toString()+"/"+r);of(s,o,n)})}function XI(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Xe(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=10*1e3,ZI=30*1e3,eR=5*60*1e3;class tR{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new JI(e);const r=Wg+(ZI-Wg)*Math.random();hi(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Xe(e,(s,o)=>{o>0&&kn(this.statsToReport_,s)&&(n[s]=o,r=!0)}),r&&this.server_.reportStats(n),hi(this.reportStats_.bind(this),Math.floor(Math.random()*2*eR))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(sn||(sn={}));function Uh(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Vh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Hh(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=sn.ACK_USER_WRITE,this.source=Uh()}operationForChild(e){if(ne(this.path)){if(this.affectedTree.value!=null)return U(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new he(e));return new Hl(ae(),n,this.revert)}}else return U(ee(this.path)===e,"operationForChild called for unrelated child."),new Hl(ge(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n){this.source=e,this.path=n,this.type=sn.LISTEN_COMPLETE}operationForChild(e){return ne(this.path)?new Gi(this.source,ae()):new Gi(this.source,ge(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=sn.OVERWRITE}operationForChild(e){return ne(this.path)?new hs(this.source,ae(),this.snap.getImmediateChild(e)):new hs(this.source,ge(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=sn.MERGE}operationForChild(e){if(ne(this.path)){const n=this.children.subtree(new he(e));return n.isEmpty()?null:n.value?new hs(this.source,ae(),n.value):new xo(this.source,ae(),n)}else return U(ee(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new xo(this.source,ge(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ne(e))return this.isFullyInitialized()&&!this.filtered_;const n=ee(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function rR(t,e,n,r){const s=[],o=[];return e.forEach(i=>{i.type==="child_changed"&&t.index_.indexedValueChanged(i.oldSnap,i.snapshotNode)&&o.push(YI(i.childName,i.snapshotNode))}),Yo(t,s,"child_removed",e,r,n),Yo(t,s,"child_added",e,r,n),Yo(t,s,"child_moved",o,r,n),Yo(t,s,"child_changed",e,r,n),Yo(t,s,"value",e,r,n),s}function Yo(t,e,n,r,s,o){const i=r.filter(a=>a.type===n);i.sort((a,l)=>oR(t,a,l)),i.forEach(a=>{const l=sR(t,a,o);s.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function sR(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function oR(t,e,n){if(e.childName==null||n.childName==null)throw To("Should only compare child_ events.");const r=new te(e.childName,e.snapshotNode),s=new te(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t,e){return{eventCache:t,serverCache:e}}function pi(t,e,n,r){return jc(new Pr(e,n,r),t.serverCache)}function xw(t,e,n,r){return jc(t.eventCache,new Pr(e,n,r))}function Gl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ps(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju;const iR=()=>(ju||(ju=new vt(VT)),ju);class pe{constructor(e,n=iR()){this.value=e,this.children=n}static fromObject(e){let n=new pe(null);return Xe(e,(r,s)=>{n=n.set(new he(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ae(),value:this.value};if(ne(e))return null;{const r=ee(e),s=this.children.get(r);if(s!==null){const o=s.findRootMostMatchingPathAndValue(ge(e),n);return o!=null?{path:je(new he(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ne(e))return this;{const n=ee(e),r=this.children.get(n);return r!==null?r.subtree(ge(e)):new pe(null)}}set(e,n){if(ne(e))return new pe(n,this.children);{const r=ee(e),o=(this.children.get(r)||new pe(null)).set(ge(e),n),i=this.children.insert(r,o);return new pe(this.value,i)}}remove(e){if(ne(e))return this.children.isEmpty()?new pe(null):new pe(null,this.children);{const n=ee(e),r=this.children.get(n);if(r){const s=r.remove(ge(e));let o;return s.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,s),this.value===null&&o.isEmpty()?new pe(null):new pe(this.value,o)}else return this}}get(e){if(ne(e))return this.value;{const n=ee(e),r=this.children.get(n);return r?r.get(ge(e)):null}}setTree(e,n){if(ne(e))return n;{const r=ee(e),o=(this.children.get(r)||new pe(null)).setTree(ge(e),n);let i;return o.isEmpty()?i=this.children.remove(r):i=this.children.insert(r,o),new pe(this.value,i)}}fold(e){return this.fold_(ae(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,o)=>{r[s]=o.fold_(je(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ae(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(ne(e))return null;{const o=ee(e),i=this.children.get(o);return i?i.findOnPath_(ge(e),je(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ae(),n)}foreachOnPath_(e,n,r){if(ne(e))return this;{this.value&&r(n,this.value);const s=ee(e),o=this.children.get(s);return o?o.foreachOnPath_(ge(e),je(n,s),r):new pe(null)}}foreach(e){this.foreach_(ae(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(je(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.writeTree_=e}static empty(){return new ln(new pe(null))}}function mi(t,e,n){if(ne(e))return new ln(new pe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let o=r.value;const i=ct(s,e);return o=o.updateChild(i,n),new ln(t.writeTree_.set(s,o))}else{const s=new pe(n),o=t.writeTree_.setTree(e,s);return new ln(o)}}}function af(t,e,n){let r=t;return Xe(n,(s,o)=>{r=mi(r,je(e,s),o)}),r}function Ug(t,e){if(ne(e))return ln.empty();{const n=t.writeTree_.setTree(e,new pe(null));return new ln(n)}}function lf(t,e){return xs(t,e)!=null}function xs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ct(n.path,e)):null}function Vg(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Me,(r,s)=>{e.push(new te(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new te(r,s.value))}),e}function br(t,e){if(ne(e))return t;{const n=xs(t,e);return n!=null?new ln(new pe(n)):new ln(t.writeTree_.subtree(e))}}function cf(t){return t.writeTree_.isEmpty()}function wo(t,e){return ww(ae(),t.writeTree_,e)}function ww(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,o)=>{s===".priority"?(U(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=ww(je(t,s),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(je(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(t,e){return Cw(e,t)}function aR(t,e,n,r,s){U(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=mi(t.visibleWrites,e,n)),t.lastWriteId=r}function lR(t,e,n,r){U(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=af(t.visibleWrites,e,n),t.lastWriteId=r}function cR(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function uR(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);U(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,o=!1,i=t.allWrites.length-1;for(;s&&i>=0;){const a=t.allWrites[i];a.visible&&(i>=n&&dR(a,r.path)?s=!1:Bt(r.path,a.path)&&(o=!0)),i--}if(s){if(o)return fR(t),!0;if(r.snap)t.visibleWrites=Ug(t.visibleWrites,r.path);else{const a=r.children;Xe(a,l=>{t.visibleWrites=Ug(t.visibleWrites,je(r.path,l))})}return!0}else return!1}function dR(t,e){if(t.snap)return Bt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Bt(je(t.path,n),e))return!0;return!1}function fR(t){t.visibleWrites=_w(t.allWrites,hR,ae()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function hR(t){return t.visible}function _w(t,e,n){let r=ln.empty();for(let s=0;s<t.length;++s){const o=t[s];if(e(o)){const i=o.path;let a;if(o.snap)Bt(n,i)?(a=ct(n,i),r=mi(r,a,o.snap)):Bt(i,n)&&(a=ct(i,n),r=mi(r,ae(),o.snap.getChild(a)));else if(o.children){if(Bt(n,i))a=ct(n,i),r=af(r,a,o.children);else if(Bt(i,n))if(a=ct(i,n),ne(a))r=af(r,ae(),o.children);else{const l=go(o.children,ee(a));if(l){const u=l.getChild(ge(a));r=mi(r,ae(),u)}}}else throw To("WriteRecord should have .snap or .children")}}return r}function bw(t,e,n,r,s){if(!r&&!s){const o=xs(t.visibleWrites,e);if(o!=null)return o;{const i=br(t.visibleWrites,e);if(cf(i))return n;if(n==null&&!lf(i,ae()))return null;{const a=n||Q.EMPTY_NODE;return wo(i,a)}}}else{const o=br(t.visibleWrites,e);if(!s&&cf(o))return n;if(!s&&n==null&&!lf(o,ae()))return null;{const i=function(u){return(u.visible||s)&&(!r||!~r.indexOf(u.writeId))&&(Bt(u.path,e)||Bt(e,u.path))},a=_w(t.allWrites,i,e),l=n||Q.EMPTY_NODE;return wo(a,l)}}}function pR(t,e,n){let r=Q.EMPTY_NODE;const s=xs(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Me,(o,i)=>{r=r.updateImmediateChild(o,i)}),r;if(n){const o=br(t.visibleWrites,e);return n.forEachChild(Me,(i,a)=>{const l=wo(br(o,new he(i)),a);r=r.updateImmediateChild(i,l)}),Vg(o).forEach(i=>{r=r.updateImmediateChild(i.name,i.node)}),r}else{const o=br(t.visibleWrites,e);return Vg(o).forEach(i=>{r=r.updateImmediateChild(i.name,i.node)}),r}}function mR(t,e,n,r,s){U(r||s,"Either existingEventSnap or existingServerSnap must exist");const o=je(e,n);if(lf(t.visibleWrites,o))return null;{const i=br(t.visibleWrites,o);return cf(i)?s.getChild(n):wo(i,s.getChild(n))}}function gR(t,e,n,r){const s=je(e,n),o=xs(t.visibleWrites,s);if(o!=null)return o;if(r.isCompleteForChild(n)){const i=br(t.visibleWrites,s);return wo(i,r.getNode().getImmediateChild(n))}else return null}function yR(t,e){return xs(t.visibleWrites,e)}function vR(t,e,n,r,s,o,i){let a;const l=br(t.visibleWrites,e),u=xs(l,ae());if(u!=null)a=u;else if(n!=null)a=wo(l,n);else return[];if(a=a.withIndex(i),!a.isEmpty()&&!a.isLeafNode()){const h=[],f=i.getCompare(),d=o?a.getReverseIteratorFrom(r,i):a.getIteratorFrom(r,i);let p=d.getNext();for(;p&&h.length<s;)f(p,r)!==0&&h.push(p),p=d.getNext();return h}else return[]}function xR(){return{visibleWrites:ln.empty(),allWrites:[],lastWriteId:-1}}function Yl(t,e,n,r){return bw(t.writeTree,t.treePath,e,n,r)}function Gh(t,e){return pR(t.writeTree,t.treePath,e)}function Hg(t,e,n,r){return mR(t.writeTree,t.treePath,e,n,r)}function Ql(t,e){return yR(t.writeTree,je(t.treePath,e))}function wR(t,e,n,r,s,o){return vR(t.writeTree,t.treePath,e,n,r,s,o)}function Yh(t,e,n){return gR(t.writeTree,t.treePath,e,n)}function Sw(t,e){return Cw(je(t.treePath,e),t.writeTree)}function Cw(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;U(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),U(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const o=s.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Vi(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Ui(r,s.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,vo(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Vi(r,e.snapshotNode,s.oldSnap));else throw To("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const kw=new bR;class Qh{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Pr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Yh(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ps(this.viewCache_),o=wR(this.writes_,s,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t){return{filter:t}}function CR(t,e){U(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),U(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function kR(t,e,n,r,s){const o=new _R;let i,a;if(n.type===sn.OVERWRITE){const u=n;u.source.fromUser?i=uf(t,e,u.path,u.snap,r,s,o):(U(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!ne(u.path),i=Kl(t,e,u.path,u.snap,r,s,a,o))}else if(n.type===sn.MERGE){const u=n;u.source.fromUser?i=NR(t,e,u.path,u.children,r,s,o):(U(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),i=df(t,e,u.path,u.children,r,s,a,o))}else if(n.type===sn.ACK_USER_WRITE){const u=n;u.revert?i=RR(t,e,u.path,r,s,o):i=TR(t,e,u.path,u.affectedTree,r,s,o)}else if(n.type===sn.LISTEN_COMPLETE)i=IR(t,e,n.path,r,o);else throw To("Unknown operation type: "+n.type);const l=o.getChanges();return ER(e,i,l),{viewCache:i,changes:l}}function ER(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Gl(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(yw(Gl(e)))}}function Ew(t,e,n,r,s,o){const i=e.eventCache;if(Ql(r,n)!=null)return e;{let a,l;if(ne(n))if(U(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=ps(e),h=u instanceof Q?u:Q.EMPTY_NODE,f=Gh(r,h);a=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const u=Yl(r,ps(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=ee(n);if(u===".priority"){U(Rr(n)===1,"Can't have a priority with additional path components");const h=i.getNode();l=e.serverCache.getNode();const f=Hg(r,n,h,l);f!=null?a=t.filter.updatePriority(h,f):a=i.getNode()}else{const h=ge(n);let f;if(i.isCompleteForChild(u)){l=e.serverCache.getNode();const d=Hg(r,n,i.getNode(),l);d!=null?f=i.getNode().getImmediateChild(u).updateChild(h,d):f=i.getNode().getImmediateChild(u)}else f=Yh(r,u,e.serverCache);f!=null?a=t.filter.updateChild(i.getNode(),u,f,h,s,o):a=i.getNode()}}return pi(e,a,i.isFullyInitialized()||ne(n),t.filter.filtersNodes())}}function Kl(t,e,n,r,s,o,i,a){const l=e.serverCache;let u;const h=i?t.filter:t.filter.getIndexedFilter();if(ne(n))u=h.updateFullNode(l.getNode(),r,null);else if(h.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=h.updateFullNode(l.getNode(),p,null)}else{const p=ee(n);if(!l.isCompleteForPath(n)&&Rr(n)>1)return e;const g=ge(n),w=l.getNode().getImmediateChild(p).updateChild(g,r);p===".priority"?u=h.updatePriority(l.getNode(),w):u=h.updateChild(l.getNode(),p,w,g,kw,null)}const f=xw(e,u,l.isFullyInitialized()||ne(n),h.filtersNodes()),d=new Qh(s,f,o);return Ew(t,f,n,s,d,a)}function uf(t,e,n,r,s,o,i){const a=e.eventCache;let l,u;const h=new Qh(s,e,o);if(ne(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,i),l=pi(e,u,!0,t.filter.filtersNodes());else{const f=ee(n);if(f===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=pi(e,u,a.isFullyInitialized(),a.isFiltered());else{const d=ge(n),p=a.getNode().getImmediateChild(f);let g;if(ne(d))g=r;else{const m=h.getCompleteChild(f);m!=null?Lh(d)===".priority"&&m.getChild(uw(d)).isEmpty()?g=m:g=m.updateChild(d,r):g=Q.EMPTY_NODE}if(p.equals(g))l=e;else{const m=t.filter.updateChild(a.getNode(),f,g,d,h,i);l=pi(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Gg(t,e){return t.eventCache.isCompleteForChild(e)}function NR(t,e,n,r,s,o,i){let a=e;return r.foreach((l,u)=>{const h=je(n,l);Gg(e,ee(h))&&(a=uf(t,a,h,u,s,o,i))}),r.foreach((l,u)=>{const h=je(n,l);Gg(e,ee(h))||(a=uf(t,a,h,u,s,o,i))}),a}function Yg(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function df(t,e,n,r,s,o,i,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;ne(n)?u=r:u=new pe(null).setTree(n,r);const h=e.serverCache.getNode();return u.children.inorderTraversal((f,d)=>{if(h.hasChild(f)){const p=e.serverCache.getNode().getImmediateChild(f),g=Yg(t,p,d);l=Kl(t,l,new he(f),g,s,o,i,a)}}),u.children.inorderTraversal((f,d)=>{const p=!e.serverCache.isCompleteForChild(f)&&d.value===null;if(!h.hasChild(f)&&!p){const g=e.serverCache.getNode().getImmediateChild(f),m=Yg(t,g,d);l=Kl(t,l,new he(f),m,s,o,i,a)}}),l}function TR(t,e,n,r,s,o,i){if(Ql(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ne(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Kl(t,e,n,l.getNode().getChild(n),s,o,a,i);if(ne(n)){let u=new pe(null);return l.getNode().forEachChild(Xs,(h,f)=>{u=u.set(new he(h),f)}),df(t,e,n,u,s,o,a,i)}else return e}else{let u=new pe(null);return r.foreach((h,f)=>{const d=je(n,h);l.isCompleteForPath(d)&&(u=u.set(h,l.getNode().getChild(d)))}),df(t,e,n,u,s,o,a,i)}}function IR(t,e,n,r,s){const o=e.serverCache,i=xw(e,o.getNode(),o.isFullyInitialized()||ne(n),o.isFiltered());return Ew(t,i,n,r,kw,s)}function RR(t,e,n,r,s,o){let i;if(Ql(r,n)!=null)return e;{const a=new Qh(r,e,s),l=e.eventCache.getNode();let u;if(ne(n)||ee(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Yl(r,ps(e));else{const f=e.serverCache.getNode();U(f instanceof Q,"serverChildren would be complete if leaf node"),h=Gh(r,f)}h=h,u=t.filter.updateFullNode(l,h,o)}else{const h=ee(n);let f=Yh(r,h,e.serverCache);f==null&&e.serverCache.isCompleteForChild(h)&&(f=l.getImmediateChild(h)),f!=null?u=t.filter.updateChild(l,h,f,ge(n),a,o):e.eventCache.getNode().hasChild(h)?u=t.filter.updateChild(l,h,Q.EMPTY_NODE,ge(n),a,o):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(i=Yl(r,ps(e)),i.isLeafNode()&&(u=t.filter.updateFullNode(u,i,o)))}return i=e.serverCache.isFullyInitialized()||Ql(r,ae())!=null,pi(e,u,i,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new $h(r.getIndex()),o=KI(r);this.processor_=SR(o);const i=n.serverCache,a=n.eventCache,l=s.updateFullNode(Q.EMPTY_NODE,i.getNode(),null),u=o.updateFullNode(Q.EMPTY_NODE,a.getNode(),null),h=new Pr(l,i.isFullyInitialized(),s.filtersNodes()),f=new Pr(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=jc(f,h),this.eventGenerator_=new nR(this.query_)}get query(){return this.query_}}function jR(t){return t.viewCache_.serverCache.getNode()}function MR(t){return Gl(t.viewCache_)}function AR(t,e){const n=ps(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ne(e)&&!n.getImmediateChild(ee(e)).isEmpty())?n.getChild(e):null}function Qg(t){return t.eventRegistrations_.length===0}function OR(t,e){t.eventRegistrations_.push(e)}function Kg(t,e,n){const r=[];if(n){U(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(o=>{const i=o.createCancelEvent(n,s);i&&r.push(i)})}if(e){let s=[];for(let o=0;o<t.eventRegistrations_.length;++o){const i=t.eventRegistrations_[o];if(!i.matches(e))s.push(i);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function qg(t,e,n,r){e.type===sn.MERGE&&e.source.queryId!==null&&(U(ps(t.viewCache_),"We should always have a full cache before handling merges"),U(Gl(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,o=kR(t.processor_,s,e,n,r);return CR(t.processor_,o.viewCache),U(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,Nw(t,o.changes,o.viewCache.eventCache.getNode(),null)}function DR(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Me,(o,i)=>{r.push(vo(o,i))}),n.isFullyInitialized()&&r.push(yw(n.getNode())),Nw(t,r,n.getNode(),e)}function Nw(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return rR(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ql;class Tw{constructor(){this.views=new Map}}function LR(t){U(!ql,"__referenceConstructor has already been defined"),ql=t}function FR(){return U(ql,"Reference.ts has not been loaded"),ql}function zR(t){return t.views.size===0}function Kh(t,e,n,r){const s=e.source.queryId;if(s!==null){const o=t.views.get(s);return U(o!=null,"SyncTree gave us an op for an invalid query."),qg(o,e,n,r)}else{let o=[];for(const i of t.views.values())o=o.concat(qg(i,e,n,r));return o}}function Iw(t,e,n,r,s){const o=e._queryIdentifier,i=t.views.get(o);if(!i){let a=Yl(n,s?r:null),l=!1;a?l=!0:r instanceof Q?(a=Gh(n,r),l=!1):(a=Q.EMPTY_NODE,l=!1);const u=jc(new Pr(a,l,!1),new Pr(r,s,!1));return new PR(e,u)}return i}function BR(t,e,n,r,s,o){const i=Iw(t,e,r,s,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,i),OR(i,n),DR(i,n)}function $R(t,e,n,r){const s=e._queryIdentifier,o=[];let i=[];const a=jr(t);if(s==="default")for(const[l,u]of t.views.entries())i=i.concat(Kg(u,n,r)),Qg(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{const l=t.views.get(s);l&&(i=i.concat(Kg(l,n,r)),Qg(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!jr(t)&&o.push(new(FR())(e._repo,e._path)),{removed:o,events:i}}function Rw(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Sr(t,e){let n=null;for(const r of t.views.values())n=n||AR(r,e);return n}function Pw(t,e){if(e._queryParams.loadsAllData())return Ac(t);{const r=e._queryIdentifier;return t.views.get(r)}}function jw(t,e){return Pw(t,e)!=null}function jr(t){return Ac(t)!=null}function Ac(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xl;function WR(t){U(!Xl,"__referenceConstructor has already been defined"),Xl=t}function UR(){return U(Xl,"Reference.ts has not been loaded"),Xl}let VR=1;class Xg{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pe(null),this.pendingWriteTree_=xR(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Mw(t,e,n,r,s){return aR(t.pendingWriteTree_,e,n,r,s),s?Po(t,new hs(Uh(),e,n)):[]}function HR(t,e,n,r){lR(t.pendingWriteTree_,e,n,r);const s=pe.fromObject(n);return Po(t,new xo(Uh(),e,s))}function dr(t,e,n=!1){const r=cR(t.pendingWriteTree_,e);if(uR(t.pendingWriteTree_,e)){let o=new pe(null);return r.snap!=null?o=o.set(ae(),!0):Xe(r.children,i=>{o=o.set(new he(i),!0)}),Po(t,new Hl(r.path,o,n))}else return[]}function ua(t,e,n){return Po(t,new hs(Vh(),e,n))}function GR(t,e,n){const r=pe.fromObject(n);return Po(t,new xo(Vh(),e,r))}function YR(t,e){return Po(t,new Gi(Vh(),e))}function QR(t,e,n){const r=Xh(t,n);if(r){const s=Jh(r),o=s.path,i=s.queryId,a=ct(o,e),l=new Gi(Hh(i),a);return Zh(t,o,l)}else return[]}function Jl(t,e,n,r,s=!1){const o=e._path,i=t.syncPointTree_.get(o);let a=[];if(i&&(e._queryIdentifier==="default"||jw(i,e))){const l=$R(i,e,n,r);zR(i)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const u=l.removed;if(a=l.events,!s){const h=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(o,(d,p)=>jr(p));if(h&&!f){const d=t.syncPointTree_.subtree(o);if(!d.isEmpty()){const p=XR(d);for(let g=0;g<p.length;++g){const m=p[g],w=m.query,y=Lw(t,m);t.listenProvider_.startListening(gi(w),Yi(t,w),y.hashFn,y.onComplete)}}}!f&&u.length>0&&!r&&(h?t.listenProvider_.stopListening(gi(e),null):u.forEach(d=>{const p=t.queryToTagMap.get(Oc(d));t.listenProvider_.stopListening(gi(d),p)}))}JR(t,u)}return a}function Aw(t,e,n,r){const s=Xh(t,r);if(s!=null){const o=Jh(s),i=o.path,a=o.queryId,l=ct(i,e),u=new hs(Hh(a),l,n);return Zh(t,i,u)}else return[]}function KR(t,e,n,r){const s=Xh(t,r);if(s){const o=Jh(s),i=o.path,a=o.queryId,l=ct(i,e),u=pe.fromObject(n),h=new xo(Hh(a),l,u);return Zh(t,i,h)}else return[]}function ff(t,e,n,r=!1){const s=e._path;let o=null,i=!1;t.syncPointTree_.foreachOnPath(s,(d,p)=>{const g=ct(d,s);o=o||Sr(p,g),i=i||jr(p)});let a=t.syncPointTree_.get(s);a?(i=i||jr(a),o=o||Sr(a,ae())):(a=new Tw,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;o!=null?l=!0:(l=!1,o=Q.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((p,g)=>{const m=Sr(g,ae());m&&(o=o.updateImmediateChild(p,m))}));const u=jw(a,e);if(!u&&!e._queryParams.loadsAllData()){const d=Oc(e);U(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const p=ZR();t.queryToTagMap.set(d,p),t.tagToQueryMap.set(p,d)}const h=Mc(t.pendingWriteTree_,s);let f=BR(a,e,n,h,o,l);if(!u&&!i&&!r){const d=Pw(a,e);f=f.concat(eP(t,e,d))}return f}function qh(t,e,n){const s=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(i,a)=>{const l=ct(i,e),u=Sr(a,l);if(u)return u});return bw(s,e,o,n,!0)}function qR(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,h)=>{const f=ct(u,n);r=r||Sr(h,f)});let s=t.syncPointTree_.get(n);s?r=r||Sr(s,ae()):(s=new Tw,t.syncPointTree_=t.syncPointTree_.set(n,s));const o=r!=null,i=o?new Pr(r,!0,!1):null,a=Mc(t.pendingWriteTree_,e._path),l=Iw(s,e,a,o?i.getNode():Q.EMPTY_NODE,o);return MR(l)}function Po(t,e){return Ow(e,t.syncPointTree_,null,Mc(t.pendingWriteTree_,ae()))}function Ow(t,e,n,r){if(ne(t.path))return Dw(t,e,n,r);{const s=e.get(ae());n==null&&s!=null&&(n=Sr(s,ae()));let o=[];const i=ee(t.path),a=t.operationForChild(i),l=e.children.get(i);if(l&&a){const u=n?n.getImmediateChild(i):null,h=Sw(r,i);o=o.concat(Ow(a,l,u,h))}return s&&(o=o.concat(Kh(s,t,r,n))),o}}function Dw(t,e,n,r){const s=e.get(ae());n==null&&s!=null&&(n=Sr(s,ae()));let o=[];return e.children.inorderTraversal((i,a)=>{const l=n?n.getImmediateChild(i):null,u=Sw(r,i),h=t.operationForChild(i);h&&(o=o.concat(Dw(h,a,l,u)))}),s&&(o=o.concat(Kh(s,t,r,n))),o}function Lw(t,e){const n=e.query,r=Yi(t,n);return{hashFn:()=>(jR(e)||Q.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?QR(t,n._path,r):YR(t,n._path);{const o=YT(s,n);return Jl(t,n,null,o)}}}}function Yi(t,e){const n=Oc(e);return t.queryToTagMap.get(n)}function Oc(t){return t._path.toString()+"$"+t._queryIdentifier}function Xh(t,e){return t.tagToQueryMap.get(e)}function Jh(t){const e=t.indexOf("$");return U(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new he(t.substr(0,e))}}function Zh(t,e,n){const r=t.syncPointTree_.get(e);U(r,"Missing sync point for query tag that we're tracking");const s=Mc(t.pendingWriteTree_,e);return Kh(r,n,s,null)}function XR(t){return t.fold((e,n,r)=>{if(n&&jr(n))return[Ac(n)];{let s=[];return n&&(s=Rw(n)),Xe(r,(o,i)=>{s=s.concat(i)}),s}})}function gi(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(UR())(t._repo,t._path):t}function JR(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=Oc(r),o=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(o)}}}function ZR(){return VR++}function eP(t,e,n){const r=e._path,s=Yi(t,e),o=Lw(t,n),i=t.listenProvider_.startListening(gi(e),s,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(s)U(!jr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,h,f)=>{if(!ne(u)&&h&&jr(h))return[Ac(h).query];{let d=[];return h&&(d=d.concat(Rw(h).map(p=>p.query))),Xe(f,(p,g)=>{d=d.concat(g)}),d}});for(let u=0;u<l.length;++u){const h=l[u];t.listenProvider_.stopListening(gi(h),Yi(t,h))}}return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new ep(n)}node(){return this.node_}}class tp{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=je(this.path_,e);return new tp(this.syncTree_,n)}node(){return qh(this.syncTree_,this.path_)}}const tP=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Jg=function(t,e,n){if(!t||typeof t!="object")return t;if(U(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return nP(t[".sv"],e,n);if(typeof t[".sv"]=="object")return rP(t[".sv"],e);U(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},nP=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:U(!1,"Unexpected server value: "+t)}},rP=function(t,e,n){t.hasOwnProperty("increment")||U(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&U(!1,"Unexpected increment value: "+r);const s=e.node();if(U(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const i=s.getValue();return typeof i!="number"?r:i+r},Fw=function(t,e,n,r){return np(e,new tp(n,t),r)},zw=function(t,e,n){return np(t,new ep(e),n)};function np(t,e,n){const r=t.getPriority().val(),s=Jg(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const i=t,a=Jg(i.getValue(),e,n);return a!==i.getValue()||s!==i.getPriority().val()?new We(a,ze(s)):t}else{const i=t;return o=i,s!==i.getPriority().val()&&(o=o.updatePriority(new We(s))),i.forEachChild(Me,(a,l)=>{const u=np(l,e.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function sp(t,e){let n=e instanceof he?e:new he(e),r=t,s=ee(n);for(;s!==null;){const o=go(r.node.children,s)||{children:{},childCount:0};r=new rp(s,r,o),n=ge(n),s=ee(n)}return r}function jo(t){return t.node.value}function Bw(t,e){t.node.value=e,hf(t)}function $w(t){return t.node.childCount>0}function sP(t){return jo(t)===void 0&&!$w(t)}function Dc(t,e){Xe(t.node.children,(n,r)=>{e(new rp(n,t,r))})}function Ww(t,e,n,r){n&&!r&&e(t),Dc(t,s=>{Ww(s,e,!0,r)}),n&&r&&e(t)}function oP(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function da(t){return new he(t.parent===null?t.name:da(t.parent)+"/"+t.name)}function hf(t){t.parent!==null&&iP(t.parent,t.name,t)}function iP(t,e,n){const r=sP(n),s=kn(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,hf(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,hf(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=/[\[\].#$\/\u0000-\u001F\u007F]/,lP=/[\[\].#$\u0000-\u001F\u007F]/,Mu=10*1024*1024,op=function(t){return typeof t=="string"&&t.length!==0&&!aP.test(t)},Uw=function(t){return typeof t=="string"&&t.length!==0&&!lP.test(t)},cP=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Uw(t)},uP=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!jh(t)||t&&typeof t=="object"&&kn(t,".sv")},dP=function(t,e,n,r){Lc(Ic(t,"value"),e,n)},Lc=function(t,e,n){const r=n instanceof he?new NI(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ur(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ur(r)+" with contents = "+e.toString());if(jh(e))throw new Error(t+"contains "+e.toString()+" "+Ur(r));if(typeof e=="string"&&e.length>Mu/3&&Rc(e)>Mu)throw new Error(t+"contains a string greater than "+Mu+" utf8 bytes "+Ur(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,o=!1;if(Xe(e,(i,a)=>{if(i===".value")s=!0;else if(i!==".priority"&&i!==".sv"&&(o=!0,!op(i)))throw new Error(t+" contains an invalid key ("+i+") "+Ur(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);TI(r,i),Lc(t,a,r),II(r)}),s&&o)throw new Error(t+' contains ".value" child '+Ur(r)+" in addition to actual children.")}},fP=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const o=Wi(r);for(let i=0;i<o.length;i++)if(!(o[i]===".priority"&&i===o.length-1)){if(!op(o[i]))throw new Error(t+"contains an invalid key ("+o[i]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(EI);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&Bt(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},hP=function(t,e,n,r){const s=Ic(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const o=[];Xe(e,(i,a)=>{const l=new he(i);if(Lc(s,a,je(n,l)),Lh(l)===".priority"&&!uP(a))throw new Error(s+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),fP(s,o)},Vw=function(t,e,n,r){if(!Uw(n))throw new Error(Ic(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},pP=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Vw(t,e,n)},mP=function(t,e){if(ee(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},gP=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!op(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!cP(n))throw new Error(Ic(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Fc(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],o=s.getPath();n!==null&&!Fh(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(s)}n&&t.eventLists_.push(n)}function Hw(t,e,n){Fc(t,n),Gw(t,r=>Fh(r,e))}function Vt(t,e,n){Fc(t,n),Gw(t,r=>Bt(r,e)||Bt(e,r))}function Gw(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const o=s.path;e(o)?(vP(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function vP(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();fi&&Qe("event: "+n.toString()),Ro(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP="repo_interrupt",wP=25;class _P{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yP,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Vl(),this.transactionQueueTree_=new rp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function bP(t,e,n){if(t.stats_=Oh(t.repoInfo_),t.forceRestClient_||XT())t.server_=new Ul(t.repoInfo_,(r,s,o,i)=>{Zg(t,r,s,o,i)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>ey(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Be(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new On(t.repoInfo_,e,(r,s,o,i)=>{Zg(t,r,s,o,i)},r=>{ey(t,r)},r=>{CP(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=nI(t.repoInfo_,()=>new tR(t.stats_,t.server_)),t.infoData_=new qI,t.infoSyncTree_=new Xg({startListening:(r,s,o,i)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=ua(t.infoSyncTree_,r._path,l),setTimeout(()=>{i("ok")},0)),a},stopListening:()=>{}}),ip(t,"connected",!1),t.serverSyncTree_=new Xg({startListening:(r,s,o,i)=>(t.server_.listen(r,o,s,(a,l)=>{const u=i(a,l);Vt(t.eventQueue_,r._path,u)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function SP(t){const n=t.infoData_.getNode(new he(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function zc(t){return tP({timestamp:SP(t)})}function Zg(t,e,n,r,s){t.dataUpdateCount++;const o=new he(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let i=[];if(s)if(r){const l=Ll(n,u=>ze(u));i=KR(t.serverSyncTree_,o,l,s)}else{const l=ze(n);i=Aw(t.serverSyncTree_,o,l,s)}else if(r){const l=Ll(n,u=>ze(u));i=GR(t.serverSyncTree_,o,l)}else{const l=ze(n);i=ua(t.serverSyncTree_,o,l)}let a=o;i.length>0&&(a=_o(t,o)),Vt(t.eventQueue_,a,i)}function ey(t,e){ip(t,"connected",e),e===!1&&TP(t)}function CP(t,e){Xe(e,(n,r)=>{ip(t,n,r)})}function ip(t,e,n){const r=new he("/.info/"+e),s=ze(n);t.infoData_.updateSnapshot(r,s);const o=ua(t.infoSyncTree_,r,s);Vt(t.eventQueue_,r,o)}function ap(t){return t.nextWriteId_++}function kP(t,e,n){const r=qR(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const o=ze(s).withIndex(e._queryParams.getIndex());ff(t.serverSyncTree_,e,n,!0);let i;if(e._queryParams.loadsAllData())i=ua(t.serverSyncTree_,e._path,o);else{const a=Yi(t.serverSyncTree_,e);i=Aw(t.serverSyncTree_,e._path,o,a)}return Vt(t.eventQueue_,e._path,i),Jl(t.serverSyncTree_,e,n,null,!0),o},s=>(fa(t,"get for query "+Be(e)+" failed: "+s),Promise.reject(new Error(s))))}function EP(t,e,n,r,s){fa(t,"set",{path:e.toString(),value:n,priority:r});const o=zc(t),i=ze(n,r),a=qh(t.serverSyncTree_,e),l=zw(i,a,o),u=ap(t),h=Mw(t.serverSyncTree_,e,l,u,!0);Fc(t.eventQueue_,h),t.server_.put(e.toString(),i.val(!0),(d,p)=>{const g=d==="ok";g||dt("set at "+e+" failed: "+d);const m=dr(t.serverSyncTree_,u,!g);Vt(t.eventQueue_,e,m),pf(t,s,d,p)});const f=cp(t,e);_o(t,f),Vt(t.eventQueue_,f,[])}function NP(t,e,n,r){fa(t,"update",{path:e.toString(),value:n});let s=!0;const o=zc(t),i={};if(Xe(n,(a,l)=>{s=!1,i[a]=Fw(je(e,a),ze(l),t.serverSyncTree_,o)}),s)Qe("update() called with empty data.  Don't do anything."),pf(t,r,"ok",void 0);else{const a=ap(t),l=HR(t.serverSyncTree_,e,i,a);Fc(t.eventQueue_,l),t.server_.merge(e.toString(),n,(u,h)=>{const f=u==="ok";f||dt("update at "+e+" failed: "+u);const d=dr(t.serverSyncTree_,a,!f),p=d.length>0?_o(t,e):e;Vt(t.eventQueue_,p,d),pf(t,r,u,h)}),Xe(n,u=>{const h=cp(t,je(e,u));_o(t,h)}),Vt(t.eventQueue_,e,[])}}function TP(t){fa(t,"onDisconnectEvents");const e=zc(t),n=Vl();of(t.onDisconnect_,ae(),(s,o)=>{const i=Fw(s,o,t.serverSyncTree_,e);vw(n,s,i)});let r=[];of(n,ae(),(s,o)=>{r=r.concat(ua(t.serverSyncTree_,s,o));const i=cp(t,s);_o(t,i)}),t.onDisconnect_=Vl(),Vt(t.eventQueue_,ae(),r)}function IP(t,e,n){let r;ee(e._path)===".info"?r=ff(t.infoSyncTree_,e,n):r=ff(t.serverSyncTree_,e,n),Hw(t.eventQueue_,e._path,r)}function Yw(t,e,n){let r;ee(e._path)===".info"?r=Jl(t.infoSyncTree_,e,n):r=Jl(t.serverSyncTree_,e,n),Hw(t.eventQueue_,e._path,r)}function RP(t){t.persistentConnection_&&t.persistentConnection_.interrupt(xP)}function fa(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Qe(n,...e)}function pf(t,e,n,r){e&&Ro(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let o=s;r&&(o+=": "+r);const i=new Error(o);i.code=s,e(i)}})}function Qw(t,e,n){return qh(t.serverSyncTree_,e,n)||Q.EMPTY_NODE}function lp(t,e=t.transactionQueueTree_){if(e||Bc(t,e),jo(e)){const n=qw(t,e);U(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&PP(t,da(e),n)}else $w(e)&&Dc(e,n=>{lp(t,n)})}function PP(t,e,n){const r=n.map(u=>u.currentWriteId),s=Qw(t,e,r);let o=s;const i=s.hash();for(let u=0;u<n.length;u++){const h=n[u];U(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=ct(e,h.path);o=o.updateChild(f,h.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,u=>{fa(t,"transaction put response",{path:l.toString(),status:u});let h=[];if(u==="ok"){const f=[];for(let d=0;d<n.length;d++)n[d].status=2,h=h.concat(dr(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&f.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();Bc(t,sp(t.transactionQueueTree_,e)),lp(t,t.transactionQueueTree_),Vt(t.eventQueue_,e,h);for(let d=0;d<f.length;d++)Ro(f[d])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{dt("transaction at "+l.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}_o(t,e)}},i)}function _o(t,e){const n=Kw(t,e),r=da(n),s=qw(t,n);return jP(t,s,r),r}function jP(t,e,n){if(e.length===0)return;const r=[];let s=[];const i=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=ct(n,l.path);let h=!1,f;if(U(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)h=!0,f=l.abortReason,s=s.concat(dr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=wP)h=!0,f="maxretry",s=s.concat(dr(t.serverSyncTree_,l.currentWriteId,!0));else{const d=Qw(t,l.path,i);l.currentInputSnapshot=d;const p=e[a].update(d.val());if(p!==void 0){Lc("transaction failed: Data returned ",p,l.path);let g=ze(p);typeof p=="object"&&p!=null&&kn(p,".priority")||(g=g.updatePriority(d.getPriority()));const w=l.currentWriteId,y=zc(t),v=zw(g,d,y);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=v,l.currentWriteId=ap(t),i.splice(i.indexOf(w),1),s=s.concat(Mw(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),s=s.concat(dr(t.serverSyncTree_,w,!0))}else h=!0,f="nodata",s=s.concat(dr(t.serverSyncTree_,l.currentWriteId,!0))}Vt(t.eventQueue_,n,s),s=[],h&&(e[a].status=2,function(d){setTimeout(d,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}Bc(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ro(r[a]);lp(t,t.transactionQueueTree_)}function Kw(t,e){let n,r=t.transactionQueueTree_;for(n=ee(e);n!==null&&jo(r)===void 0;)r=sp(r,n),e=ge(e),n=ee(e);return r}function qw(t,e){const n=[];return Xw(t,e,n),n.sort((r,s)=>r.order-s.order),n}function Xw(t,e,n){const r=jo(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Dc(e,s=>{Xw(t,s,n)})}function Bc(t,e){const n=jo(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,Bw(e,n.length>0?n:void 0)}Dc(e,r=>{Bc(t,r)})}function cp(t,e){const n=da(Kw(t,e)),r=sp(t.transactionQueueTree_,e);return oP(r,s=>{Au(t,s)}),Au(t,r),Ww(r,s=>{Au(t,s)}),n}function Au(t,e){const n=jo(e);if(n){const r=[];let s=[],o=-1;for(let i=0;i<n.length;i++)n[i].status===3||(n[i].status===1?(U(o===i-1,"All SENT items should be at beginning of queue."),o=i,n[i].status=3,n[i].abortReason="set"):(U(n[i].status===0,"Unexpected transaction status in abort"),n[i].unwatcher(),s=s.concat(dr(t.serverSyncTree_,n[i].currentWriteId,!0)),n[i].onComplete&&r.push(n[i].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Bw(e,void 0):n.length=o+1,Vt(t.eventQueue_,da(e),s);for(let i=0;i<r.length;i++)Ro(r[i])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function AP(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):dt(`Invalid query segment '${n}' in query '${t}'`)}return e}const ty=function(t,e){const n=OP(t),r=n.namespace;n.domain==="firebase.com"&&Un(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Un("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||WT();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new tw(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new he(n.pathString)}},OP=function(t){let e="",n="",r="",s="",o="",i=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let h=t.indexOf("/");h===-1&&(h=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(s=MP(t.substring(h,f)));const d=AP(t.substring(Math.min(t.length,f)));u=e.indexOf(":"),u>=0?(i=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),o=r}"ns"in d&&(o=d.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:i,scheme:a,pathString:s,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Be(this.snapshot.exportVal())}}class LP{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return U(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return ne(this._path)?null:Lh(this._path)}get ref(){return new Hn(this._repo,this._path)}get _queryIdentifier(){const e=$g(this._queryParams),n=Mh(e);return n==="{}"?"default":n}get _queryObject(){return $g(this._queryParams)}isEqual(e){if(e=Io(e),!(e instanceof up))return!1;const n=this._repo===e._repo,r=Fh(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+kI(this._path)}}class Hn extends up{constructor(e,n){super(e,n,new Wh,!1)}get parent(){const e=uw(this._path);return e===null?null:new Hn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Qi{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new he(e),r=mf(this.ref,e);return new Qi(this._node.getChild(n),r,Me)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Qi(s,mf(this.ref,r),Me)))}hasChild(e){const n=new he(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function st(t,e){return t=Io(t),t._checkNotDeleted("ref"),e!==void 0?mf(t._root,e):t._root}function mf(t,e){return t=Io(t),ee(t._path)===null?pP("child","path",e):Vw("child","path",e),new Hn(t._repo,je(t._path,e))}function FP(t,e){t=Io(t),mP("set",t._path),dP("set",e,t._path);const n=new oa;return EP(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function qt(t,e){hP("update",e,t._path);const n=new oa;return NP(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function ti(t){t=Io(t);const e=new Jw(()=>{}),n=new $c(e);return kP(t._repo,t,n).then(r=>new Qi(r,new Hn(t._repo,t._path),t._queryParams.getIndex()))}class $c{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new DP("value",this,new Qi(e.snapshotNode,new Hn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new LP(this,e,n):null}matches(e){return e instanceof $c?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function zP(t,e,n,r,s){const o=new Jw(n,void 0),i=new $c(o);return IP(t._repo,t,i),()=>Yw(t._repo,t,i)}function BP(t,e,n,r){return zP(t,"value",e)}function $P(t,e,n){Yw(t._repo,t,null)}LR(Hn);WR(Hn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP="FIREBASE_DATABASE_EMULATOR_HOST",gf={};let UP=!1;function VP(t,e,n,r){t.repoInfo_=new tw(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function HP(t,e,n,r,s){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Un("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qe("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let i=ty(o,s),a=i.repoInfo,l;typeof process<"u"&&Sg&&(l=Sg[WP]),l?(o=`http://${l}?ns=${a.namespace}`,i=ty(o,s),a=i.repoInfo):i.repoInfo.secure;const u=new ZT(t.name,t.options,e);gP("Invalid Firebase Database URL",i),ne(i.path)||Un("Database URL must point to the root of a Firebase Database (not including a child path).");const h=YP(a,t,u,new JT(t.name,n));return new QP(h,t)}function GP(t,e){const n=gf[e];(!n||n[t.key]!==t)&&Un(`Database ${e}(${t.repoInfo_}) has already been deleted.`),RP(t),delete n[t.key]}function YP(t,e,n,r){let s=gf[e.name];s||(s={},gf[e.name]=s);let o=s[t.toURLString()];return o&&Un("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new _P(t,UP,n,r),s[t.toURLString()]=o,o}class QP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(bP(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hn(this._repo,ae())),this._rootInternal}_delete(){return this._rootInternal!==null&&(GP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Un("Cannot call "+e+" on a deleted database.")}}function KP(t=ET(),e){const n=bT(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=fN("database");r&&qP(n,...r)}return n}function qP(t,e,n,r={}){t=Io(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Un("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Un('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new tl(tl.OWNER);else if(r.mockUserToken){const i=typeof r.mockUserToken=="string"?r.mockUserToken:hN(r.mockUserToken,t.app.options.projectId);o=new tl(i)}VP(s,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(t){DT(kT),zl(new zi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return HP(r,s,o,n)},"PUBLIC").setMultipleInstances(!0)),Ks(Cg,kg,t),Ks(Cg,kg,"esm2017")}On.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};On.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};XP();var JP="firebase",ZP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ks(JP,ZP,"app");const ej={apiKey:"AIzaSyAFr8u9pp_aLhKxIvXfP9_rMgJUf5h_-vc",authDomain:"basketball-manager-6c466.firebaseapp.com",databaseURL:"https://basketball-manager-6c466-default-rtdb.europe-west1.firebasedatabase.app",projectId:"basketball-manager-6c466",storageBucket:"basketball-manager-6c466.firebasestorage.app",messagingSenderId:"299621848640",appId:"1:299621848640:web:a1d50705d62298e534f1a5"},tj=F1(ej),ot=KP(tj);function Qo(t){var e,n,r,s,o,i,a,l;return{...t,schedule:t.schedule??[],declinedPlayerIds:t.declinedPlayerIds??[],playoffBracket:t.playoffBracket??[],gameOver:t.gameOver??!1,youthIntakeUsed:t.youthIntakeUsed??!1,youthIntakeUsedGuest:t.youthIntakeUsedGuest??!1,consecutiveNegativeSeasons:t.consecutiveNegativeSeasons??0,week:t.week??0,phase:(t.phase==="preseason"?"regular":t.phase)??"regular",teams:(t.teams??[]).map(u=>({...u,players:u.players??[]})),standings:{rkl:((e=t.standings)==null?void 0:e.rkl)??[],lkl:((n=t.standings)==null?void 0:n.lkl)??[]},finances:{ticketIncome:((r=t.finances)==null?void 0:r.ticketIncome)??0,sponsorIncome:((s=t.finances)==null?void 0:s.sponsorIncome)??0,prizeIncome:((o=t.finances)==null?void 0:o.prizeIncome)??0,totalWages:((i=t.finances)==null?void 0:i.totalWages)??0,transferSpending:((a=t.finances)==null?void 0:a.transferSpending)??0,balance:((l=t.finances)==null?void 0:l.balance)??0}}}function ny(){const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let n=0;n<6;n++)e+=t[Math.floor(Math.random()*t.length)];return e}function nj(){const[t,e]=_.useState(null),[n,r]=_.useState(null),[s,o]=_.useState(null),[i,a]=_.useState(null),[l,u]=_.useState(!1),[h,f]=_.useState(null),d=_.useRef(null),p=_.useRef(null),g=_.useRef(null),m=_.useRef(null),w=_.useRef(!1),y=_.useCallback((P,T,I)=>{m.current&&m.current();const $=st(ot,`lobbies/${P}`),L=BP($,z=>{const C=z.val();if(!C)return;const R=p.current??T,F=g.current??I,M=R==="host"?C.guestTeamId:C.hostTeamId;if(e({lobbyCode:P,myRole:R,myTeamId:F,opponentTeamId:M,myReady:R==="host"?C.hostReady:C.guestReady,opponentReady:R==="host"?C.guestReady:C.hostReady,status:C.status}),C.gameState){const D={...Qo(C.gameState),selectedTeamId:F};r(D)}if(console.log("[useLobby] Firebase data received:",{status:C.status,hasGameState:!!C.gameState,myRole:R,hasHostFinances:!!C.hostFinances,hasGuestFinances:!!C.guestFinances}),R==="host"?(C.hostFinances&&(console.log("[useLobby] Setting host finances"),o(C.hostFinances)),C.guestFinances&&(console.log("[useLobby] Setting guest finances (opponent)"),a(C.guestFinances))):(C.guestFinances&&(console.log("[useLobby] Setting guest finances (my)"),o(C.guestFinances)),C.hostFinances&&(console.log("[useLobby] Setting host finances (opponent)"),a(C.hostFinances))),R==="host"&&C.status==="in_game"&&C.hostReady&&C.guestReady&&C.gameState&&!w.current){w.current=!0;const D=C.gameState.phase;let V;D==="regular"?V=v(P,C):D==="playoffs"?V=O(P,C):D==="offseason"?V=j(P,C):V=Promise.resolve(),V.finally(()=>{w.current=!1})}});return m.current=()=>$P($),L},[]);async function v(P,T){var K;if(!T.gameState||!T.hostTeamId||!T.guestTeamId)return;const I=st(ot,`lobbies/${P}`);await qt(I,{hostReady:!1,guestReady:!1});const $={...Qo(T.gameState),phase:"regular",selectedTeamId:T.hostTeamId,finances:T.hostFinances??T.gameState.finances},L=w1($,T.guestTeamId),z=L.finances,C=L.teams.find(be=>be.id===T.guestTeamId);if(!C)return;const R=L.seasonBonus==="bonus_ticket_10"?1.1:1,M=L.schedule.filter(be=>be.week===L.week&&be.homeTeamId===T.guestTeamId).length>0?Math.round(C.prestige*1500/2*R):0,D=T.guestFinances??Hr(C,L.seasonModifier),V={...D,ticketIncome:D.ticketIncome+M},le=2*(L.teams.filter(be=>be.division===C.division).length-1);if(L.week>=le){const Mt=[...L.standings[C.division]||[]].sort((Ge,se)=>se.wins-Ge.wins||se.pointsFor-se.pointsAgainst-(Ge.pointsFor-Ge.pointsAgainst)).findIndex(Ge=>Ge.teamId===T.guestTeamId)+1,At={rkl:{1:23e4,2:2e5,3:19e4,4:16e4,5:15e4,6:125e3,7:1e5,8:75e3},lkl:{1:5e4,2:38e3,3:3e4,4:24e3,5:18e3,6:14e3,7:1e4,8:7e3}};V.prizeIncome=(V.prizeIncome??0)+(((K=At[C.division])==null?void 0:K[Mt])??0)}const ve={...L,selectedTeamId:T.hostTeamId};await qt(I,{gameState:ve,hostFinances:z,guestFinances:V})}const x=_.useCallback(async(P,T,I)=>{u(!0),f(null);try{let $=ny();for(let C=0;C<5&&(await ti(st(ot,`lobbies/${$}`))).exists();C++)$=ny();if(!ss.find(C=>C.id===P))throw new Error("Team not found");const z={status:"waiting",hostTeamId:P,guestTeamId:null,hostReady:!1,guestReady:!1,gameState:null,hostFinances:null,guestFinances:null,hostCoachType:T??null,hostCoachName:I??null,guestCoachType:null,guestCoachName:null,createdAt:Date.now()};return await FP(st(ot,`lobbies/${$}`),z),d.current=$,p.current="host",g.current=P,y($,"host",P),$}catch($){throw f($.message??"Failed to create lobby"),$}finally{u(!1)}},[y]),b=_.useCallback(async(P,T,I,$)=>{u(!0),f(null);try{const L=await ti(st(ot,`lobbies/${P}`));if(!L.exists())return f("Lobby not found. Check the code and try again."),!1;const z=L.val();return z.status!=="waiting"?(f("This lobby has already started."),!1):z.guestTeamId?(f("This lobby is full."),!1):z.hostTeamId===T?(f("That team is already taken by the host. Pick a different team."),!1):(await qt(st(ot,`lobbies/${P}`),{guestTeamId:T,guestCoachType:I??null,guestCoachName:$??null}),d.current=P,p.current="guest",g.current=T,y(P,"guest",T),!0)}catch(L){return f(L.message??"Failed to join lobby"),!1}finally{u(!1)}},[y]),E=_.useCallback(async()=>{const P=d.current,T=p.current,I=g.current;if(!P||T!=="host"||!I)return;console.log("[useLobby] Starting game for team:",I);const L=(await ti(st(ot,`lobbies/${P}`))).val();if(!(L!=null&&L.guestTeamId))return;const z=v1(I),C=z.teams.find(V=>V.id===I),R=z.teams.find(V=>V.id===L.guestTeamId),F=Hr(C,z.seasonModifier),M=Hr(R,z.seasonModifier);console.log("[useLobby] Initialized finances:",{hostFinances:F,guestFinances:M,hostTeam:C.name,guestTeam:R.name});const D={...z,phase:"regular",selectedTeamId:I,...L.hostCoachType?{coachType:L.hostCoachType}:{},...L.hostCoachName?{coachName:L.hostCoachName}:{},...L.guestCoachType?{guestCoachType:L.guestCoachType}:{},...L.guestCoachName?{guestCoachName:L.guestCoachName}:{}};await qt(st(ot,`lobbies/${P}`),{status:"in_game",gameState:D,hostFinances:F,guestFinances:M}),console.log("[useLobby] Game started - Firebase updated")},[]),S=_.useCallback(async()=>{const P=d.current,T=p.current;if(!P||!T)return;const I=T==="host"?"hostReady":"guestReady";await qt(st(ot,`lobbies/${P}`),{[I]:!0})},[]),k=_.useCallback(async()=>{const P=d.current,T=p.current;if(!P||!T)return;const I=T==="host"?"hostReady":"guestReady";await qt(st(ot,`lobbies/${P}`),{[I]:!1})},[]),N=_.useCallback(async(P,T)=>{const I=d.current,$=p.current,L=g.current;if(!I||!$||!L)return;const C=(await ti(st(ot,`lobbies/${I}/gameState`))).val();if(!C)return;const F=Qo(C).teams.map(D=>D.id===L?P.teams.find(V=>V.id===L):D),M=$==="host"?"hostFinances":"guestFinances";await qt(st(ot,`lobbies/${I}`),{"gameState/teams":F,"gameState/youthIntakeUsed":P.youthIntakeUsed??!1,"gameState/youthIntakeUsedGuest":P.youthIntakeUsedGuest??!1,[M]:T})},[]);async function O(P,T){if(!(T!=null&&T.gameState))return;const I=st(ot,`lobbies/${P}`);await qt(I,{hostReady:!1,guestReady:!1});const $=Qo(T.gameState),L={...$,phase:"playoffs",selectedTeamId:T.hostTeamId,finances:T.hostFinances??$.finances},z=b1(L);await qt(I,{gameState:{...z,selectedTeamId:T.hostTeamId,youthIntakeUsed:z.phase==="offseason"?!1:z.youthIntakeUsed,youthIntakeUsedGuest:z.phase==="offseason"?!1:z.youthIntakeUsedGuest},hostFinances:z.finances})}async function j(P,T){if(!(T!=null&&T.gameState))return;const I=st(ot,`lobbies/${P}`);await qt(I,{hostReady:!1,guestReady:!1});const $=Qo(T.gameState),L={...$,selectedTeamId:T.hostTeamId,finances:T.hostFinances??$.finances},C={...S1(L),phase:"regular",week:0},R=C.teams.find(V=>V.id===T.hostTeamId),F=C.teams.find(V=>V.id===T.guestTeamId),M=Hr(R,C.seasonModifier);M.balance=C.finances.balance;let D=T.guestFinances;if(F&&T.guestFinances){const V=Hr(F,C.seasonModifier),Y=T.guestFinances,le=Y.balance+Y.ticketIncome+Y.sponsorIncome+Y.prizeIncome-Y.totalWages-Y.transferSpending;V.balance=le,D=V}await qt(I,{gameState:{...C,selectedTeamId:T.hostTeamId},hostFinances:M,guestFinances:D})}const H=_.useCallback(()=>{m.current&&(m.current(),m.current=null),w.current=!1,d.current=null,p.current=null,g.current=null,e(null),r(null),o(null),a(null),f(null)},[]);return _.useEffect(()=>()=>{m.current&&m.current()},[]),{lobbyState:t,gameState:n,myFinances:s,opponentFinances:i,isCreatingOrJoining:l,error:h,createLobby:x,joinLobby:b,startGame:E,setReady:S,cancelReady:k,updateMyTeam:N,leaveLobby:H}}function ry(t){let e=t.players.filter(o=>o.isStarter);if(e.length<5){const o=[...t.players.filter(i=>!i.isStarter)].sort((i,a)=>a.overall-i.overall);e=[...e,...o.slice(0,5-e.length)]}if(e.length<5)return"balanced";const n=e.filter(o=>o.role==="Defender").length,r=e.filter(o=>o.role==="Sharpshooter").length,s=e.filter(o=>o.role==="Playmaker").length;return n>=3?"defensive":r>=3?"offensive":s>=3?"playmaking":"balanced"}function rj(t,e){return t==="balanced"||e==="balanced"?0:t==="defensive"&&e==="offensive"||t==="offensive"&&e==="playmaking"||t==="playmaking"&&e==="defensive"?10:0}function sj({strategy:t}){return t==="defensive"?c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:14,height:14,color:"hsl(195 85% 50%)"},title:"Defensive",children:c.jsx("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 00-1.032 0 11.209 11.209 0 01-7.877 3.08.75.75 0 00-.722.515A12.74 12.74 0 002.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 00.374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 00-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.704-3.08z",clipRule:"evenodd"})}):t==="offensive"?c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:14,height:14,color:"hsl(0 72% 58%)"},title:"Offensive",children:c.jsx("path",{d:"M10.5 1.875a1.125 1.125 0 012.25 0v8.219c.517.162 1.02.382 1.5.659V3.375a1.125 1.125 0 012.25 0v9.45l.534.03a1.5 1.5 0 011.447 1.59l-.3 5.25a4.5 4.5 0 01-4.49 4.255h-1.443a4.5 4.5 0 01-4.325-3.285l-1.432-5.373a1.125 1.125 0 01.82-1.371 1.125 1.125 0 011.371.821l.803 3.012a.75.75 0 001.45-.386l-.812-3.045a2.625 2.625 0 00-2.53-1.949l-.09-.003A2.625 2.625 0 004.5 14.25v-6a1.125 1.125 0 012.25 0v4.219c.48-.277.983-.497 1.5-.659V3.375a1.125 1.125 0 012.25 0V1.875z"})}):t==="playmaking"?c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:14,height:14,color:"hsl(38 95% 55%)"},title:"Playmaking",children:c.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-.53 14.03a.75.75 0 001.06 0l3-3a.75.75 0 10-1.06-1.06l-1.72 1.72V8.25a.75.75 0 00-1.5 0v5.69l-1.72-1.72a.75.75 0 00-1.06 1.06l3 3z",clipRule:"evenodd"})}):c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:14,height:14,color:"hsl(215 15% 50%)"},title:"Balanced",children:c.jsx("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z",clipRule:"evenodd"})})}function sy(){var F;const{state:t,playWeek:e,startRegularSeason:n,startNewSeason:r,simulateAllPlayoffs:s,setView:o,freeAgents:i,seasonBonusChoices:a,chooseSeasonBonus:l,multiplayerLobby:u}=Dr();if(!t)return null;const h=t.teams.find(M=>M.id===t.selectedTeamId);if(!h)return c.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"Loading team..."});const f=t.seasonModifier?J5.find(M=>M.id===t.seasonModifier):null,d=t.seasonBonus?Yd.find(M=>M.id===t.seasonBonus):null,p=((F=ds.find(M=>M.id===h.division))==null?void 0:F.name)||"",g=h.division==="lkl",m=[...t.standings[h.division]||[]].sort((M,D)=>D.wins-M.wins||D.pointsFor-D.pointsAgainst-(M.pointsFor-M.pointsAgainst)),w=m.find(M=>M.teamId===t.selectedTeamId),y=m.findIndex(M=>M.teamId===t.selectedTeamId)+1,v=ry(h),x=u==null?void 0:u.opponentTeamId,b=[...t.schedule??[]].filter(M=>M.homeTeamId===t.selectedTeamId||M.awayTeamId===t.selectedTeamId),E=x?[...t.schedule??[]].filter(M=>(M.homeTeamId===x||M.awayTeamId===x)&&M.homeTeamId!==t.selectedTeamId&&M.awayTeamId!==t.selectedTeamId):[],S=[...b].reverse()[0]??null,k=[...E].reverse()[0]??null,N=t.finances,O=N.ticketIncome+N.sponsorIncome+N.prizeIncome,j=N.totalWages+N.transferSpending,H=O-j,P=h.players.filter(M=>M.isStarter),T=(()=>{let M=[...P];if(M.length<5){const D=[...h.players.filter(V=>!V.isStarter)].sort((V,Y)=>Y.overall-V.overall);M=[...M,...D.slice(0,5-M.length)]}return M.slice(0,5)})(),I=T.length>0?Math.round(T.reduce((M,D)=>M+D.overall,0)/T.length):0,L=2*(t.teams.filter(M=>M.division===h.division).length-1),z=t.phase==="preseason"?1:t.week,C=t.phase==="preseason"&&!t.gameOver&&!t.seasonBonus&&a.length>0,R=t.phase!=="regular"&&t.phase!=="playoffs"?null:h.division==="rkl"&&y>=m.length-2&&y>0?`Relegation zone  rank ${y}/${m.length}. Finish above last place!`:h.prestige<=1&&y>Math.ceil(m.length/2)?"Low prestige + poor standings  keep winning or face game over!":null;return c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsxs("div",{className:"relative overflow-hidden rounded-2xl px-5 py-5 court-arc",style:{background:"hsl(220 22% 8%)",border:"1px solid hsl(220 20% 12%)"},children:[c.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:`radial-gradient(ellipse 70% 60% at 0% 50%, ${h.color}10, transparent)`}}),c.jsxs("div",{className:"relative flex items-center gap-4",children:[c.jsx(Rt,{shortName:h.shortName,color:h.color,size:"lg"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-[10px] font-bold uppercase tracking-[0.18em] font-condensed",style:{color:"hsl(38 95% 55%)"},children:h.shortName}),c.jsx("h2",{className:"text-xl font-bold text-foreground leading-tight font-condensed uppercase tracking-wider",children:h.name}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[p,"  Season ",t.season]}),t.coachName&&c.jsx("p",{className:"text-[11px] mt-1 font-condensed tracking-wide",style:{color:"hsl(38 95% 55%)"},children:t.coachName})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"font-display text-5xl",style:{color:h.color},children:I}),c.jsx("div",{className:"text-[9px] text-muted-foreground uppercase tracking-[0.15em] mt-0.5 font-condensed",children:"OVR"})]})]})]}),R&&c.jsxs("div",{className:"rounded-xl px-4 py-3.5 flex items-center gap-3",style:{background:"hsl(0 72% 55% / 0.08)",border:"1px solid hsl(0 72% 55% / 0.3)"},children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:20,height:20,color:"hsl(0 72% 58%)",flexShrink:0},children:c.jsx("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-bold font-condensed uppercase tracking-wide",style:{color:"hsl(0 72% 60%)"},children:"Danger Zone"}),c.jsx("div",{className:"text-xs mt-0.5",style:{color:"hsl(0 72% 60% / 0.8)"},children:R})]})]}),C&&c.jsxs("div",{className:"rounded-2xl p-4",style:{background:"hsl(220 22% 8%)",border:"1px solid hsl(220 20% 14%)"},children:[c.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-3 font-condensed font-bold",children:"Pick a Season Bonus"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2.5",children:a.map(M=>{const D=Yd.find(V=>V.id===M);return c.jsxs("button",{onClick:()=>l(M),className:"flex flex-col items-start gap-1 rounded-xl p-3.5 hover:border-primary hover:bg-primary/5 transition-all text-left active:scale-95 cursor-pointer",style:{border:"1px solid hsl(220 20% 14%)",background:"hsl(220 20% 10%)"},children:[c.jsx("span",{className:"text-xl",children:D.emoji}),c.jsx("span",{className:"text-xs font-bold text-foreground uppercase tracking-wider font-condensed",children:D.name}),c.jsx("span",{className:"text-xs text-muted-foreground",children:D.description})]},M)})})]}),t.phase==="offseason"&&(()=>{const M=[...t.standings.rkl||[]].sort((K,be)=>be.wins-K.wins||be.pointsFor-be.pointsAgainst-(K.pointsFor-K.pointsAgainst)),D=[...t.standings.lkl||[]].sort((K,be)=>be.wins-K.wins||be.pointsFor-be.pointsAgainst-(K.pointsFor-K.pointsAgainst)),V=M.length>0?M[M.length-1].teamId:null,le=(D.length>0?D[0].teamId:null)===t.selectedTeamId,ve=V===t.selectedTeamId;return c.jsxs(c.Fragment,{children:[le&&c.jsxs("div",{className:"rounded-xl p-4 flex items-center gap-3",style:{background:"hsl(152 60% 40% / 0.08)",border:"1px solid hsl(152 60% 40% / 0.3)"},children:[c.jsx("div",{className:"text-2xl",children:""}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-bold font-condensed uppercase tracking-wide",style:{color:"hsl(152 60% 48%)"},children:"PROMOTED TO A DIVISION!"}),c.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:"Finished 1st in B Division  promoted to RKL next season!"})]})]}),ve&&c.jsxs("div",{className:"rounded-xl p-4 flex items-center gap-3",style:{background:"hsl(0 72% 55% / 0.08)",border:"1px solid hsl(0 72% 55% / 0.3)"},children:[c.jsx("div",{className:"text-2xl",children:""}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-bold font-condensed uppercase tracking-wide",style:{color:"hsl(0 72% 58%)"},children:"RELEGATED TO B DIVISION"}),c.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:"Finished last in A Division  relegated to LKL next season."})]})]}),c.jsxs("div",{className:"rounded-xl p-4 flex items-center gap-3",style:{background:"hsl(38 95% 52% / 0.08)",border:"1px solid hsl(38 95% 52% / 0.25)"},children:[c.jsx("div",{className:"text-2xl",children:""}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-bold font-condensed uppercase tracking-wide",style:{color:"hsl(38 95% 55%)"},children:"OFF-SEASON"}),c.jsxs("div",{className:"text-xs text-muted-foreground mt-0.5",children:[i.length," players available  Renew contracts, sign free agents"]})]})]}),c.jsx("div",{className:"rounded-xl px-4 py-3.5",style:{background:"hsl(38 95% 52% / 0.06)",border:"1px solid hsl(38 95% 52% / 0.2)"},children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:18,height:18,color:"hsl(38 95% 55%)",flexShrink:0,marginTop:2},children:c.jsx("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-bold font-condensed uppercase tracking-wide",style:{color:"hsl(38 95% 55%)"},children:"Market Shrinks Next Season"}),c.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Off-season: ",c.jsxs("strong",{style:{color:"hsl(38 95% 60%)"},children:[g?"1012":"1827"," players"]})," available now."," ","Regular season: drops to ",c.jsxs("strong",{style:{color:"hsl(38 95% 60%)"},children:[g?"56":"711"," players"]}),"  sign key players NOW!"]})]})]})})]})})(),f&&c.jsxs("div",{className:"rounded-xl px-4 py-3.5 flex items-center gap-3",style:{background:"hsl(220 22% 8%)",border:"1px solid hsl(220 20% 14%)"},children:[c.jsx("span",{className:"text-2xl",children:f.emoji}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[9px] text-muted-foreground uppercase tracking-wider font-condensed font-bold",children:"Season Modifier"}),c.jsx("div",{className:"text-sm font-semibold text-foreground font-condensed",children:f.name}),c.jsx("div",{className:"text-xs text-muted-foreground",children:f.description})]})]}),d&&c.jsxs("div",{className:"rounded-xl px-4 py-3.5 flex items-center gap-3",style:{background:"hsl(38 95% 52% / 0.06)",border:"1px solid hsl(38 95% 52% / 0.2)"},children:[c.jsx("span",{className:"text-2xl",children:d.emoji}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[9px] text-muted-foreground uppercase tracking-wider font-condensed font-bold",children:"Season Bonus"}),c.jsx("div",{className:"text-sm font-semibold font-condensed",style:{color:"hsl(38 95% 58%)"},children:d.name}),c.jsx("div",{className:"text-xs text-muted-foreground",children:d.description})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[c.jsx(Lu,{label:"Record",value:w?`${w.wins}-${w.losses}`:"0-0"}),c.jsx(Lu,{label:"Rank",value:`#${y}`}),c.jsx(Lu,{label:"Week",value:`${z}/${L}`})]}),c.jsxs("div",{className:"rounded-2xl overflow-hidden",style:{background:"hsl(220 22% 8%)",border:"1px solid hsl(220 20% 12%)"},children:[c.jsx("div",{className:"px-4 py-2.5 flex items-center justify-between",style:{borderBottom:"1px solid hsl(220 20% 12%)"},children:c.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-[0.15em] font-condensed font-bold",children:"Finances This Season"})}),c.jsxs("div",{className:"p-4 space-y-2.5",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-sm text-foreground font-medium",children:"Income"}),c.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"Tickets + Sponsor"})]}),c.jsxs("span",{className:"text-mono text-sm font-bold",style:{color:"hsl(152 60% 48%)"},children:["+$",(N.ticketIncome+N.sponsorIncome).toLocaleString()]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-sm text-foreground font-medium",children:"Expenses"}),c.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"Wages + Transfers"})]}),c.jsxs("span",{className:"text-mono text-sm font-bold",style:{color:"hsl(0 72% 58%)"},children:["-$",(N.totalWages+N.transferSpending).toLocaleString()]})]}),c.jsxs("div",{className:"flex justify-between items-center pt-2",style:{borderTop:"1px solid hsl(220 20% 14%)"},children:[c.jsx("span",{className:"text-sm font-bold text-foreground",children:"Net Result"}),c.jsxs("span",{className:"text-mono text-xl font-black",style:{color:H>=0?"hsl(152 60% 48%)":"hsl(0 72% 58%)"},children:[H>=0?"+":"","$",H.toLocaleString()]})]}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Budget: ",c.jsxs("span",{className:"text-mono font-semibold text-foreground",children:["$",N.balance.toLocaleString()]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[S&&c.jsx(oy,{match:S,teams:t.teams,label:"Last Match",myTeamId:t.selectedTeamId}),k&&x&&c.jsx(oy,{match:k,teams:t.teams,label:"Opponent's Last",myTeamId:x})]}),c.jsxs("div",{className:"rounded-2xl overflow-hidden",style:{background:"hsl(220 22% 8%)",border:"1px solid hsl(220 20% 12%)"},children:[c.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",style:{borderBottom:"1px solid hsl(220 20% 12%)"},children:[c.jsxs("span",{className:"text-xs text-muted-foreground uppercase tracking-wider font-condensed font-bold",children:[p," Standings"]}),c.jsx("span",{className:"text-xs text-muted-foreground font-condensed",children:"Strategy"})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{style:{borderBottom:"1px solid hsl(220 20% 12%)",background:"hsl(220 20% 9%)"},children:[c.jsx("th",{className:"text-left px-3 py-2 text-muted-foreground font-medium text-xs w-6",children:"#"}),c.jsx("th",{className:"text-left px-2 py-2 text-muted-foreground font-medium text-xs",children:"Team"}),c.jsx("th",{className:"px-2 py-2 text-muted-foreground font-medium text-xs text-center w-8",children:"Strat"}),c.jsx("th",{className:"px-2 py-2 text-muted-foreground font-medium text-xs text-center w-8",children:"W"}),c.jsx("th",{className:"px-2 py-2 text-muted-foreground font-medium text-xs text-center w-8",children:"L"}),c.jsx("th",{className:"px-2 py-2 text-muted-foreground font-medium text-xs text-center w-10 hidden sm:table-cell",children:"PF"}),c.jsx("th",{className:"px-2 py-2 text-muted-foreground font-medium text-xs text-center w-10 hidden sm:table-cell",children:"PA"})]})}),c.jsx("tbody",{children:m.map((M,D)=>{const V=t.teams.find(K=>K.id===M.teamId);if(!V)return null;const Y=M.teamId===t.selectedTeamId,le=ry(V),ve=Y?0:rj(le,v);return c.jsxs("tr",{style:{borderBottom:"1px solid hsl(220 20% 11%)",background:Y?"hsl(38 95% 52% / 0.06)":"transparent"},children:[c.jsx("td",{className:"px-3 py-2.5 text-mono text-muted-foreground text-xs",children:D+1}),c.jsx("td",{className:"px-2 py-2",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Rt,{shortName:V.shortName,color:V.color,size:"sm"}),c.jsx("span",{className:"font-semibold text-xs font-condensed uppercase tracking-wide",style:{color:Y?"hsl(38 95% 55%)":"hsl(210 20% 88%)"},children:V.shortName})]})}),c.jsx("td",{className:"px-2 py-2 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-0.5",children:[c.jsx(sj,{strategy:le}),ve>0&&c.jsxs("span",{className:"text-[9px] ml-0.5",style:{color:"hsl(152 60% 48%)"},children:["+",ve,"%"]})]})}),c.jsx("td",{className:"px-2 py-2 text-center text-mono text-foreground font-medium",children:M.wins}),c.jsx("td",{className:"px-2 py-2 text-center text-mono text-muted-foreground",children:M.losses}),c.jsx("td",{className:"px-2 py-2 text-center text-mono text-muted-foreground hidden sm:table-cell text-xs",children:M.pointsFor}),c.jsx("td",{className:"px-2 py-2 text-center text-mono text-muted-foreground hidden sm:table-cell text-xs",children:M.pointsAgainst})]},M.teamId)})})]})})]}),t.gameOver?c.jsxs("div",{className:"rounded-2xl p-8 text-center",style:{background:"hsl(0 72% 55% / 0.08)",border:"2px solid hsl(0 72% 55% / 0.3)"},children:[c.jsx("div",{className:"font-display text-4xl tracking-widest mb-3",style:{color:"hsl(0 72% 58%)"},children:"GAME OVER"}),c.jsx("div",{className:"text-sm text-foreground mb-4",children:t.gameOverReason}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Refresh the page to start a new career."})]}):c.jsxs("div",{className:"pt-1 space-y-2",children:[t.phase==="preseason"&&c.jsx(Ou,{onClick:n,children:"Start Regular Season "}),t.phase==="regular"&&(()=>{if(u){const M=u.myReady,D=u.opponentReady;return c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsx(Du,{ready:D,label:"Opponent"}),c.jsx("button",{onClick:e,className:"w-full py-4 rounded-xl font-bold text-sm tracking-[0.1em] uppercase transition-all active:scale-95 font-condensed cursor-pointer",style:{background:M?"hsl(152 60% 38%)":"hsl(38 95% 52%)",color:"hsl(220 25% 5%)"},children:M?" Ready  tap to cancel":`Ready for Week ${t.week+1} `})]})}return c.jsxs(Ou,{onClick:e,children:[" Play Week ",t.week+1]})})(),t.phase==="playoffs"&&(()=>{const M=(u==null?void 0:u.myReady)??!1,D=(u==null?void 0:u.opponentReady)??!1;return c.jsxs("div",{className:"flex flex-col gap-3",children:[u&&c.jsx(Du,{ready:D,label:"Opponent"}),c.jsx("button",{onClick:s,className:"w-full py-4 rounded-xl font-bold text-sm tracking-[0.1em] uppercase transition-all active:scale-95 font-condensed cursor-pointer",style:{background:u&&M?"hsl(152 60% 38%)":"hsl(38 95% 52%)",color:"hsl(220 25% 5%)"},children:u?M?" Ready  tap to cancel":"Ready for Playoffs ":"Simulate All Playoffs "}),c.jsx("button",{onClick:()=>o("playoffs"),className:"w-full py-3 rounded-xl border text-sm font-medium font-condensed uppercase tracking-wide transition-all hover:border-primary/40 cursor-pointer",style:{borderColor:"hsl(220 20% 16%)",color:"hsl(215 15% 55%)"},children:"View Bracket "})]})})(),t.phase==="offseason"&&c.jsx("div",{className:"flex flex-col gap-3",children:u?c.jsxs(c.Fragment,{children:[c.jsx(Du,{ready:u.opponentReady,label:"Opponent"}),c.jsx("button",{onClick:r,className:"w-full py-4 rounded-xl font-bold text-sm tracking-[0.1em] uppercase transition-all active:scale-95 font-condensed cursor-pointer",style:{background:u.myReady?"hsl(152 60% 38%)":"hsl(38 95% 52%)",color:"hsl(220 25% 5%)"},children:u.myReady?" Ready  tap to cancel":"Ready for Next Season "})]}):c.jsx(Ou,{onClick:r,children:"Start New Season "})})]})]})}function Ou({onClick:t,children:e}){return c.jsx("button",{onClick:t,className:"w-full py-4 rounded-xl font-bold text-sm tracking-[0.12em] uppercase transition-all active:scale-95 font-condensed cursor-pointer",style:{background:"hsl(38 95% 52%)",color:"hsl(220 25% 5%)",boxShadow:"0 0 20px hsl(38 95% 52% / 0.15)"},children:e})}function Du({ready:t,label:e}){return c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx("span",{className:"w-2 h-2 rounded-full",style:{background:t?"hsl(152 60% 48%)":"hsl(215 15% 35%)"}}),e," ",t?"ready ":"not ready"]})}function Lu({label:t,value:e}){return c.jsxs("div",{className:"rounded-xl p-3.5 text-center transition-all card-hover",style:{background:"hsl(220 22% 8%)",border:"1px solid hsl(220 20% 12%)"},children:[c.jsx("div",{className:"text-[9px] uppercase tracking-[0.18em] text-muted-foreground font-bold font-condensed",children:t}),c.jsx("div",{className:"font-display text-2xl text-foreground mt-1",children:e})]})}function oy({match:t,teams:e,label:n,myTeamId:r}){const s=e.find(h=>h.id===t.homeTeamId),o=e.find(h=>h.id===t.awayTeamId);if(!s||!o)return null;const i=t.homeTeamId===r,a=i?t.homeScore:t.awayScore,l=i?t.awayScore:t.homeScore,u=a>l;return c.jsxs("div",{className:"rounded-xl p-4",style:{background:"hsl(220 22% 8%)",border:"1px solid hsl(220 20% 12%)"},children:[c.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-3 font-condensed font-bold",children:n}),c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[c.jsx(Rt,{shortName:s.shortName,color:s.color,size:"sm"}),c.jsx("span",{className:"text-xs font-semibold text-foreground font-condensed uppercase",children:s.shortName})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-black text-mono",style:{color:u?"hsl(152 60% 48%)":"hsl(0 72% 58%)"},children:[t.homeScore,"",t.awayScore]}),c.jsx("div",{className:"text-[10px] font-bold uppercase font-condensed tracking-wider",style:{color:u?"hsl(152 60% 48%)":"hsl(0 72% 58%)"},children:u?"WIN":"LOSS"})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[c.jsx("span",{className:"text-xs font-semibold text-foreground font-condensed uppercase",children:o.shortName}),c.jsx(Rt,{shortName:o.shortName,color:o.color,size:"sm"})]})]})]})}function Zl(t){return t>=80?"hsl(195 85% 50%)":t>=65?"hsl(152 60% 48%)":t>=50?"hsl(38 95% 52%)":"hsl(0 72% 58%)"}function oj({value:t}){return c.jsx("div",{className:"w-full h-1 rounded-full overflow-hidden",style:{background:"hsl(220 20% 16%)"},children:c.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${t}%`,background:Zl(t)}})})}function ij(t){let e=t.filter(i=>i.isStarter);if(e.length<5){const i=[...t.filter(a=>!a.isStarter)].sort((a,l)=>l.overall-a.overall).slice(0,5-e.length);e=[...e,...i]}if(e.length<5)return"balanced";const n=e.filter(i=>i.role==="Defender").length,r=e.filter(i=>i.role==="Sharpshooter").length,s=e.filter(i=>i.role==="Playmaker").length,o=Math.max(n,r,s);if(o>=2){if(n===o)return"defensive";if(r===o)return"offensive";if(s===o)return"playmaking"}return"balanced"}function aj(){const{state:t,intakeYouth:e,toggleStarter:n,releasePlayer:r,renewContract:s,multiplayerLobby:o}=Dr();if(!t)return null;const i=t.teams.find(b=>b.id===t.selectedTeamId),a=i.players,l=a.filter(b=>b.isStarter),u=a.filter(b=>!b.isStarter),h=(()=>{let b=[...l];if(b.length<5){const E=[...u].sort((S,k)=>k.overall-S.overall).slice(0,5-b.length);b=[...b,...E]}return b.slice(0,5)})(),f=h.length>0?Math.round(h.reduce((b,E)=>b+E.overall,0)/h.length):0,d=!o||o.myRole==="host",p=t.phase==="offseason"&&!(d?t.youthIntakeUsed:t.youthIntakeUsedGuest),g=a.length>=12,m=t.coachType,w=t.coachName,y=m?zs.find(b=>b.type===m):null,v=ij(a),x=m&&(m==="attack"&&v==="offensive"||m==="defense"&&v==="defensive"||m==="playmaking"&&v==="playmaking");return c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[y&&c.jsxs("div",{className:"rounded-xl p-3.5 flex items-center gap-3 border",style:{borderColor:x?y.color+"55":"hsl(220 20% 13%)",background:x?y.color+"0E":"hsl(220 22% 8%)"},children:[c.jsx("span",{className:"text-2xl shrink-0",children:y.emoji}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"text-xs font-bold font-condensed uppercase tracking-wide flex items-center gap-2",style:{color:x?y.color:"hsl(210 20% 85%)"},children:[w?`${w}  `:"",y.label,x&&c.jsx("span",{className:"text-[10px] rounded-sm px-1.5 py-0.5 font-black uppercase font-condensed tracking-widest",style:{background:y.color,color:"#000"},children:"SYNERGY ACTIVE"})]}),c.jsx("div",{className:"text-[11px] mt-0.5 text-muted-foreground",children:x?` ${y.bonus}  lineup matches coach style!`:`Needs ${y.synergyRole} dominant lineup for ${y.bonus}`})]})]}),c.jsxs("div",{className:"rounded-xl p-4",style:{background:"hsl(220 22% 8%)",border:"1px solid hsl(220 20% 12%)"},children:[c.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[c.jsx(Rt,{shortName:i.shortName,color:i.color,size:"sm"}),c.jsxs("h2",{className:"text-base font-bold font-condensed uppercase tracking-wider text-foreground",children:[i.shortName," Squad"]}),c.jsxs("div",{className:"ml-auto flex items-baseline gap-1",children:[c.jsx("span",{className:"text-2xl font-black text-mono",style:{color:Zl(f)},children:f}),c.jsx("span",{className:"text-xs text-muted-foreground font-condensed",children:"OVR"})]})]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.length,"/12 players  ",l.length,"/5 starters set"]}),g&&c.jsx("div",{className:"text-xs mt-1 font-condensed",style:{color:"hsl(0 72% 58%)"},children:"Squad at maximum capacity (12)"}),l.length<5&&c.jsxs("div",{className:"text-xs mt-1 font-condensed",style:{color:"hsl(38 95% 55%)"},children:[5-l.length," starter slot",5-l.length>1?"s":""," auto-filled from bench"]})]}),l.length>0&&c.jsx(iy,{title:`Starters (${l.length}/5)`,isStarters:!0,players:l,toggleStarter:n,releasePlayer:r,renewContract:s,teamPrestige:i.prestige,phase:t.phase}),u.length>0&&c.jsx(iy,{title:`Bench (${u.length})`,isStarters:!1,players:u,toggleStarter:n,releasePlayer:r,renewContract:s,teamPrestige:i.prestige,phase:t.phase}),t.phase==="offseason"&&c.jsxs("div",{className:"rounded-xl p-4",style:{background:"hsl(220 22% 8%)",border:"1px solid hsl(220 20% 12%)"},children:[c.jsx("div",{className:"text-sm font-bold font-condensed uppercase tracking-wide text-foreground mb-1",children:"Youth Intake"}),c.jsx("div",{className:"text-xs text-muted-foreground mb-3",children:"Bring in 3 young prospects (free contracts)  once per off-season"}),p?c.jsx("button",{onClick:e,disabled:g,className:"w-full py-3.5 rounded-xl font-bold text-sm tracking-[0.1em] uppercase transition-all active:scale-95 font-condensed cursor-pointer",style:{background:g?"hsl(220 20% 14%)":"hsl(38 95% 52%)",color:g?"hsl(215 15% 40%)":"hsl(220 25% 5%)",cursor:g?"not-allowed":"pointer"},children:"Run Youth Intake (3 Players)"}):c.jsx("div",{className:"text-center py-2",children:c.jsx("span",{className:"text-sm font-medium font-condensed",style:{color:"hsl(152 60% 48%)"},children:" Youth intake done for this off-season"})}),g&&p&&c.jsx("p",{className:"text-xs mt-2 text-center font-condensed",style:{color:"hsl(0 72% 58%)"},children:"Release players first  squad is full."})]})]})}function iy({title:t,isStarters:e,players:n,toggleStarter:r,releasePlayer:s,renewContract:o,teamPrestige:i,phase:a}){return c.jsxs("div",{className:"rounded-xl overflow-hidden",style:{background:"hsl(220 22% 8%)",border:"1px solid hsl(220 20% 12%)"},children:[c.jsx("div",{className:"px-4 py-2.5 flex items-center gap-2",style:{borderBottom:"1px solid hsl(220 20% 12%)",background:e?"hsl(38 95% 52% / 0.08)":"hsl(220 20% 9%)"},children:c.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider font-condensed",style:{color:e?"hsl(38 95% 55%)":"hsl(215 15% 55%)"},children:t})}),c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{style:{borderBottom:"1px solid hsl(220 20% 11%)",background:"hsl(220 20% 9%)"},children:[c.jsx("th",{className:"text-left px-4 py-2 text-muted-foreground font-medium text-xs",children:"Player"}),c.jsx("th",{className:"px-2 py-2 text-muted-foreground font-medium text-xs text-center",children:"OVR"}),c.jsx("th",{className:"px-2 py-2 text-muted-foreground font-medium text-xs text-center",children:"Role"}),c.jsx("th",{className:"px-2 py-2 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"Age"}),c.jsx("th",{className:"px-2 py-2 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"Salary"}),c.jsx("th",{className:"px-2 py-2 text-muted-foreground font-medium text-xs text-center",children:"CTR"})]})}),c.jsx("tbody",{children:[...n].sort((l,u)=>u.overall-l.overall).map(l=>c.jsx(lj,{player:l,toggleStarter:r,releasePlayer:s,renewContract:o,teamPrestige:i,phase:a},l.id))})]})]})}function lj({player:t,toggleStarter:e,releasePlayer:n,renewContract:r,teamPrestige:s,phase:o}){const[i,a]=_.useState(!1),l={Sharpshooter:"hsl(38 95% 55%)",Defender:"hsl(195 85% 50%)",Playmaker:"hsl(152 60% 48%)"},u=d=>{d.stopPropagation(),e(t.id)},h=d=>{d.stopPropagation(),confirm(`Release ${t.name}? This cannot be undone.`)&&n(t.id)},f=d=>{d.stopPropagation();let p,g;if(t.isYouth&&t.salary===0){const m=1+s*.1;p=Math.round(t.overall*100*m),g=`Sign ${t.name} to paid contract?
New salary: $${p.toLocaleString()} (currently FREE)`}else{const m=1+s*.1;p=Math.round(t.salary*1.15*m),g=`Renew ${t.name}'s contract?
New salary: $${p.toLocaleString()}`}if(confirm(g)){const m=r(t.id);m.success||alert(m.reason||"Cannot renew contract")}};return c.jsxs(c.Fragment,{children:[c.jsxs("tr",{onClick:()=>a(!i),className:"cursor-pointer transition-colors",style:{borderBottom:"1px solid hsl(220 20% 11%)"},onMouseEnter:d=>d.currentTarget.style.background="hsl(220 20% 10%)",onMouseLeave:d=>d.currentTarget.style.background="transparent",children:[c.jsx("td",{className:"px-4 py-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:u,className:"text-xs px-2 py-1 rounded-lg font-bold transition-all min-w-[28px] cursor-pointer",style:{background:t.isStarter?"hsl(38 95% 52%)":"hsl(220 20% 14%)",color:t.isStarter?"hsl(220 25% 5%)":"hsl(215 15% 50%)"},children:t.isStarter?"":""}),t.isYouth&&c.jsx("svg",{viewBox:"0 0 24 24",fill:"hsl(152 60% 48%)",style:{width:12,height:12},children:c.jsx("path",{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"})}),c.jsx("span",{className:"font-medium text-foreground text-sm",children:t.name}),(t.seasonsWithoutPlay||0)>0&&c.jsxs("span",{className:"text-xs",style:{color:"hsl(0 72% 58%)"},title:`${t.seasonsWithoutPlay} season(s) without play`,children:["",t.seasonsWithoutPlay]})]})}),c.jsx("td",{className:"px-2 py-3 text-center",children:c.jsx("span",{className:"text-mono font-bold text-sm",style:{color:Zl(t.overall)},children:t.overall})}),c.jsx("td",{className:"px-2 py-3 text-center text-xs font-bold font-condensed uppercase tracking-wide",style:{color:l[t.role]||"hsl(215 15% 55%)"},children:t.role.slice(0,3)}),c.jsxs("td",{className:"px-2 py-3 text-center text-muted-foreground text-xs hidden sm:table-cell text-mono",children:[t.age,t.age>=30&&c.jsx("span",{style:{color:"hsl(0 72% 58%)"},className:"ml-0.5",children:"!"})]}),c.jsx("td",{className:"px-2 py-3 text-center text-xs text-mono hidden sm:table-cell",children:t.salary===0?c.jsx("span",{className:"font-bold",style:{color:"hsl(152 60% 48%)"},children:"FREE"}):c.jsxs("span",{className:"text-muted-foreground",children:["$",t.salary.toLocaleString()]})}),c.jsxs("td",{className:"px-2 py-3 text-center text-muted-foreground text-xs text-mono",children:[t.contractYears,"yr"]})]}),i&&c.jsx("tr",{children:c.jsx("td",{colSpan:6,style:{background:"hsl(220 22% 9%)",borderBottom:"1px solid hsl(220 20% 12%)"},children:c.jsxs("div",{className:"px-4 py-3",children:[c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-3",children:[{label:"SHO",value:t.attributes.shooting},{label:"DEF",value:t.attributes.defending},{label:"DRI",value:t.attributes.dribbling},{label:"PAS",value:t.attributes.passing}].map(d=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between mb-1",children:[c.jsx("span",{className:"text-[10px] text-muted-foreground font-condensed uppercase tracking-wider",children:d.label}),c.jsx("span",{className:"text-[10px] text-mono font-bold",style:{color:Zl(d.value)},children:d.value})]}),c.jsx(oj,{value:d.value})]},d.label))}),c.jsxs("div",{className:"text-xs text-muted-foreground mb-3 flex gap-3",children:[c.jsxs("span",{className:"text-mono",children:[t.attributes.height,"cm"]}),c.jsxs("span",{children:["Age ",t.age]}),c.jsx("span",{className:"sm:hidden",children:t.salary===0?c.jsx("span",{style:{color:"hsl(152 60% 48%)"},children:"FREE"}):`$${t.salary.toLocaleString()}/yr`})]}),t.age<23&&c.jsx("div",{className:"text-xs mb-2 font-condensed",style:{color:"hsl(152 60% 48%)"},children:"Young  develops faster"}),t.age>=30&&c.jsx("div",{className:"text-xs mb-2 font-condensed",style:{color:"hsl(0 72% 58%)"},children:"Veteran  may retire"}),c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsx("button",{onClick:h,className:"px-4 py-2 text-xs rounded-lg font-bold font-condensed uppercase tracking-wide active:scale-95 transition-all cursor-pointer",style:{background:"hsl(0 72% 55% / 0.15)",color:"hsl(0 72% 60%)",border:"1px solid hsl(0 72% 55% / 0.3)"},children:"Release"}),t.contractYears===1&&c.jsx("button",{onClick:f,className:"px-4 py-2 text-xs rounded-lg font-bold font-condensed uppercase tracking-wide active:scale-95 transition-all cursor-pointer",style:{background:"hsl(38 95% 52%)",color:"hsl(220 25% 5%)"},children:t.isYouth&&t.salary===0?"Sign Contract":"Renew +15%"})]})]})})})]})}function Ko(t){return t>=80?"hsl(195 85% 50%)":t>=65?"hsl(152 60% 48%)":t>=50?"hsl(38 95% 52%)":"hsl(0 72% 58%)"}function cj(t){return t==="Sharpshooter"?{color:"hsl(38 95% 55%)",bg:"hsl(38 95% 52% / 0.12)"}:t==="Defender"?{color:"hsl(195 85% 50%)",bg:"hsl(195 85% 45% / 0.12)"}:t==="Playmaker"?{color:"hsl(152 60% 48%)",bg:"hsl(152 60% 40% / 0.12)"}:{color:"hsl(215 15% 55%)",bg:"hsl(220 20% 14%)"}}function uj(){const{freeAgents:t,makeTransferOffer:e,state:n}=Dr(),[r,s]=_.useState(1),[o,i]=_.useState(null);if(!n)return null;const l=n.teams.find(d=>d.id===n.selectedTeamId).division==="lkl",u=n.phase==="offseason",h=t.filter(d=>!n.declinedPlayerIds.includes(d.id)),f=d=>{const{success:p,reason:g}=e(d,r,d.askingSalary);i(p?{msg:`${d.name} signed!`,ok:!0}:{msg:g||`${d.name} declined.`,ok:!1}),setTimeout(()=>i(null),3e3)};return c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsxs("div",{className:"fm-header py-3 rounded-xl",children:[c.jsx("h2",{className:"text-base font-bold text-foreground uppercase tracking-wider font-condensed",children:"Transfer Market"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[h.length," free agents  ",u?"Off-season expanded market":"Regular season"]})]}),c.jsxs("div",{className:"rounded-xl px-4 py-3.5",style:{background:l?"hsl(38 95% 52% / 0.06)":"hsl(195 85% 45% / 0.06)",border:`1px solid ${l?"hsl(38 95% 52% / 0.25)":"hsl(195 85% 45% / 0.25)"}`},children:[c.jsx("p",{className:"text-sm font-bold mb-1 font-condensed uppercase tracking-wide",style:{color:l?"hsl(38 95% 55%)":"hsl(195 85% 52%)"},children:l?"B League  Uncertain Ratings":"A League Market"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:l?"Players are FREE. Ratings shown as RANGES  final value is random within range.":`${u?"1827":"711"} players available. Exact ratings shown. Pay salary.`})]}),u&&c.jsxs("div",{className:"rounded-xl px-4 py-3.5 flex items-start gap-3",style:{background:"hsl(38 95% 52% / 0.06)",border:"1px solid hsl(38 95% 52% / 0.2)"},children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:18,height:18,color:"hsl(38 95% 55%)",flexShrink:0,marginTop:2},children:c.jsx("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-bold font-condensed uppercase tracking-wide",style:{color:"hsl(38 95% 55%)"},children:"Market Shrinks Next Season"}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Sign players NOW  regular season drops to only ",l?"56":"711"," players."]})]})]}),c.jsxs("div",{className:"rounded-xl px-4 py-3 flex gap-3 text-xs text-muted-foreground",style:{background:"hsl(220 22% 8%)",border:"1px solid hsl(220 20% 12%)"},children:[c.jsx("span",{children:" Declined players are permanently removed this season."}),c.jsx("span",{children:" Max squad: 12 players."})]}),o&&c.jsx("div",{className:"rounded-xl px-4 py-3 animate-fade-in",style:{background:o.ok?"hsl(152 60% 40% / 0.1)":"hsl(0 72% 55% / 0.1)",border:`1px solid ${o.ok?"hsl(152 60% 40% / 0.3)":"hsl(0 72% 55% / 0.3)"}`},children:c.jsxs("p",{className:"text-sm font-semibold font-condensed",style:{color:o.ok?"hsl(152 60% 48%)":"hsl(0 72% 58%)"},children:[o.ok?"":""," ",o.msg]})}),!l&&c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm text-muted-foreground font-medium font-condensed uppercase tracking-wide text-xs",children:"Contract:"}),[1,2].map(d=>c.jsxs("button",{onClick:()=>s(d),className:"px-5 py-2 rounded-lg text-xs font-bold font-condensed uppercase tracking-wide transition-all active:scale-95 cursor-pointer",style:{background:r===d?"hsl(38 95% 52%)":"hsl(220 20% 12%)",color:r===d?"hsl(220 25% 5%)":"hsl(215 15% 55%)"},children:[d," Year",d>1?"s":""]},d))]}),c.jsxs("div",{className:"rounded-xl overflow-hidden",style:{background:"hsl(220 22% 8%)",border:"1px solid hsl(220 20% 12%)"},children:[c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{style:{borderBottom:"1px solid hsl(220 20% 12%)",background:"hsl(220 20% 9%)"},children:[c.jsx("th",{className:"text-left px-4 py-2.5 text-muted-foreground font-medium text-xs",children:"Player"}),c.jsx("th",{className:"px-2 py-2.5 text-muted-foreground font-medium text-xs text-center",children:"OVR"}),c.jsx("th",{className:"px-2 py-2.5 text-muted-foreground font-medium text-xs text-center",children:"Role"}),c.jsx("th",{className:"px-2 py-2.5 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"SHO"}),c.jsx("th",{className:"px-2 py-2.5 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"DEF"}),c.jsx("th",{className:"px-2 py-2.5 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"DRI"}),c.jsx("th",{className:"px-2 py-2.5 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"PAS"}),c.jsx("th",{className:"px-2 py-2.5 text-muted-foreground font-medium text-xs text-right",children:l?"Cost":"Salary"}),c.jsx("th",{className:"px-4 py-2.5 text-muted-foreground font-medium text-xs text-center"})]})}),c.jsx("tbody",{children:h.map(d=>{const p=!!d.isTitasSamsonas,g=cj(d.role);return c.jsxs("tr",{style:{borderBottom:"1px solid hsl(220 20% 11%)",background:p?"hsl(45 95% 52% / 0.04)":"transparent"},children:[c.jsx("td",{className:"px-4 py-3",children:c.jsxs("div",{children:[c.jsx("span",{className:"font-semibold",style:{color:p?"hsl(45 95% 55%)":"hsl(210 20% 92%)"},children:d.name}),p&&c.jsx("span",{className:"ml-2 text-[10px] font-bold uppercase tracking-wider font-condensed animate-pulse",style:{color:"hsl(45 95% 55%)"},children:"LEGENDA"}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Age ",d.age,"  ",d.attributes.height,"cm"]})]})}),c.jsx("td",{className:"px-2 py-3 text-center",children:c.jsx("span",{className:"text-mono font-bold",style:{color:Ko(d.overall)},children:d.overall})}),c.jsx("td",{className:"px-2 py-3 text-center",children:c.jsx("span",{className:"text-[10px] font-bold font-condensed uppercase tracking-wide px-1.5 py-0.5 rounded-sm",style:{color:g.color,background:g.bg},children:d.role.slice(0,3)})}),c.jsx("td",{className:"px-2 py-3 text-center text-mono text-xs hidden sm:table-cell",style:{color:Ko(d.attributes.shooting)},children:d.attributes.shooting}),c.jsx("td",{className:"px-2 py-3 text-center text-mono text-xs hidden sm:table-cell",style:{color:Ko(d.attributes.defending)},children:d.attributes.defending}),c.jsx("td",{className:"px-2 py-3 text-center text-mono text-xs hidden sm:table-cell",style:{color:Ko(d.attributes.dribbling)},children:d.attributes.dribbling}),c.jsx("td",{className:"px-2 py-3 text-center text-mono text-xs hidden sm:table-cell",style:{color:Ko(d.attributes.passing)},children:d.attributes.passing}),c.jsx("td",{className:"px-2 py-3 text-right text-mono font-semibold text-sm",children:l?c.jsx("span",{className:"font-bold font-condensed",style:{color:"hsl(152 60% 48%)"},children:"FREE"}):`$${d.askingSalary.toLocaleString()}`}),c.jsx("td",{className:"px-4 py-3 text-center",children:c.jsx("button",{onClick:()=>f(d),className:"px-4 py-2 rounded-lg text-xs font-bold font-condensed uppercase tracking-wide transition-all active:scale-95 cursor-pointer",style:{background:"hsl(38 95% 52%)",color:"hsl(220 25% 5%)"},children:"Sign"})})]},d.id)})})]}),h.length===0&&c.jsx("div",{className:"text-center py-10 text-muted-foreground text-sm font-condensed",children:"No free agents available"})]})]})}function dj(){const{state:t}=Dr();if(!t)return null;const e=t.finances,n=e.ticketIncome+e.sponsorIncome,r=e.prizeIncome,s=e.totalWages+e.transferSpending,o=n+r-s,i=n+r;return c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsxs("div",{className:"fm-header py-3 rounded-xl",children:[c.jsx("h2",{className:"text-base font-bold text-foreground uppercase tracking-wider font-condensed",children:"Finances"}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Season ",t.season," financial summary"]})]}),c.jsxs("div",{className:"rounded-2xl p-5 flex items-center justify-between",style:{background:o>=0?"hsl(152 60% 40% / 0.08)":"hsl(0 72% 55% / 0.08)",border:`2px solid ${o>=0?"hsl(152 60% 40% / 0.3)":"hsl(0 72% 55% / 0.3)"}`},children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] font-bold uppercase tracking-[0.18em] text-muted-foreground font-condensed mb-0.5",children:"Net Result"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total income  expenses"})]}),c.jsxs("span",{className:"font-display text-5xl tracking-widest",style:{color:o>=0?"hsl(152 60% 48%)":"hsl(0 72% 58%)"},children:[o>=0?"+":"","$",o.toLocaleString()]})]}),c.jsxs("div",{className:"rounded-xl overflow-hidden",style:{background:"hsl(220 22% 8%)",border:"1px solid hsl(220 20% 12%)"},children:[c.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",style:{borderBottom:"1px solid hsl(220 20% 12%)",background:"hsl(152 60% 40% / 0.06)"},children:[c.jsx("span",{className:"text-sm font-bold font-condensed uppercase tracking-wide",style:{color:"hsl(152 60% 48%)"},children:"Income"}),c.jsxs("span",{className:"text-mono text-sm font-bold",style:{color:"hsl(152 60% 48%)"},children:["+$",i.toLocaleString()]})]}),c.jsxs("div",{children:[c.jsx(qo,{icon:"",label:"Ticket Sales",amount:e.ticketIncome,positive:!0}),c.jsx(qo,{icon:"",label:"Sponsorship",amount:e.sponsorIncome,positive:!0}),c.jsx(qo,{icon:"",label:"Prize Money",amount:e.prizeIncome,positive:!0})]})]}),c.jsxs("div",{className:"rounded-xl overflow-hidden",style:{background:"hsl(220 22% 8%)",border:"1px solid hsl(220 20% 12%)"},children:[c.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",style:{borderBottom:"1px solid hsl(220 20% 12%)",background:"hsl(0 72% 55% / 0.05)"},children:[c.jsx("span",{className:"text-sm font-bold font-condensed uppercase tracking-wide",style:{color:"hsl(0 72% 58%)"},children:"Expenses"}),c.jsxs("span",{className:"text-mono text-sm font-bold",style:{color:"hsl(0 72% 58%)"},children:["-$",s.toLocaleString()]})]}),c.jsxs("div",{children:[c.jsx(qo,{icon:"",label:"Player Wages",amount:e.totalWages,positive:!1}),c.jsx(qo,{icon:"",label:"Transfer Spending",amount:e.transferSpending,positive:!1})]})]}),c.jsxs("div",{className:"rounded-xl p-4 flex justify-between items-center",style:{background:"hsl(220 22% 8%)",border:"1px solid hsl(220 20% 12%)"},children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] font-bold uppercase tracking-[0.15em] text-muted-foreground font-condensed",children:"Available Budget"}),c.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:"Cash on hand for transfers"})]}),c.jsxs("span",{className:"text-mono text-2xl font-black text-foreground",children:["$",e.balance.toLocaleString()]})]}),i>0&&c.jsxs("div",{className:"rounded-xl p-4",style:{background:"hsl(220 22% 8%)",border:"1px solid hsl(220 20% 12%)"},children:[c.jsx("div",{className:"text-[10px] font-bold uppercase tracking-[0.15em] text-muted-foreground font-condensed mb-3",children:"Income Breakdown"}),c.jsx("div",{className:"space-y-2",children:[{label:"Tickets",value:e.ticketIncome,color:"hsl(38 95% 52%)"},{label:"Sponsor",value:e.sponsorIncome,color:"hsl(195 85% 50%)"},{label:"Prize",value:e.prizeIncome,color:"hsl(152 60% 48%)"}].map(a=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between mb-1",children:[c.jsx("span",{className:"text-xs text-muted-foreground font-condensed uppercase tracking-wide",children:a.label}),c.jsxs("span",{className:"text-xs text-mono font-medium text-foreground",children:["$",a.value.toLocaleString()]})]}),c.jsx("div",{className:"h-1.5 rounded-full overflow-hidden",style:{background:"hsl(220 20% 14%)"},children:c.jsx("div",{className:"h-full rounded-full transition-all duration-700",style:{width:`${a.value/i*100}%`,background:a.color}})})]},a.label))})]})]})}function qo({icon:t,label:e,amount:n,positive:r}){return c.jsxs("div",{className:"flex justify-between items-center px-4 py-3",style:{borderBottom:"1px solid hsl(220 20% 11%)"},children:[c.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[c.jsx("span",{children:t}),e]}),c.jsxs("span",{className:"text-mono text-sm font-semibold",style:{color:r?"hsl(152 60% 48%)":"hsl(0 72% 58%)"},children:[r?"+":"-","$",n.toLocaleString()]})]})}function fj(){var g;const{state:t,simulateAllPlayoffs:e,playPlayoffGame:n,multiplayerLobby:r}=Dr();if(!t)return null;const s=t.teams.find(m=>m.id===t.selectedTeamId),o=(s==null?void 0:s.division)==="lkl",i=t.playoffBracket??[],a=i.filter(m=>m.round===1),l=i.find(m=>m.round===2),u=i.findIndex(m=>m.round===2),h=t.phase==="playoffs"&&i.some(m=>!m.winnerId),f=!!r,d=(r==null?void 0:r.myReady)??!1,p=(r==null?void 0:r.opponentReady)??!1;return o?c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsxs("div",{className:"fm-header py-3 rounded-xl",children:[c.jsx("h2",{className:"text-base font-bold font-condensed uppercase tracking-wider text-foreground",children:"Playoffs"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"B Division (LKL)  No Playoffs"})]}),c.jsxs("div",{className:"rounded-xl p-8 text-center space-y-3",style:{background:"hsl(220 22% 8%)",border:"1px solid hsl(220 20% 12%)"},children:[c.jsx("div",{className:"text-4xl",children:""}),c.jsx("p",{className:"text-sm font-semibold font-condensed text-foreground",children:"B Division teams don't compete in playoffs"}),c.jsxs("p",{className:"text-xs text-muted-foreground leading-relaxed",children:["Only A Division (RKL) top 4 advance to the playoffs.",c.jsx("br",{}),"Win the B Division championship to earn automatic promotion to the A Division!"]})]})]}):c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsxs("div",{className:"fm-header py-3 rounded-xl",children:[c.jsx("h2",{className:"text-base font-bold font-condensed uppercase tracking-wider text-foreground",children:"Playoffs"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Top 4  Best of 3  Semifinals  Finals"})]}),i.length===0&&c.jsx("div",{className:"rounded-xl p-6 text-center",style:{background:"hsl(220 22% 8%)",border:"1px solid hsl(220 20% 12%)"},children:c.jsx("p",{className:"text-muted-foreground text-sm",children:"Playoffs haven't started yet. Complete the regular season first."})}),h&&c.jsx("div",{className:"space-y-2",children:f?c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground self-center",children:[c.jsx("span",{className:"w-2 h-2 rounded-full",style:{background:p?"hsl(152 60% 48%)":"hsl(215 15% 35%)"}}),"Opponent ",p?"ready ":"not ready"]}),c.jsx("button",{onClick:e,className:"flex-1 lg:flex-initial lg:px-8 py-3 rounded-xl font-bold text-sm tracking-[0.1em] uppercase transition-all active:scale-95 font-condensed cursor-pointer",style:{background:d?"hsl(152 60% 38%)":"hsl(38 95% 52%)",color:"hsl(220 25% 5%)"},children:d?" Ready  click to cancel":"Ready for Playoffs "})]}):c.jsx("button",{onClick:e,className:"w-full py-3.5 rounded-xl font-bold text-sm tracking-[0.12em] uppercase transition-all active:scale-95 font-condensed cursor-pointer",style:{background:"hsl(38 95% 52%)",color:"hsl(220 25% 5%)",boxShadow:"0 0 20px hsl(38 95% 52% / 0.15)"},children:"Simulate All Playoffs "})}),a.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-[0.18em] font-bold px-1 font-condensed",children:"Semifinals"}),a.map((m,w)=>c.jsx(ay,{matchup:m,teams:t.teams,playerTeamId:t.selectedTeamId,onSimulateGame:!f&&!m.winnerId?()=>n(w):void 0},w))]}),l&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-[0.18em] font-bold px-1 font-condensed",children:"Championship Final"}),c.jsx(ay,{matchup:l,teams:t.teams,playerTeamId:t.selectedTeamId,onSimulateGame:!f&&!l.winnerId&&u>=0?()=>n(u):void 0}),l.winnerId&&c.jsxs("div",{className:"rounded-xl p-5 text-center",style:{background:"hsl(45 95% 52% / 0.08)",border:"1px solid hsl(45 95% 52% / 0.3)"},children:[c.jsx("div",{className:"text-3xl mb-2",children:""}),c.jsxs("div",{className:"text-lg font-bold font-condensed uppercase tracking-wide",style:{color:"hsl(45 95% 58%)"},children:[(g=t.teams.find(m=>m.id===l.winnerId))==null?void 0:g.shortName,"  RKL Champions!"]})]})]}),t.phase==="offseason"&&i.length>0&&c.jsx("div",{className:"rounded-xl p-3 text-center",style:{background:"hsl(220 22% 8%)",border:"1px solid hsl(220 20% 12%)"},children:c.jsx("p",{className:"text-xs text-muted-foreground font-condensed",children:"Playoffs complete  go to Dashboard to start the next season."})})]})}function ay({matchup:t,teams:e,playerTeamId:n,onSimulateGame:r}){var u;const s=e.find(h=>h.id===t.team1Id),o=e.find(h=>h.id===t.team2Id);if(!s||!o)return null;const i=t.team1Id===n||t.team2Id===n,a=t.winnerId===s.id,l=t.winnerId===o.id;return c.jsxs("div",{className:"rounded-xl p-4",style:{background:i?"hsl(38 95% 52% / 0.06)":"hsl(220 22% 8%)",border:`1px solid ${i?"hsl(38 95% 52% / 0.3)":"hsl(220 20% 12%)"}`},children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2.5 flex-1",children:[c.jsx(Rt,{shortName:s.shortName,color:s.color,size:"sm"}),c.jsx("span",{className:"text-xs font-bold font-condensed uppercase tracking-wide",style:{color:a?"hsl(152 60% 48%)":"hsl(210 20% 85%)"},children:s.shortName}),a&&c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:14,height:14,color:"hsl(152 60% 48%)"},children:c.jsx("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z",clipRule:"evenodd"})})]}),c.jsxs("div",{className:"flex items-center gap-2 px-3",children:[c.jsx("span",{className:"text-mono text-2xl font-black",style:{color:a?"hsl(152 60% 48%)":"hsl(210 20% 75%)"},children:t.team1Wins}),c.jsx("span",{className:"text-muted-foreground text-sm font-condensed",children:""}),c.jsx("span",{className:"text-mono text-2xl font-black",style:{color:l?"hsl(152 60% 48%)":"hsl(210 20% 75%)"},children:t.team2Wins})]}),c.jsxs("div",{className:"flex items-center gap-2.5 flex-1 justify-end",children:[l&&c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:14,height:14,color:"hsl(152 60% 48%)"},children:c.jsx("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z",clipRule:"evenodd"})}),c.jsx("span",{className:"text-xs font-bold font-condensed uppercase tracking-wide",style:{color:l?"hsl(152 60% 48%)":"hsl(210 20% 85%)"},children:o.shortName}),c.jsx(Rt,{shortName:o.shortName,color:o.color,size:"sm"})]})]}),c.jsx("div",{className:"mt-3 flex items-center justify-between",children:t.winnerId?c.jsxs("span",{className:"text-[10px] font-condensed uppercase tracking-wide w-full text-center",style:{color:"hsl(152 60% 48%)"},children:[(u=e.find(h=>h.id===t.winnerId))==null?void 0:u.shortName," advances to next round"]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-[10px] text-muted-foreground font-condensed",children:"Best of 3  first to 2 wins"}),r&&c.jsx("button",{onClick:r,className:"text-[10px] font-bold font-condensed uppercase tracking-wider px-3 py-1 rounded-lg transition-all cursor-pointer",style:{background:"hsl(38 95% 52% / 0.12)",color:"hsl(38 95% 55%)",border:"1px solid hsl(38 95% 52% / 0.25)"},children:"Simulate Game "})]})})]})}function hj(){const{state:t}=Dr();return t?c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsx("div",{className:"fm-header py-3 rounded-xl",children:c.jsx("h2",{className:"text-base font-bold text-foreground uppercase tracking-wider font-condensed",children:"League Tables"})}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:ds.map(e=>{const n=[...t.standings[e.id]||[]].sort((s,o)=>o.wins-s.wins||o.pointsFor-o.pointsAgainst-(s.pointsFor-s.pointsAgainst));if(n.length===0)return null;const r=e.id==="rkl";return c.jsxs("div",{className:"rounded-xl overflow-hidden",style:{background:"hsl(220 22% 8%)",border:"1px solid hsl(220 20% 12%)"},children:[c.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",style:{borderBottom:"1px solid hsl(220 20% 12%)",background:"hsl(220 20% 9%)"},children:[c.jsx("span",{className:"text-sm font-bold font-condensed uppercase tracking-wider text-foreground",children:e.name}),!r&&c.jsx("span",{className:"badge-cyan",children:"1 Promotion Spot"})]}),c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{style:{borderBottom:"1px solid hsl(220 20% 11%)",background:"hsl(220 20% 9%)"},children:[c.jsx("th",{className:"text-left px-3 py-2 text-muted-foreground font-medium text-xs w-6",children:"#"}),c.jsx("th",{className:"text-left px-2 py-2 text-muted-foreground font-medium text-xs",children:"Team"}),c.jsx("th",{className:"px-2 py-2 text-muted-foreground font-medium text-xs text-center",children:"W"}),c.jsx("th",{className:"px-2 py-2 text-muted-foreground font-medium text-xs text-center",children:"L"}),c.jsx("th",{className:"px-2 py-2 text-muted-foreground font-medium text-xs text-center",children:"PF"}),c.jsx("th",{className:"px-2 py-2 text-muted-foreground font-medium text-xs text-center",children:"PA"}),c.jsx("th",{className:"px-2 py-2 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"DIFF"})]})}),c.jsx("tbody",{children:n.map((s,o)=>{const i=t.teams.find(f=>f.id===s.teamId),a=s.teamId===t.selectedTeamId,l=!r&&o===0,u=r&&o===n.length-1,h=s.pointsFor-s.pointsAgainst;return c.jsxs("tr",{style:{borderBottom:"1px solid hsl(220 20% 11%)",background:a?"hsl(38 95% 52% / 0.06)":"transparent",borderLeft:l?"3px solid hsl(152 60% 48%)":u?"3px solid hsl(0 72% 55%)":"3px solid transparent"},children:[c.jsx("td",{className:"px-3 py-2.5 text-mono text-muted-foreground text-xs",children:o+1}),c.jsx("td",{className:"px-2 py-2",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Rt,{shortName:i.shortName,color:i.color,size:"sm"}),c.jsx("span",{className:"font-semibold text-xs font-condensed uppercase tracking-wide",style:{color:a?"hsl(38 95% 55%)":"hsl(210 20% 88%)"},children:i.shortName})]})}),c.jsx("td",{className:"px-2 py-2 text-center text-mono font-medium text-foreground",children:s.wins}),c.jsx("td",{className:"px-2 py-2 text-center text-mono text-muted-foreground",children:s.losses}),c.jsx("td",{className:"px-2 py-2 text-center text-mono text-muted-foreground text-xs",children:s.pointsFor}),c.jsx("td",{className:"px-2 py-2 text-center text-mono text-muted-foreground text-xs",children:s.pointsAgainst}),c.jsxs("td",{className:"px-2 py-2 text-center text-mono text-xs hidden sm:table-cell",style:{color:h>=0?"hsl(152 60% 48%)":"hsl(0 72% 58%)"},children:[h>=0?"+":"",h]})]},s.teamId)})})]}),c.jsxs("div",{className:"px-4 py-2 flex items-center gap-4 text-[10px] text-muted-foreground font-condensed",style:{borderTop:"1px solid hsl(220 20% 11%)"},children:[!r&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"inline-block w-2 h-2 rounded-sm",style:{background:"hsl(152 60% 48%)"}}),"Promotion"]}),r&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"inline-block w-2 h-2 rounded-sm",style:{background:"hsl(0 72% 55%)"}}),"Relegation"]})]})]},e.id)})})]}):null}const pj=()=>c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.8,style:{width:18,height:18},children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955a1.126 1.126 0 011.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75"})}),mj=()=>c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.8,style:{width:18,height:18},children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"})}),gj=()=>c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.8,style:{width:18,height:18},children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})}),yj=()=>c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.8,style:{width:18,height:18},children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21L3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"})}),vj=()=>c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.8,style:{width:18,height:18},children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33"})}),xj=()=>c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.8,style:{width:18,height:18},children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 013 3h-15a3 3 0 013-3m9 0v-3.375c0-.621-.503-1.175-1.125-1.175h-.375m-9 3.375v-3.375c0-.621.504-1.175 1.125-1.175h.375M12 3.75a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z"})}),ly=[{id:"dashboard",label:"Home",Icon:pj},{id:"squad",label:"Squad",Icon:mj},{id:"league",label:"League",Icon:gj},{id:"transfers",label:"Market",Icon:yj},{id:"finance",label:"Finance",Icon:vj},{id:"playoffs",label:"Playoffs",Icon:xj}];function Zw(){const{view:t,setView:e,state:n}=Dr();if(!n||!n.teams||!n.selectedTeamId)return c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("div",{className:"w-10 h-10 border-2 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),c.jsx("p",{className:"text-muted-foreground text-sm tracking-widest font-condensed uppercase",children:"Loading"})]})});const r=n.teams.find(a=>a.id===n.selectedTeamId),s=n.finances,o=s.ticketIncome+s.sponsorIncome+s.prizeIncome-s.totalWages-s.transferSpending,i=()=>{switch(t){case"dashboard":return c.jsx(sy,{});case"squad":return c.jsx(aj,{});case"transfers":return c.jsx(uj,{});case"finance":return c.jsx(dj,{});case"league":return c.jsx(hj,{});case"playoffs":return c.jsx(fj,{});default:return c.jsx(sy,{})}};return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col lg:flex-row",children:[c.jsxs("aside",{className:"hidden lg:flex flex-col w-56 shrink-0 h-screen sticky top-0",style:{background:"hsl(220 28% 4%)",borderRight:"1px solid hsl(220 20% 10%)"},children:[c.jsx("div",{className:"h-0.5 w-full",style:{background:"linear-gradient(90deg, transparent, hsl(38 95% 52%), transparent)"}}),c.jsx("div",{className:"px-4 py-5 border-b",style:{borderColor:"hsl(220 20% 10%)"},children:c.jsxs("div",{className:"flex items-center gap-3",children:[r&&c.jsx(Rt,{shortName:r.shortName,color:r.color,size:"md"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-sm font-bold text-foreground truncate font-condensed tracking-wider uppercase",children:r==null?void 0:r.shortName}),c.jsx("div",{className:"text-[10px] text-muted-foreground truncate",children:r==null?void 0:r.name}),c.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[c.jsxs("span",{className:"text-[9px] text-muted-foreground/70 text-mono",children:["S",n.season]}),c.jsx("span",{className:"text-[9px] text-muted-foreground/40",children:""}),c.jsxs("span",{className:"text-[9px] text-muted-foreground/70 text-mono",children:["W",n.week]})]}),n.coachName&&c.jsx("div",{className:"text-[9px] mt-0.5 font-condensed tracking-wide",style:{color:"hsl(38 95% 55%)"},children:n.coachName})]})]})}),c.jsxs("nav",{className:"flex-1 py-4 px-3 space-y-0.5",children:[c.jsx("div",{className:"text-[9px] font-bold text-muted-foreground/35 uppercase tracking-[0.15em] px-2 pb-2 font-condensed",children:"Navigation"}),ly.map((a,l)=>{const u=t===a.id;return c.jsxs("button",{onClick:()=>e(a.id),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-150 relative cursor-pointer",style:{background:u?"hsl(38 95% 52% / 0.1)":"transparent",color:u?"hsl(38 95% 55%)":"hsl(215 15% 50%)",animationDelay:`${l*30}ms`},onMouseEnter:h=>{u||(h.currentTarget.style.background="hsl(38 95% 52% / 0.05)",h.currentTarget.style.color="hsl(210 20% 80%)")},onMouseLeave:h=>{u||(h.currentTarget.style.background="transparent",h.currentTarget.style.color="hsl(215 15% 50%)")},children:[u&&c.jsx("span",{className:"absolute left-0 top-2 bottom-2 w-0.5 rounded-r",style:{background:"hsl(38 95% 52%)"}}),c.jsx(a.Icon,{}),c.jsx("span",{className:"text-[13px] font-condensed tracking-wide font-semibold uppercase",children:a.label})]},a.id)})]}),c.jsxs("div",{className:"px-4 py-4",style:{borderTop:"1px solid hsl(220 20% 10%)"},children:[c.jsx("div",{className:"text-[9px] uppercase tracking-[0.15em] text-muted-foreground/40 font-bold mb-1.5 font-condensed",children:"Season Net"}),c.jsxs("div",{className:"text-lg font-display tracking-widest",style:{color:o>=0?"hsl(152 60% 48%)":"hsl(0 72% 58%)"},children:[o>=0?"+":"","$",o.toLocaleString()]}),c.jsxs("div",{className:"text-[10px] text-muted-foreground/50 mt-0.5 text-mono",children:["Budget: $",n.finances.balance.toLocaleString()]})]})]}),c.jsxs("div",{className:"lg:hidden border-b px-3 py-2.5 flex items-center justify-between shrink-0",style:{background:"hsl(220 28% 4%)",borderColor:"hsl(220 20% 10%)"},children:[c.jsxs("div",{className:"flex items-center gap-2.5",children:[r&&c.jsx(Rt,{shortName:r.shortName,color:r.color,size:"sm"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-xs font-bold text-foreground font-condensed tracking-wider uppercase",children:r==null?void 0:r.shortName}),n.coachName&&c.jsx("div",{className:"text-[9px] font-condensed",style:{color:"hsl(38 95% 55%)"},children:n.coachName})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"text-[10px] text-muted-foreground text-mono",children:["S",n.season," W",n.week]}),c.jsxs("span",{className:"text-xs text-mono font-bold",style:{color:o>=0?"hsl(152 60% 48%)":"hsl(0 72% 58%)"},children:[o>=0?"+":"","$",(Math.abs(o)/1e3).toFixed(0),"K"]})]})]}),c.jsx("main",{className:"flex-1 overflow-y-auto",children:c.jsx("div",{className:"max-w-5xl mx-auto px-4 lg:px-6 py-5 lg:py-6 pb-24 lg:pb-6",children:i()})}),c.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-50 safe-area-inset-bottom",style:{background:"hsl(220 28% 4% / 0.97)",backdropFilter:"blur(16px)",borderTop:"1px solid hsl(220 20% 10%)"},children:c.jsx("div",{className:"flex justify-around items-center py-1",children:ly.map(a=>{const l=t===a.id;return c.jsxs("button",{onClick:()=>e(a.id),className:"flex flex-col items-center gap-0.5 px-2 py-2 rounded-lg transition-all min-w-[46px] cursor-pointer",style:{color:l?"hsl(38 95% 55%)":"hsl(215 15% 46%)",background:l?"hsl(38 95% 52% / 0.1)":"transparent"},children:[c.jsx(a.Icon,{}),c.jsx("span",{className:"text-[9px] font-bold tracking-wider font-condensed uppercase",children:a.label})]},a.id)})})})]})}const zs=[{type:"attack",emoji:"",label:"Attack Coach",synergyRole:"Sharpshooters",bonus:"+5% Shooting Power",color:"#f59e0b"},{type:"defense",emoji:"",label:"Defense Coach",synergyRole:"Defenders",bonus:"+5% Defensive Strength",color:"#3b82f6"},{type:"playmaking",emoji:"",label:"Playmaking Coach",synergyRole:"Playmakers",bonus:"+5% Playmaking Edge",color:"#22c55e"}];function wj({onBack:t}){const{lobbyState:e,gameState:n,myFinances:r,isCreatingOrJoining:s,error:o,createLobby:i,joinLobby:a,startGame:l,setReady:u,cancelReady:h,updateMyTeam:f,leaveLobby:d}=nj(),[p,g]=_.useState("menu"),[m,w]=_.useState(""),[y,v]=_.useState(null),[x,b]=_.useState(null),[E,S]=_.useState(null),[k,N]=_.useState("rkl"),[O,j]=_.useState(!1),[H,P]=_.useState(null),[T,I]=_.useState(null),[$,L]=_.useState(!1),[z,C]=_.useState(!1),R=W.useRef(null),F=W.useRef("Coach"),M=W.useRef("attack"),D=o||H;if((e==null?void 0:e.status)==="in_game"&&n&&r){const se=e.myRole==="host",ce={...n,coachName:F.current,coachType:M.current,...se?{}:{guestCoachName:F.current,guestCoachType:M.current}};return c.jsx(nN,{initialGameState:ce,initialFinances:r,lobbyState:e,onReady:u,onCancelReady:h,onUpdateTeam:f,onLeave:()=>{d(),t()},children:c.jsx(Zw,{})})}async function V(){var se,ce;if(!(!y||!x)){F.current=((ce=(se=R.current)==null?void 0:se.value)==null?void 0:ce.trim())||"Coach",M.current=x,P(null);try{const Z=await i(y,x,F.current);S(Z),g("waiting")}catch{P("Failed to create lobby. Check your internet connection.")}}}async function Y(){C(!0),P(null);try{await l()}catch(se){P("Failed to start game. Please try again."),console.error("startGame error:",se)}finally{C(!1)}}async function le(){var ce,Z;if(!y||!m.trim()||!x)return;F.current=((Z=(ce=R.current)==null?void 0:ce.value)==null?void 0:Z.trim())||"Coach",M.current=x,P(null),await a(m.trim().toUpperCase(),y,x,F.current)?g("waiting"):P("Failed to join lobby. The code may be invalid or the lobby is full.")}async function ve(){if(m.length===6){L(!0),P(null);try{const se=await ti(st(ot,`lobbies/${m.trim().toUpperCase()}`));if(!se.exists()){P("Lobby not found. Check the code and try again.");return}const ce=se.val();if(ce.status!=="waiting"){P("This lobby has already started.");return}if(ce.guestTeamId){P("This lobby is full.");return}I(ce.hostCoachType&&ce.hostCoachName?{name:ce.hostCoachName,type:ce.hostCoachType}:null),g("join_pick_coach")}catch{P("Failed to connect. Check your internet connection.")}finally{L(!1)}}}function K(){E&&(navigator.clipboard.writeText(E),j(!0),setTimeout(()=>j(!1),2e3))}function be(){d(),g("menu"),S(null),v(null),b(null),P(null),I(null)}const Mt=(e==null?void 0:e.myRole)==="guest"?e.opponentTeamId:null;function At({hostCoach:se,onNext:ce}){return c.jsxs("div",{className:"space-y-4",children:[se&&(()=>{const Z=zs.find(Ie=>Ie.type===se.type);return c.jsxs("div",{className:"bg-card border border-border rounded-xl p-4",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground mb-2",children:" Opponent's Coach"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-2xl",children:Z.emoji}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-sm font-bold text-foreground",children:[se.name,"  ",Z.label]}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:[Z.bonus," when ",Z.synergyRole," dominate lineup"]})]})]})]})})(),c.jsx("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:"Choose Your Coach Style"}),zs.map(Z=>{const Ie=x===Z.type;return c.jsx("button",{onClick:()=>b(Z.type),className:`w-full text-left rounded-xl border-2 p-4 transition-all active:scale-[0.98] ${Ie?"border-primary bg-primary/10":"border-border bg-card hover:border-primary/40"}`,children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-3xl mt-0.5",children:Z.emoji}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"font-bold text-sm text-foreground flex items-center gap-2",children:[Z.label,Ie&&c.jsx("span",{className:"text-[10px] bg-primary text-primary-foreground rounded px-1.5 py-0.5 font-bold",children:"SELECTED"})]}),c.jsxs("div",{className:"text-xs text-muted-foreground mt-0.5",children:["Synergy: lineup dominated by"," ",c.jsx("span",{className:"font-semibold text-foreground",children:Z.synergyRole})]}),c.jsxs("div",{className:"text-xs font-semibold mt-1",style:{color:Z.color},children:[" ",Z.bonus]})]})]})},Z.type)}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:" Your Coach Name"}),c.jsx("input",{ref:R,type:"text",defaultValue:"",placeholder:"Enter your coach name...",maxLength:24,className:"w-full bg-background border border-border rounded-lg px-4 py-3 text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:border-primary transition-colors"})]}),D&&c.jsx("div",{className:"p-3 rounded-lg bg-destructive/10 border border-destructive/20 text-destructive text-sm",children:D}),c.jsx("button",{onClick:ce,disabled:!x,className:"w-full py-4 rounded-xl bg-primary text-primary-foreground font-bold text-base tracking-wide hover:opacity-90 active:scale-95 transition-all disabled:opacity-40 shadow-md",children:x?"Pick Your Team ":"Select a Coach Style"})]})}function Ge({onConfirm:se,confirmLabel:ce,disabledTeamId:Z}){const Ie=x?zs.find(ue=>ue.type===x):null;return c.jsxs("div",{children:[Ie&&c.jsxs("div",{className:"flex items-center gap-3 rounded-xl p-3 mb-4 border",style:{borderColor:Ie.color+"55",background:Ie.color+"11"},children:[c.jsx("span",{className:"text-2xl",children:Ie.emoji}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-bold text-foreground",children:Ie.label}),c.jsxs("div",{className:"text-[10px] text-muted-foreground",children:[Ie.bonus,"  synergy with ",Ie.synergyRole]})]})]}),c.jsx("div",{className:"flex gap-2 mb-4",children:ds.map(ue=>c.jsx("button",{onClick:()=>N(ue.id),className:`flex-1 py-2 rounded-lg text-sm font-semibold transition-all ${k===ue.id?"bg-primary text-primary-foreground":"bg-card border border-border text-muted-foreground hover:text-foreground"}`,children:ue.name},ue.id))}),c.jsx("div",{className:"grid grid-cols-2 gap-2 mb-6",children:ss.filter(ue=>ue.division===k).map(ue=>{const pt=ue.id===Z,Lr=ue.id===y;return c.jsxs("button",{onClick:()=>!pt&&v(ue.id),disabled:pt,className:`relative p-3 rounded-xl border text-left transition-all ${Lr?"border-primary bg-primary/10":pt?"opacity-40 cursor-not-allowed border-border bg-card":"border-border bg-card hover:border-primary/40"}`,children:[pt&&c.jsx("div",{className:"absolute top-1.5 right-1.5 text-[9px] bg-destructive/20 text-destructive px-1.5 py-0.5 rounded font-bold",children:"TAKEN"}),c.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5",children:[c.jsx(Rt,{shortName:ue.shortName,color:ue.color,size:"sm"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-bold text-foreground leading-tight",children:ue.name}),c.jsxs("div",{className:"text-[10px] text-muted-foreground",children:["".repeat(ue.prestige),"".repeat(5-ue.prestige)]})]})]})]},ue.id)})}),D&&c.jsx("div",{className:"mb-4 p-3 rounded-lg bg-destructive/10 border border-destructive/20 text-destructive text-sm",children:D}),c.jsx("button",{onClick:se,disabled:!y||s,className:"w-full py-4 rounded-xl bg-primary text-primary-foreground font-bold text-base tracking-wide hover:opacity-90 active:scale-95 transition-all disabled:opacity-40 shadow-md",children:s?"Please wait...":ce})]})}if(p==="menu")return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center px-4",children:[c.jsxs("div",{className:"text-center mb-10",children:[c.jsx("div",{className:"text-5xl mb-3",children:""}),c.jsx("h1",{className:"text-3xl font-black text-foreground",children:"Multiplayer"}),c.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Play against a friend in real time"})]}),c.jsxs("div",{className:"w-full max-w-sm space-y-3",children:[c.jsxs("button",{onClick:()=>g("create_pick_coach"),className:"w-full rounded-xl bg-primary text-primary-foreground px-6 py-4 text-left hover:opacity-90 active:scale-[0.98] transition-all",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-widest opacity-70 mb-0.5",children:"Host"}),c.jsx("div",{className:"text-lg font-black",children:"Create Lobby"}),c.jsx("div",{className:"text-sm opacity-70",children:"Pick coach  pick team  share code"})]}),c.jsxs("button",{onClick:()=>g("join_enter_code"),className:"w-full rounded-xl bg-card border border-border px-6 py-4 text-left hover:border-primary/50 active:scale-[0.98] transition-all",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-widest text-primary opacity-80 mb-0.5",children:"Join"}),c.jsx("div",{className:"text-lg font-black text-foreground",children:"Join Lobby"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Enter your friend's code"})]})]}),c.jsx("button",{onClick:t,className:"mt-8 text-sm text-muted-foreground hover:text-foreground transition-colors",children:" Back to menu"})]});if(p==="create_pick_coach")return c.jsxs("div",{className:"min-h-screen bg-background px-4 py-8 max-w-lg mx-auto",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("button",{onClick:()=>g("menu"),className:"text-sm text-muted-foreground hover:text-foreground mb-4 block",children:" Back"}),c.jsx("h2",{className:"text-2xl font-black text-foreground",children:"Choose Your Coach"}),c.jsx("p",{className:"text-muted-foreground text-sm",children:"Step 1 of 2  Pick your coaching style"})]}),c.jsx(At,{onNext:()=>x&&g("create_pick_team")})]});if(p==="create_pick_team")return c.jsxs("div",{className:"min-h-screen bg-background px-4 py-8 max-w-lg mx-auto",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("button",{onClick:()=>g("create_pick_coach"),className:"text-sm text-muted-foreground hover:text-foreground mb-4 block",children:" Back"}),c.jsx("h2",{className:"text-2xl font-black text-foreground",children:"Pick Your Team"}),c.jsx("p",{className:"text-muted-foreground text-sm",children:"Step 2 of 2  You'll manage this team as the host"})]}),c.jsx(Ge,{onConfirm:V,confirmLabel:"Create Lobby "})]});if(p==="join_enter_code")return c.jsxs("div",{className:"min-h-screen bg-background px-4 py-8 max-w-lg mx-auto",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("button",{onClick:()=>g("menu"),className:"text-sm text-muted-foreground hover:text-foreground mb-4 block",children:" Back"}),c.jsx("h2",{className:"text-2xl font-black text-foreground",children:"Enter Lobby Code"}),c.jsx("p",{className:"text-muted-foreground text-sm",children:"Ask your friend for their 6-letter code"})]}),c.jsx("input",{type:"text",value:m,onChange:se=>w(se.target.value.toUpperCase().slice(0,6)),placeholder:"ABC123",maxLength:6,className:"w-full text-center text-3xl font-black tracking-[0.5em] bg-card border border-border rounded-xl py-4 px-6 text-foreground placeholder:text-muted-foreground/40 focus:outline-none focus:border-primary mb-4"}),D&&c.jsx("div",{className:"mb-4 p-3 rounded-lg bg-destructive/10 border border-destructive/20 text-destructive text-sm",children:D}),c.jsx("button",{onClick:ve,disabled:m.length!==6||$,className:"w-full py-3 rounded-lg bg-primary text-primary-foreground font-bold text-sm tracking-wide hover:opacity-90 disabled:opacity-40 transition-opacity",children:$?"Looking up lobby...":"Find Lobby "})]});if(p==="join_pick_coach")return c.jsxs("div",{className:"min-h-screen bg-background px-4 py-8 max-w-lg mx-auto",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("button",{onClick:()=>{g("join_enter_code"),P(null)},className:"text-sm text-muted-foreground hover:text-foreground mb-4 block",children:" Back"}),c.jsx("h2",{className:"text-2xl font-black text-foreground",children:"Choose Your Coach"}),c.jsxs("p",{className:"text-muted-foreground text-sm",children:["Joining ",c.jsx("span",{className:"font-mono text-primary",children:m}),"  Step 1 of 2"]})]}),c.jsx(At,{hostCoach:T,onNext:()=>x&&g("join_pick_team")})]});if(p==="join_pick_team")return c.jsxs("div",{className:"min-h-screen bg-background px-4 py-8 max-w-lg mx-auto",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("button",{onClick:()=>g("join_pick_coach"),className:"text-sm text-muted-foreground hover:text-foreground mb-4 block",children:" Back"}),c.jsx("h2",{className:"text-2xl font-black text-foreground",children:"Pick Your Team"}),c.jsxs("p",{className:"text-muted-foreground text-sm",children:["Step 2 of 2  Joining ",c.jsx("span",{className:"font-mono text-primary",children:m})]})]}),c.jsx(Ge,{onConfirm:le,confirmLabel:"Join Lobby ",disabledTeamId:Mt})]});if(p==="waiting"){const se=(e==null?void 0:e.myRole)==="host",ce=!!(e!=null&&e.opponentTeamId),Z=ss.find(pt=>pt.id===(e==null?void 0:e.myTeamId)),Ie=ss.find(pt=>pt.id===(e==null?void 0:e.opponentTeamId)),ue=x?zs.find(pt=>pt.type===x):null;return c.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center px-4",children:c.jsxs("div",{className:"w-full max-w-sm",children:[se&&E&&c.jsxs("div",{className:"bg-card border border-border rounded-2xl p-6 mb-6 text-center",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground mb-2",children:"Share this code"}),c.jsx("div",{className:"text-4xl font-black tracking-[0.3em] text-foreground font-mono mb-4",children:E}),c.jsx("button",{onClick:K,className:"text-sm text-primary hover:opacity-80 transition-opacity font-medium",children:O?" Copied!":"Copy to clipboard"})]}),ue&&c.jsxs("div",{className:"rounded-xl p-3 mb-4 border flex items-center gap-3",style:{borderColor:ue.color+"44",background:ue.color+"0f"},children:[c.jsx("span",{className:"text-xl",children:ue.emoji}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-xs font-bold text-foreground",children:["Your Coach: ",ue.label]}),c.jsxs("div",{className:"text-[10px] text-muted-foreground",children:[F.current,"  ",ue.bonus]})]})]}),c.jsxs("div",{className:"bg-card border border-border rounded-2xl p-4 mb-4 space-y-3",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground mb-3",children:"Players"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-[10px] font-black",style:{backgroundColor:((Z==null?void 0:Z.color)??"#666")+"33",color:(Z==null?void 0:Z.color)??"#666"},children:(Z==null?void 0:Z.shortName)??"?"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-sm font-bold text-foreground",children:(Z==null?void 0:Z.name)??"You"}),c.jsx("div",{className:"text-xs text-muted-foreground",children:se?"Host (you)":"Guest (you)"})]}),c.jsx("span",{className:"text-green-500 text-xs font-semibold",children:" Ready"})]}),c.jsx("div",{className:"flex items-center gap-3",children:Ie?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-[10px] font-black",style:{backgroundColor:Ie.color+"33",color:Ie.color},children:Ie.shortName}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-sm font-bold text-foreground",children:Ie.name}),c.jsx("div",{className:"text-xs text-muted-foreground",children:se?"Guest":"Host"})]}),c.jsx("span",{className:"text-green-500 text-xs font-semibold",children:" Joined"})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-10 h-10 rounded-lg border-2 border-dashed border-border flex items-center justify-center text-muted-foreground",children:"?"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-sm font-bold text-muted-foreground",children:"Waiting for player..."}),c.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1.5",children:[c.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-amber-500 animate-pulse"}),"Not connected"]})]})]})})]}),se&&ce&&c.jsx("button",{onClick:Y,disabled:z,className:"w-full py-3 rounded-lg bg-primary text-primary-foreground font-bold text-sm tracking-wide hover:opacity-90 transition-opacity disabled:opacity-60 mb-3",children:z?"Starting...":" Start Game "}),se&&!ce&&c.jsxs("div",{className:"text-center text-sm text-muted-foreground animate-pulse mb-3 bg-secondary/50 rounded-lg py-3",children:[c.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-amber-500 animate-ping mr-2"}),"Waiting for player to join..."]}),!se&&c.jsxs("div",{className:"text-center text-sm text-muted-foreground animate-pulse mb-3 bg-secondary/50 rounded-lg py-3",children:[c.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-blue-500 animate-ping mr-2"}),"Waiting for host to start the game..."]}),c.jsx("button",{onClick:be,className:"w-full py-2 rounded-lg border border-border text-muted-foreground text-sm hover:text-foreground transition-colors",children:"Leave Lobby"})]})})}return null}function Rt({shortName:t,color:e,size:n="md"}){const r={sm:"w-8 h-8 text-[9px]",md:"w-11 h-11 text-xs",lg:"w-16 h-16 text-sm"};return c.jsx("div",{className:`${r[n]} rounded-xl flex items-center justify-center font-black shrink-0 border font-condensed tracking-wider`,style:{backgroundColor:e+"18",color:e,borderColor:e+"35"},children:t})}function _j({onSelectTeam:t}){var f;const[e,n]=W.useState("rkl"),[r,s]=W.useState(null),[o,i]=W.useState(null),a=W.useRef(null),l=ss.filter(d=>d.division===e),u=r?ss.find(d=>d.id===r):null;function h(){var p,g;if(!r||!o)return;const d=((g=(p=a.current)==null?void 0:p.value)==null?void 0:g.trim())||"Coach";t(r,d,o)}return c.jsxs("div",{className:"min-h-screen bg-background relative overflow-hidden",children:[c.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[600px] h-[600px] rounded-full",style:{border:"1px solid hsl(38 95% 52% / 0.04)",top:"-300px"}}),c.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[900px] h-[900px] rounded-full",style:{border:"1px solid hsl(38 95% 52% / 0.025)",top:"-450px"}}),c.jsx("div",{className:"absolute inset-0",style:{background:"radial-gradient(ellipse 50% 30% at 50% 0%, hsl(38 95% 52% / 0.06) 0%, transparent 60%)"}})]}),c.jsxs("div",{className:"relative w-full max-w-3xl mx-auto px-4 py-10 animate-fade-in",children:[c.jsxs("div",{className:"text-center mb-10",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-sm mb-6 text-[11px] font-bold tracking-[0.2em] uppercase font-condensed",style:{background:"hsl(38 95% 52% / 0.1)",color:"hsl(38 95% 58%)",border:"1px solid hsl(38 95% 52% / 0.2)"},children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:12,height:12},children:c.jsx("path",{d:"M11.645 20.91l-.007-.003-.022-.012a15.247 15.247 0 01-.383-.218 25.18 25.18 0 01-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0112 5.052 5.5 5.5 0 0116.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 01-4.244 3.17 15.247 15.247 0 01-.383.219l-.022.012-.007.004-.003.001a.752.752 0 01-.704 0l-.003-.001z"})}),"Basketball Manager"]}),c.jsx("h1",{className:"font-display text-6xl sm:text-7xl text-foreground mb-3 tracking-wider",children:"PICK YOUR CLUB"}),c.jsx("p",{className:"text-muted-foreground text-sm font-condensed tracking-wide",children:"Select division  Choose team  Define coaching identity"})]}),c.jsx("div",{className:"flex gap-1.5 mb-6 p-1.5 rounded-xl",style:{background:"hsl(220 22% 8%)"},children:ds.map(d=>c.jsx("button",{onClick:()=>{n(d.id),s(null)},className:"flex-1 px-4 py-2.5 text-xs font-bold rounded-lg whitespace-nowrap transition-all duration-200 tracking-[0.1em] font-condensed uppercase cursor-pointer",style:{background:e===d.id?"hsl(38 95% 52%)":"transparent",color:e===d.id?"hsl(220 25% 5%)":"hsl(215 15% 50%)",boxShadow:e===d.id?"0 0 16px hsl(38 95% 52% / 0.25)":"none"},children:d.name},d.id))}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mb-6",children:l.map(d=>{const p=r===d.id;return c.jsxs("button",{onClick:()=>s(d.id),className:"flex items-center gap-3.5 p-4 rounded-xl border text-left transition-all duration-200 card-hover cursor-pointer",style:{background:p?`${d.color}10`:"hsl(220 22% 8%)",borderColor:p?d.color+"60":"hsl(220 20% 12%)",boxShadow:p?`0 0 18px ${d.color}18`:"none"},children:[c.jsx(Rt,{shortName:d.shortName,color:d.color,size:"md"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-sm font-bold tracking-tight font-condensed uppercase",style:{color:p?d.color:"hsl(210 20% 92%)"},children:d.name}),c.jsx("div",{className:"text-[10px] text-muted-foreground text-mono mt-0.5",children:d.shortName}),c.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[c.jsx("div",{className:"flex gap-0.5",children:Array.from({length:5}).map((g,m)=>c.jsx("div",{className:"w-2 h-2 rounded-sm",style:{background:m<d.prestige?d.color:"hsl(220 20% 18%)"}},m))}),c.jsxs("span",{className:"text-[10px] text-mono text-muted-foreground",children:["$",(d.budget/2).toLocaleString()]})]})]}),p&&c.jsx("div",{className:"w-5 h-5 rounded-full flex items-center justify-center shrink-0",style:{background:d.color},children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"hsl(220 25% 5%)",strokeWidth:3,style:{width:12,height:12},children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})]},d.id)})}),u&&c.jsxs("div",{className:"rounded-2xl border p-6 space-y-6 animate-pop-in",style:{background:"hsl(220 22% 7%)",borderColor:"hsl(38 95% 52% / 0.25)",boxShadow:"0 0 40px hsl(38 95% 52% / 0.06)"},children:[c.jsxs("div",{className:"flex items-center gap-4 pb-5",style:{borderBottom:"1px solid hsl(220 20% 12%)"},children:[c.jsx(Rt,{shortName:u.shortName,color:u.color,size:"lg"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold font-condensed uppercase tracking-wide text-foreground",children:u.name}),c.jsx("div",{className:"text-sm text-muted-foreground",children:(f=ds.find(d=>d.id===u.division))==null?void 0:f.name}),c.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[c.jsx("div",{className:"flex gap-0.5",children:Array.from({length:5}).map((d,p)=>c.jsx("div",{className:"w-2.5 h-2.5 rounded-sm",style:{background:p<u.prestige?u.color:"hsl(220 20% 16%)"}},p))}),c.jsxs("span",{className:"badge-amber",children:["Prestige ",u.prestige,"/5"]})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[10px] font-bold uppercase tracking-[0.15em] text-muted-foreground mb-2 font-condensed",children:"Your Name"}),c.jsx("input",{ref:a,type:"text",placeholder:"Enter coach name...",maxLength:24,defaultValue:"",className:"w-full rounded-lg px-4 py-3 text-sm font-condensed text-foreground placeholder-muted-foreground/40 outline-none focus:ring-2 transition-all",style:{background:"hsl(220 20% 10%)",border:"1px solid hsl(220 20% 16%)","--tw-ring-color":"hsl(38 95% 52% / 0.4)"}})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[10px] font-bold uppercase tracking-[0.15em] text-muted-foreground mb-3 font-condensed",children:"Coaching Style"}),c.jsx("div",{className:"space-y-2",children:zs.map(d=>{const p=o===d.type;return c.jsx("button",{onClick:()=>i(d.type),className:"w-full text-left rounded-xl border px-4 py-3.5 transition-all duration-150 cursor-pointer",style:{background:p?d.color+"12":"hsl(220 20% 9%)",borderColor:p?d.color+"55":"hsl(220 20% 13%)"},children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"text-xl",children:d.emoji}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-xs font-bold font-condensed uppercase tracking-wide",style:{color:p?d.color:"hsl(210 20% 88%)"},children:d.label}),c.jsx("div",{className:"text-[11px] text-muted-foreground mt-0.5",children:d.bonus})]}),p&&c.jsx("div",{className:"w-4 h-4 rounded-full flex items-center justify-center shrink-0",style:{background:d.color},children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"hsl(220 25% 5%)",strokeWidth:3,style:{width:10,height:10},children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})]})},d.type)})})]}),c.jsx("button",{onClick:h,disabled:!o,className:"w-full py-4 rounded-xl font-bold tracking-[0.15em] uppercase text-sm transition-all active:scale-95 font-condensed cursor-pointer",style:{background:o?"hsl(38 95% 52%)":"hsl(220 20% 12%)",color:o?"hsl(220 25% 5%)":"hsl(215 15% 40%)",boxShadow:o?"0 0 24px hsl(38 95% 52% / 0.2)":"none",cursor:o?"pointer":"not-allowed"},children:o?`Start Career with ${u.shortName} `:"Choose a Coaching Style First"})]})]})]})}function bj({onSinglePlayer:t,onMultiplayer:e}){return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center px-4 relative overflow-hidden",children:[c.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[c.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[700px] h-[700px] rounded-full",style:{border:"1px solid hsl(38 95% 52% / 0.04)"}}),c.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] rounded-full",style:{border:"1px solid hsl(38 95% 52% / 0.06)"}}),c.jsx("div",{className:"absolute inset-0",style:{background:"radial-gradient(ellipse 50% 40% at 50% 0%, hsl(38 95% 52% / 0.05) 0%, transparent 60%)"}})]}),c.jsxs("div",{className:"relative text-center mb-12 animate-fade-in",children:[c.jsx("div",{className:"w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-6",style:{background:"hsl(38 95% 52% / 0.1)",border:"1px solid hsl(38 95% 52% / 0.25)"},children:c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"hsl(38 95% 55%)",strokeWidth:1.5,style:{width:40,height:40},children:[c.jsx("circle",{cx:"12",cy:"12",r:"9.75"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 2.25v19.5M2.25 12h19.5M4.5 6.75c2 2 4 3.75 7.5 3.75s5.5-1.75 7.5-3.75M4.5 17.25c2-2 4-3.75 7.5-3.75s5.5 1.75 7.5 3.75"})]})}),c.jsx("h1",{className:"font-display text-6xl sm:text-7xl text-foreground tracking-wider mb-2",children:"BASKETBALL"}),c.jsx("h2",{className:"font-display text-3xl sm:text-4xl tracking-widest",style:{color:"hsl(38 95% 55%)"},children:"MANAGER"}),c.jsx("p",{className:"text-muted-foreground mt-3 text-sm font-condensed tracking-wide",children:"Lithuanian Basketball League  Career Mode"})]}),c.jsxs("div",{className:"w-full max-w-sm space-y-3 animate-slide-up",children:[c.jsx("button",{onClick:t,className:"w-full relative overflow-hidden rounded-xl px-6 py-5 text-left transition-all hover:opacity-90 active:scale-[0.98] cursor-pointer",style:{background:"hsl(38 95% 52%)",boxShadow:"0 0 30px hsl(38 95% 52% / 0.18)"},children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] font-bold uppercase tracking-[0.2em] opacity-70 mb-1 font-condensed",style:{color:"hsl(220 25% 5%)"},children:"Solo"}),c.jsx("div",{className:"text-xl font-black font-condensed uppercase tracking-wide",style:{color:"hsl(220 25% 5%)"},children:"Single Player"}),c.jsx("div",{className:"text-sm opacity-70 mt-0.5 font-condensed",style:{color:"hsl(220 25% 5%)"},children:"Manage your club alone"})]}),c.jsx("svg",{viewBox:"0 0 24 24",fill:"hsl(220 25% 5%)",style:{width:36,height:36,opacity:.7},children:c.jsx("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z",clipRule:"evenodd"})})]})}),c.jsxs("button",{onClick:e,className:"w-full relative overflow-hidden rounded-xl px-6 py-5 text-left transition-all active:scale-[0.98] cursor-pointer",style:{background:"hsl(220 22% 8%)",border:"1px solid hsl(220 20% 15%)"},onMouseEnter:n=>{n.currentTarget.style.borderColor="hsl(38 95% 52% / 0.4)",n.currentTarget.style.background="hsl(220 22% 9%)"},onMouseLeave:n=>{n.currentTarget.style.borderColor="hsl(220 20% 15%)",n.currentTarget.style.background="hsl(220 22% 8%)"},children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] font-bold uppercase tracking-[0.2em] mb-1 font-condensed",style:{color:"hsl(38 95% 55%)"},children:"Live"}),c.jsx("div",{className:"text-xl font-black text-foreground font-condensed uppercase tracking-wide",children:"Multiplayer"}),c.jsx("div",{className:"text-sm text-muted-foreground mt-0.5 font-condensed",children:"Play against a friend"})]}),c.jsxs("svg",{viewBox:"0 0 24 24",fill:"hsl(215 15% 50%)",style:{width:36,height:36},children:[c.jsx("path",{fillRule:"evenodd",d:"M8.25 6.75a3.75 3.75 0 117.5 0 3.75 3.75 0 01-7.5 0zM15.75 9.75a3 3 0 116 0 3 3 0 01-6 0zM2.25 9.75a3 3 0 116 0 3 3 0 01-6 0zM6.31 15.117A6.745 6.745 0 0112 12a6.745 6.745 0 016.709 7.498.75.75 0 01-.372.568A12.696 12.696 0 0112 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 01-.372-.568 6.787 6.787 0 011.019-4.38z",clipRule:"evenodd"}),c.jsx("path",{d:"M5.082 14.254a8.287 8.287 0 00-1.308 5.135 9.687 9.687 0 01-1.764-.44l-.115-.04a.563.563 0 01-.373-.487l-.01-.121a3.75 3.75 0 013.57-4.047zM20.226 19.389a8.287 8.287 0 00-1.308-5.135 3.75 3.75 0 013.57 4.047l-.01.121a.563.563 0 01-.373.486l-.115.04c-.567.2-1.156.349-1.764.441z"})]})]}),c.jsxs("div",{className:"mt-3 flex items-center gap-1.5",children:[c.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full animate-pulse",style:{background:"hsl(152 60% 48%)"}}),c.jsx("span",{className:"text-xs text-muted-foreground font-condensed",children:"Real-time  Free  No account needed"})]})]})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-10 opacity-40 font-condensed",children:"v1.0  Basketball Manager"})]})}function Sj(){const{state:t,startGame:e}=Dr();return t?c.jsx(Zw,{}):c.jsx(_j,{onSelectTeam:(n,r,s)=>e(n,r,s)})}const Cj=()=>{const[t,e]=_.useState("menu");return t==="menu"?c.jsx(bj,{onSinglePlayer:()=>e("singleplayer"),onMultiplayer:()=>e("multiplayer")}):t==="multiplayer"?c.jsx(wj,{onBack:()=>e("menu")}):c.jsx(tN,{children:c.jsx(Sj,{})})},kj=()=>{const t=c1();return _.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),c.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},Ej=new a5,Nj=()=>c.jsx(c5,{client:Ej,children:c.jsxs(LE,{children:[c.jsx(wC,{}),c.jsx(JC,{}),c.jsx(Q5,{basename:"/basketball-manager",children:c.jsxs(H5,{children:[c.jsx(Hd,{path:"/",element:c.jsx(Cj,{})}),c.jsx(Hd,{path:"*",element:c.jsx(kj,{})})]})})]})});j0(document.getElementById("root")).render(c.jsx(Nj,{}));
