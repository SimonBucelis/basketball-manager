var pp=t=>{throw TypeError(t)};var Uc=(t,e,n)=>e.has(t)||pp("Cannot "+n);var R=(t,e,n)=>(Uc(t,e,"read from private field"),n?n.call(t):e.get(t)),re=(t,e,n)=>e.has(t)?pp("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),K=(t,e,n,r)=>(Uc(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),He=(t,e,n)=>(Uc(t,e,"access private method"),n);var fa=(t,e,n,r)=>({set _(s){K(t,e,s,n)},get _(){return R(t,e,r)}});function ob(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function wy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _y={exports:{}},ql={},by={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yo=Symbol.for("react.element"),ab=Symbol.for("react.portal"),lb=Symbol.for("react.fragment"),cb=Symbol.for("react.strict_mode"),ub=Symbol.for("react.profiler"),db=Symbol.for("react.provider"),fb=Symbol.for("react.context"),hb=Symbol.for("react.forward_ref"),pb=Symbol.for("react.suspense"),mb=Symbol.for("react.memo"),gb=Symbol.for("react.lazy"),mp=Symbol.iterator;function yb(t){return t===null||typeof t!="object"?null:(t=mp&&t[mp]||t["@@iterator"],typeof t=="function"?t:null)}var Sy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cy=Object.assign,Ey={};function pi(t,e,n){this.props=t,this.context=e,this.refs=Ey,this.updater=n||Sy}pi.prototype.isReactComponent={};pi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ny(){}Ny.prototype=pi.prototype;function ff(t,e,n){this.props=t,this.context=e,this.refs=Ey,this.updater=n||Sy}var hf=ff.prototype=new Ny;hf.constructor=ff;Cy(hf,pi.prototype);hf.isPureReactComponent=!0;var gp=Array.isArray,ky=Object.prototype.hasOwnProperty,pf={current:null},Ty={key:!0,ref:!0,__self:!0,__source:!0};function Iy(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)ky.call(e,r)&&!Ty.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Yo,type:t,key:i,ref:o,props:s,_owner:pf.current}}function vb(t,e){return{$$typeof:Yo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yo}function xb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var yp=/\/+/g;function Vc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xb(""+t.key):e.toString(36)}function Fa(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Yo:case ab:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Vc(o,0):r,gp(s)?(n="",t!=null&&(n=t.replace(yp,"$&/")+"/"),Fa(s,e,n,"",function(c){return c})):s!=null&&(mf(s)&&(s=vb(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(yp,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",gp(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Vc(i,a);o+=Fa(i,e,n,l,s)}else if(l=yb(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Vc(i,a++),o+=Fa(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ha(t,e,n){if(t==null)return t;var r=[],s=0;return Fa(t,r,"","",function(i){return e.call(n,i,s++)}),r}function wb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rt={current:null},$a={transition:null},_b={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:$a,ReactCurrentOwner:pf};function Py(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:ha,forEach:function(t,e,n){ha(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ha(t,function(){e++}),e},toArray:function(t){return ha(t,function(e){return e})||[]},only:function(t){if(!mf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=pi;ne.Fragment=lb;ne.Profiler=ub;ne.PureComponent=ff;ne.StrictMode=cb;ne.Suspense=pb;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_b;ne.act=Py;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Cy({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=pf.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ky.call(e,l)&&!Ty.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Yo,type:t.type,key:s,ref:i,props:r,_owner:o}};ne.createContext=function(t){return t={$$typeof:fb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:db,_context:t},t.Consumer=t};ne.createElement=Iy;ne.createFactory=function(t){var e=Iy.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:hb,render:t}};ne.isValidElement=mf;ne.lazy=function(t){return{$$typeof:gb,_payload:{_status:-1,_result:t},_init:wb}};ne.memo=function(t,e){return{$$typeof:mb,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=$a.transition;$a.transition={};try{t()}finally{$a.transition=e}};ne.unstable_act=Py;ne.useCallback=function(t,e){return rt.current.useCallback(t,e)};ne.useContext=function(t){return rt.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return rt.current.useDeferredValue(t)};ne.useEffect=function(t,e){return rt.current.useEffect(t,e)};ne.useId=function(){return rt.current.useId()};ne.useImperativeHandle=function(t,e,n){return rt.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return rt.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return rt.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return rt.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return rt.current.useReducer(t,e,n)};ne.useRef=function(t){return rt.current.useRef(t)};ne.useState=function(t){return rt.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return rt.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return rt.current.useTransition()};ne.version="18.3.1";by.exports=ne;var w=by.exports;const F=wy(w),Ry=ob({__proto__:null,default:F},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bb=w,Sb=Symbol.for("react.element"),Cb=Symbol.for("react.fragment"),Eb=Object.prototype.hasOwnProperty,Nb=bb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kb={key:!0,ref:!0,__self:!0,__source:!0};function Ay(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Eb.call(e,r)&&!kb.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Sb,type:t,key:i,ref:o,props:s,_owner:Nb.current}}ql.Fragment=Cb;ql.jsx=Ay;ql.jsxs=Ay;_y.exports=ql;var u=_y.exports,jy={exports:{}},wt={},My={exports:{}},Oy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,P){var z=I.length;I.push(P);e:for(;0<z;){var H=z-1>>>1,B=I[H];if(0<s(B,P))I[H]=P,I[z]=B,z=H;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var P=I[0],z=I.pop();if(z!==P){I[0]=z;e:for(var H=0,B=I.length,Y=B>>>1;H<Y;){var Q=2*(H+1)-1,ve=I[Q],Te=Q+1,J=I[Te];if(0>s(ve,z))Te<B&&0>s(J,ve)?(I[H]=J,I[Te]=z,H=Te):(I[H]=ve,I[Q]=z,H=Q);else if(Te<B&&0>s(J,z))I[H]=J,I[Te]=z,H=Te;else break e}}return P}function s(I,P){var z=I.sortIndex-P.sortIndex;return z!==0?z:I.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,d=null,h=3,p=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(I){for(var P=n(c);P!==null;){if(P.callback===null)r(c);else if(P.startTime<=I)r(c),P.sortIndex=P.expirationTime,e(l,P);else break;P=n(c)}}function _(I){if(v=!1,x(I),!g)if(n(l)!==null)g=!0,W(S);else{var P=n(c);P!==null&&U(_,P.startTime-I)}}function S(I,P){g=!1,v&&(v=!1,y(k),k=-1),p=!0;var z=h;try{for(x(P),d=n(l);d!==null&&(!(d.expirationTime>P)||I&&!M());){var H=d.callback;if(typeof H=="function"){d.callback=null,h=d.priorityLevel;var B=H(d.expirationTime<=P);P=t.unstable_now(),typeof B=="function"?d.callback=B:d===n(l)&&r(l),x(P)}else r(l);d=n(l)}if(d!==null)var Y=!0;else{var Q=n(c);Q!==null&&U(_,Q.startTime-P),Y=!1}return Y}finally{d=null,h=z,p=!1}}var C=!1,E=null,k=-1,T=5,N=-1;function M(){return!(t.unstable_now()-N<T)}function A(){if(E!==null){var I=t.unstable_now();N=I;var P=!0;try{P=E(!0,I)}finally{P?D():(C=!1,E=null)}}else C=!1}var D;if(typeof m=="function")D=function(){m(A)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,L=j.port2;j.port1.onmessage=A,D=function(){L.postMessage(null)}}else D=function(){b(A,0)};function W(I){E=I,C||(C=!0,D())}function U(I,P){k=b(function(){I(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,W(S))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var z=h;h=P;try{return I()}finally{h=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,P){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var z=h;h=I;try{return P()}finally{h=z}},t.unstable_scheduleCallback=function(I,P,z){var H=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?H+z:H):z=H,I){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=z+B,I={id:f++,callback:P,priorityLevel:I,startTime:z,expirationTime:B,sortIndex:-1},z>H?(I.sortIndex=z,e(c,I),n(l)===null&&I===n(c)&&(v?(y(k),k=-1):v=!0,U(_,z-H))):(I.sortIndex=B,e(l,I),g||p||(g=!0,W(S))),I},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(I){var P=h;return function(){var z=h;h=P;try{return I.apply(this,arguments)}finally{h=z}}}})(Oy);My.exports=Oy;var Tb=My.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib=w,xt=Tb;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dy=new Set,ho={};function is(t,e){Zs(t,e),Zs(t+"Capture",e)}function Zs(t,e){for(ho[t]=e,t=0;t<e.length;t++)Dy.add(e[t])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ju=Object.prototype.hasOwnProperty,Pb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vp={},xp={};function Rb(t){return ju.call(xp,t)?!0:ju.call(vp,t)?!1:Pb.test(t)?xp[t]=!0:(vp[t]=!0,!1)}function Ab(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jb(t,e,n,r){if(e===null||typeof e>"u"||Ab(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function st(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ue[t]=new st(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ue[e]=new st(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ue[t]=new st(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ue[t]=new st(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ue[t]=new st(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ue[t]=new st(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ue[t]=new st(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ue[t]=new st(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ue[t]=new st(t,5,!1,t.toLowerCase(),null,!1,!1)});var gf=/[\-:]([a-z])/g;function yf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gf,yf);Ue[e]=new st(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gf,yf);Ue[e]=new st(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gf,yf);Ue[e]=new st(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ue[t]=new st(t,1,!1,t.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ue[t]=new st(t,1,!1,t.toLowerCase(),null,!0,!0)});function vf(t,e,n,r){var s=Ue.hasOwnProperty(e)?Ue[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jb(e,n,s,r)&&(n=null),r||s===null?Rb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jn=Ib.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pa=Symbol.for("react.element"),xs=Symbol.for("react.portal"),ws=Symbol.for("react.fragment"),xf=Symbol.for("react.strict_mode"),Mu=Symbol.for("react.profiler"),Ly=Symbol.for("react.provider"),Fy=Symbol.for("react.context"),wf=Symbol.for("react.forward_ref"),Ou=Symbol.for("react.suspense"),Du=Symbol.for("react.suspense_list"),_f=Symbol.for("react.memo"),Hn=Symbol.for("react.lazy"),$y=Symbol.for("react.offscreen"),wp=Symbol.iterator;function Ti(t){return t===null||typeof t!="object"?null:(t=wp&&t[wp]||t["@@iterator"],typeof t=="function"?t:null)}var be=Object.assign,Hc;function Hi(t){if(Hc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Hc=e&&e[1]||""}return`
`+Hc+t}var Gc=!1;function Yc(t,e){if(!t||Gc)return"";Gc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Gc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Hi(t):""}function Mb(t){switch(t.tag){case 5:return Hi(t.type);case 16:return Hi("Lazy");case 13:return Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 2:case 15:return t=Yc(t.type,!1),t;case 11:return t=Yc(t.type.render,!1),t;case 1:return t=Yc(t.type,!0),t;default:return""}}function Lu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ws:return"Fragment";case xs:return"Portal";case Mu:return"Profiler";case xf:return"StrictMode";case Ou:return"Suspense";case Du:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Fy:return(t.displayName||"Context")+".Consumer";case Ly:return(t._context.displayName||"Context")+".Provider";case wf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _f:return e=t.displayName||null,e!==null?e:Lu(t.type)||"Memo";case Hn:e=t._payload,t=t._init;try{return Lu(t(e))}catch{}}return null}function Ob(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lu(e);case 8:return e===xf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Db(t){var e=zy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ma(t){t._valueTracker||(t._valueTracker=Db(t))}function By(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function el(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fu(t,e){var n=e.checked;return be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _p(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Wy(t,e){e=e.checked,e!=null&&vf(t,"checked",e,!1)}function $u(t,e){Wy(t,e);var n=yr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zu(t,e.type,n):e.hasOwnProperty("defaultValue")&&zu(t,e.type,yr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zu(t,e,n){(e!=="number"||el(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gi=Array.isArray;function As(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Bu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Sp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(Gi(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yr(n)}}function Uy(t,e){var n=yr(e.value),r=yr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Vy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Vy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ga,Hy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ga=ga||document.createElement("div"),ga.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ga.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function po(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lb=["Webkit","ms","Moz","O"];Object.keys(qi).forEach(function(t){Lb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qi[e]=qi[t]})});function Gy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qi.hasOwnProperty(t)&&qi[t]?(""+e).trim():e+"px"}function Yy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Gy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Fb=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uu(t,e){if(e){if(Fb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Vu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hu=null;function bf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gu=null,js=null,Ms=null;function Ep(t){if(t=qo(t)){if(typeof Gu!="function")throw Error(O(280));var e=t.stateNode;e&&(e=tc(e),Gu(t.stateNode,t.type,e))}}function Qy(t){js?Ms?Ms.push(t):Ms=[t]:js=t}function Ky(){if(js){var t=js,e=Ms;if(Ms=js=null,Ep(t),e)for(t=0;t<e.length;t++)Ep(e[t])}}function qy(t,e){return t(e)}function Xy(){}var Qc=!1;function Jy(t,e,n){if(Qc)return t(e,n);Qc=!0;try{return qy(t,e,n)}finally{Qc=!1,(js!==null||Ms!==null)&&(Xy(),Ky())}}function mo(t,e){var n=t.stateNode;if(n===null)return null;var r=tc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var Yu=!1;if(En)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){Yu=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{Yu=!1}function $b(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Xi=!1,tl=null,nl=!1,Qu=null,zb={onError:function(t){Xi=!0,tl=t}};function Bb(t,e,n,r,s,i,o,a,l){Xi=!1,tl=null,$b.apply(zb,arguments)}function Wb(t,e,n,r,s,i,o,a,l){if(Bb.apply(this,arguments),Xi){if(Xi){var c=tl;Xi=!1,tl=null}else throw Error(O(198));nl||(nl=!0,Qu=c)}}function os(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Zy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Np(t){if(os(t)!==t)throw Error(O(188))}function Ub(t){var e=t.alternate;if(!e){if(e=os(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Np(s),t;if(i===r)return Np(s),e;i=i.sibling}throw Error(O(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function ev(t){return t=Ub(t),t!==null?tv(t):null}function tv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tv(t);if(e!==null)return e;t=t.sibling}return null}var nv=xt.unstable_scheduleCallback,kp=xt.unstable_cancelCallback,Vb=xt.unstable_shouldYield,Hb=xt.unstable_requestPaint,ke=xt.unstable_now,Gb=xt.unstable_getCurrentPriorityLevel,Sf=xt.unstable_ImmediatePriority,rv=xt.unstable_UserBlockingPriority,rl=xt.unstable_NormalPriority,Yb=xt.unstable_LowPriority,sv=xt.unstable_IdlePriority,Xl=null,cn=null;function Qb(t){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Xl,t,void 0,(t.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:Xb,Kb=Math.log,qb=Math.LN2;function Xb(t){return t>>>=0,t===0?32:31-(Kb(t)/qb|0)|0}var ya=64,va=4194304;function Yi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Yi(a):(i&=o,i!==0&&(r=Yi(i)))}else o=n&~s,o!==0?r=Yi(o):i!==0&&(r=Yi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yt(e),s=1<<n,r|=t[n],e&=~s;return r}function Jb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Yt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Jb(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Ku(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iv(){var t=ya;return ya<<=1,!(ya&4194240)&&(ya=64),t}function Kc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yt(e),t[e]=n}function eS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Yt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Cf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var oe=0;function ov(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var av,Ef,lv,cv,uv,qu=!1,xa=[],ir=null,or=null,ar=null,go=new Map,yo=new Map,Yn=[],tS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tp(t,e){switch(t){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":go.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(e.pointerId)}}function Pi(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=qo(e),e!==null&&Ef(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function nS(t,e,n,r,s){switch(e){case"focusin":return ir=Pi(ir,t,e,n,r,s),!0;case"dragenter":return or=Pi(or,t,e,n,r,s),!0;case"mouseover":return ar=Pi(ar,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return go.set(i,Pi(go.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,yo.set(i,Pi(yo.get(i)||null,t,e,n,r,s)),!0}return!1}function dv(t){var e=Fr(t.target);if(e!==null){var n=os(e);if(n!==null){if(e=n.tag,e===13){if(e=Zy(n),e!==null){t.blockedOn=e,uv(t.priority,function(){lv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function za(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hu=r,n.target.dispatchEvent(r),Hu=null}else return e=qo(n),e!==null&&Ef(e),t.blockedOn=n,!1;e.shift()}return!0}function Ip(t,e,n){za(t)&&n.delete(e)}function rS(){qu=!1,ir!==null&&za(ir)&&(ir=null),or!==null&&za(or)&&(or=null),ar!==null&&za(ar)&&(ar=null),go.forEach(Ip),yo.forEach(Ip)}function Ri(t,e){t.blockedOn===e&&(t.blockedOn=null,qu||(qu=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,rS)))}function vo(t){function e(s){return Ri(s,t)}if(0<xa.length){Ri(xa[0],t);for(var n=1;n<xa.length;n++){var r=xa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ir!==null&&Ri(ir,t),or!==null&&Ri(or,t),ar!==null&&Ri(ar,t),go.forEach(e),yo.forEach(e),n=0;n<Yn.length;n++)r=Yn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Yn.length&&(n=Yn[0],n.blockedOn===null);)dv(n),n.blockedOn===null&&Yn.shift()}var Os=jn.ReactCurrentBatchConfig,il=!0;function sS(t,e,n,r){var s=oe,i=Os.transition;Os.transition=null;try{oe=1,Nf(t,e,n,r)}finally{oe=s,Os.transition=i}}function iS(t,e,n,r){var s=oe,i=Os.transition;Os.transition=null;try{oe=4,Nf(t,e,n,r)}finally{oe=s,Os.transition=i}}function Nf(t,e,n,r){if(il){var s=Xu(t,e,n,r);if(s===null)iu(t,e,r,ol,n),Tp(t,r);else if(nS(s,t,e,n,r))r.stopPropagation();else if(Tp(t,r),e&4&&-1<tS.indexOf(t)){for(;s!==null;){var i=qo(s);if(i!==null&&av(i),i=Xu(t,e,n,r),i===null&&iu(t,e,r,ol,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else iu(t,e,r,null,n)}}var ol=null;function Xu(t,e,n,r){if(ol=null,t=bf(r),t=Fr(t),t!==null)if(e=os(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Zy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ol=t,null}function fv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gb()){case Sf:return 1;case rv:return 4;case rl:case Yb:return 16;case sv:return 536870912;default:return 16}default:return 16}}var tr=null,kf=null,Ba=null;function hv(){if(Ba)return Ba;var t,e=kf,n=e.length,r,s="value"in tr?tr.value:tr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ba=s.slice(t,1<r?1-r:void 0)}function Wa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wa(){return!0}function Pp(){return!1}function _t(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?wa:Pp,this.isPropagationStopped=Pp,this}return be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wa)},persist:function(){},isPersistent:wa}),e}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tf=_t(mi),Ko=be({},mi,{view:0,detail:0}),oS=_t(Ko),qc,Xc,Ai,Jl=be({},Ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:If,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ai&&(Ai&&t.type==="mousemove"?(qc=t.screenX-Ai.screenX,Xc=t.screenY-Ai.screenY):Xc=qc=0,Ai=t),qc)},movementY:function(t){return"movementY"in t?t.movementY:Xc}}),Rp=_t(Jl),aS=be({},Jl,{dataTransfer:0}),lS=_t(aS),cS=be({},Ko,{relatedTarget:0}),Jc=_t(cS),uS=be({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),dS=_t(uS),fS=be({},mi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hS=_t(fS),pS=be({},mi,{data:0}),Ap=_t(pS),mS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yS[t])?!!e[t]:!1}function If(){return vS}var xS=be({},Ko,{key:function(t){if(t.key){var e=mS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:If,charCode:function(t){return t.type==="keypress"?Wa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wS=_t(xS),_S=be({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jp=_t(_S),bS=be({},Ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:If}),SS=_t(bS),CS=be({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ES=_t(CS),NS=be({},Jl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kS=_t(NS),TS=[9,13,27,32],Pf=En&&"CompositionEvent"in window,Ji=null;En&&"documentMode"in document&&(Ji=document.documentMode);var IS=En&&"TextEvent"in window&&!Ji,pv=En&&(!Pf||Ji&&8<Ji&&11>=Ji),Mp=" ",Op=!1;function mv(t,e){switch(t){case"keyup":return TS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _s=!1;function PS(t,e){switch(t){case"compositionend":return gv(e);case"keypress":return e.which!==32?null:(Op=!0,Mp);case"textInput":return t=e.data,t===Mp&&Op?null:t;default:return null}}function RS(t,e){if(_s)return t==="compositionend"||!Pf&&mv(t,e)?(t=hv(),Ba=kf=tr=null,_s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pv&&e.locale!=="ko"?null:e.data;default:return null}}var AS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!AS[t.type]:e==="textarea"}function yv(t,e,n,r){Qy(r),e=al(e,"onChange"),0<e.length&&(n=new Tf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zi=null,xo=null;function jS(t){Tv(t,0)}function Zl(t){var e=Cs(t);if(By(e))return t}function MS(t,e){if(t==="change")return e}var vv=!1;if(En){var Zc;if(En){var eu="oninput"in document;if(!eu){var Lp=document.createElement("div");Lp.setAttribute("oninput","return;"),eu=typeof Lp.oninput=="function"}Zc=eu}else Zc=!1;vv=Zc&&(!document.documentMode||9<document.documentMode)}function Fp(){Zi&&(Zi.detachEvent("onpropertychange",xv),xo=Zi=null)}function xv(t){if(t.propertyName==="value"&&Zl(xo)){var e=[];yv(e,xo,t,bf(t)),Jy(jS,e)}}function OS(t,e,n){t==="focusin"?(Fp(),Zi=e,xo=n,Zi.attachEvent("onpropertychange",xv)):t==="focusout"&&Fp()}function DS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zl(xo)}function LS(t,e){if(t==="click")return Zl(e)}function FS(t,e){if(t==="input"||t==="change")return Zl(e)}function $S(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qt=typeof Object.is=="function"?Object.is:$S;function wo(t,e){if(qt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ju.call(e,s)||!qt(t[s],e[s]))return!1}return!0}function $p(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zp(t,e){var n=$p(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$p(n)}}function wv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _v(){for(var t=window,e=el();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=el(t.document)}return e}function Rf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zS(t){var e=_v(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wv(n.ownerDocument.documentElement,n)){if(r!==null&&Rf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=zp(n,i);var o=zp(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var BS=En&&"documentMode"in document&&11>=document.documentMode,bs=null,Ju=null,eo=null,Zu=!1;function Bp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zu||bs==null||bs!==el(r)||(r=bs,"selectionStart"in r&&Rf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),eo&&wo(eo,r)||(eo=r,r=al(Ju,"onSelect"),0<r.length&&(e=new Tf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bs)))}function _a(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ss={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionend:_a("Transition","TransitionEnd")},tu={},bv={};En&&(bv=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function ec(t){if(tu[t])return tu[t];if(!Ss[t])return t;var e=Ss[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bv)return tu[t]=e[n];return t}var Sv=ec("animationend"),Cv=ec("animationiteration"),Ev=ec("animationstart"),Nv=ec("transitionend"),kv=new Map,Wp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(t,e){kv.set(t,e),is(e,[t])}for(var nu=0;nu<Wp.length;nu++){var ru=Wp[nu],WS=ru.toLowerCase(),US=ru[0].toUpperCase()+ru.slice(1);Nr(WS,"on"+US)}Nr(Sv,"onAnimationEnd");Nr(Cv,"onAnimationIteration");Nr(Ev,"onAnimationStart");Nr("dblclick","onDoubleClick");Nr("focusin","onFocus");Nr("focusout","onBlur");Nr(Nv,"onTransitionEnd");Zs("onMouseEnter",["mouseout","mouseover"]);Zs("onMouseLeave",["mouseout","mouseover"]);Zs("onPointerEnter",["pointerout","pointerover"]);Zs("onPointerLeave",["pointerout","pointerover"]);is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));is("onBeforeInput",["compositionend","keypress","textInput","paste"]);is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qi));function Up(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Wb(r,e,void 0,t),t.currentTarget=null}function Tv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Up(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Up(s,a,c),i=l}}}if(nl)throw t=Qu,nl=!1,Qu=null,t}function pe(t,e){var n=e[sd];n===void 0&&(n=e[sd]=new Set);var r=t+"__bubble";n.has(r)||(Iv(e,t,2,!1),n.add(r))}function su(t,e,n){var r=0;e&&(r|=4),Iv(n,t,r,e)}var ba="_reactListening"+Math.random().toString(36).slice(2);function _o(t){if(!t[ba]){t[ba]=!0,Dy.forEach(function(n){n!=="selectionchange"&&(VS.has(n)||su(n,!1,t),su(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ba]||(e[ba]=!0,su("selectionchange",!1,e))}}function Iv(t,e,n,r){switch(fv(e)){case 1:var s=sS;break;case 4:s=iS;break;default:s=Nf}n=s.bind(null,e,n,t),s=void 0,!Yu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function iu(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Fr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Jy(function(){var c=i,f=bf(n),d=[];e:{var h=kv.get(t);if(h!==void 0){var p=Tf,g=t;switch(t){case"keypress":if(Wa(n)===0)break e;case"keydown":case"keyup":p=wS;break;case"focusin":g="focus",p=Jc;break;case"focusout":g="blur",p=Jc;break;case"beforeblur":case"afterblur":p=Jc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Rp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=lS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=SS;break;case Sv:case Cv:case Ev:p=dS;break;case Nv:p=ES;break;case"scroll":p=oS;break;case"wheel":p=kS;break;case"copy":case"cut":case"paste":p=hS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=jp}var v=(e&4)!==0,b=!v&&t==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var m=c,x;m!==null;){x=m;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,y!==null&&(_=mo(m,y),_!=null&&v.push(bo(m,_,x)))),b)break;m=m.return}0<v.length&&(h=new p(h,g,null,n,f),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Hu&&(g=n.relatedTarget||n.fromElement)&&(Fr(g)||g[Nn]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?Fr(g):null,g!==null&&(b=os(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(v=Rp,_="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(v=jp,_="onPointerLeave",y="onPointerEnter",m="pointer"),b=p==null?h:Cs(p),x=g==null?h:Cs(g),h=new v(_,m+"leave",p,n,f),h.target=b,h.relatedTarget=x,_=null,Fr(f)===c&&(v=new v(y,m+"enter",g,n,f),v.target=x,v.relatedTarget=b,_=v),b=_,p&&g)t:{for(v=p,y=g,m=0,x=v;x;x=ms(x))m++;for(x=0,_=y;_;_=ms(_))x++;for(;0<m-x;)v=ms(v),m--;for(;0<x-m;)y=ms(y),x--;for(;m--;){if(v===y||y!==null&&v===y.alternate)break t;v=ms(v),y=ms(y)}v=null}else v=null;p!==null&&Vp(d,h,p,v,!1),g!==null&&b!==null&&Vp(d,b,g,v,!0)}}e:{if(h=c?Cs(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=MS;else if(Dp(h))if(vv)S=FS;else{S=DS;var C=OS}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=LS);if(S&&(S=S(t,c))){yv(d,S,n,f);break e}C&&C(t,h,c),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&zu(h,"number",h.value)}switch(C=c?Cs(c):window,t){case"focusin":(Dp(C)||C.contentEditable==="true")&&(bs=C,Ju=c,eo=null);break;case"focusout":eo=Ju=bs=null;break;case"mousedown":Zu=!0;break;case"contextmenu":case"mouseup":case"dragend":Zu=!1,Bp(d,n,f);break;case"selectionchange":if(BS)break;case"keydown":case"keyup":Bp(d,n,f)}var E;if(Pf)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else _s?mv(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(pv&&n.locale!=="ko"&&(_s||k!=="onCompositionStart"?k==="onCompositionEnd"&&_s&&(E=hv()):(tr=f,kf="value"in tr?tr.value:tr.textContent,_s=!0)),C=al(c,k),0<C.length&&(k=new Ap(k,t,null,n,f),d.push({event:k,listeners:C}),E?k.data=E:(E=gv(n),E!==null&&(k.data=E)))),(E=IS?PS(t,n):RS(t,n))&&(c=al(c,"onBeforeInput"),0<c.length&&(f=new Ap("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:c}),f.data=E))}Tv(d,e)})}function bo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function al(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=mo(t,n),i!=null&&r.unshift(bo(t,i,s)),i=mo(t,e),i!=null&&r.push(bo(t,i,s))),t=t.return}return r}function ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vp(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=mo(n,i),l!=null&&o.unshift(bo(n,l,a))):s||(l=mo(n,i),l!=null&&o.push(bo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var HS=/\r\n?/g,GS=/\u0000|\uFFFD/g;function Hp(t){return(typeof t=="string"?t:""+t).replace(HS,`
`).replace(GS,"")}function Sa(t,e,n){if(e=Hp(e),Hp(t)!==e&&n)throw Error(O(425))}function ll(){}var ed=null,td=null;function nd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rd=typeof setTimeout=="function"?setTimeout:void 0,YS=typeof clearTimeout=="function"?clearTimeout:void 0,Gp=typeof Promise=="function"?Promise:void 0,QS=typeof queueMicrotask=="function"?queueMicrotask:typeof Gp<"u"?function(t){return Gp.resolve(null).then(t).catch(KS)}:rd;function KS(t){setTimeout(function(){throw t})}function ou(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),vo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);vo(e)}function lr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gi=Math.random().toString(36).slice(2),an="__reactFiber$"+gi,So="__reactProps$"+gi,Nn="__reactContainer$"+gi,sd="__reactEvents$"+gi,qS="__reactListeners$"+gi,XS="__reactHandles$"+gi;function Fr(t){var e=t[an];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nn]||n[an]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yp(t);t!==null;){if(n=t[an])return n;t=Yp(t)}return e}t=n,n=t.parentNode}return null}function qo(t){return t=t[an]||t[Nn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function tc(t){return t[So]||null}var id=[],Es=-1;function kr(t){return{current:t}}function me(t){0>Es||(t.current=id[Es],id[Es]=null,Es--)}function fe(t,e){Es++,id[Es]=t.current,t.current=e}var vr={},Xe=kr(vr),ct=kr(!1),qr=vr;function ei(t,e){var n=t.type.contextTypes;if(!n)return vr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ut(t){return t=t.childContextTypes,t!=null}function cl(){me(ct),me(Xe)}function Qp(t,e,n){if(Xe.current!==vr)throw Error(O(168));fe(Xe,e),fe(ct,n)}function Pv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(O(108,Ob(t)||"Unknown",s));return be({},n,r)}function ul(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vr,qr=Xe.current,fe(Xe,t),fe(ct,ct.current),!0}function Kp(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=Pv(t,e,qr),r.__reactInternalMemoizedMergedChildContext=t,me(ct),me(Xe),fe(Xe,t)):me(ct),fe(ct,n)}var vn=null,nc=!1,au=!1;function Rv(t){vn===null?vn=[t]:vn.push(t)}function JS(t){nc=!0,Rv(t)}function Tr(){if(!au&&vn!==null){au=!0;var t=0,e=oe;try{var n=vn;for(oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vn=null,nc=!1}catch(s){throw vn!==null&&(vn=vn.slice(t+1)),nv(Sf,Tr),s}finally{oe=e,au=!1}}return null}var Ns=[],ks=0,dl=null,fl=0,Nt=[],kt=0,Xr=null,wn=1,_n="";function Mr(t,e){Ns[ks++]=fl,Ns[ks++]=dl,dl=t,fl=e}function Av(t,e,n){Nt[kt++]=wn,Nt[kt++]=_n,Nt[kt++]=Xr,Xr=t;var r=wn;t=_n;var s=32-Yt(r)-1;r&=~(1<<s),n+=1;var i=32-Yt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,wn=1<<32-Yt(e)+s|n<<s|r,_n=i+t}else wn=1<<i|n<<s|r,_n=t}function Af(t){t.return!==null&&(Mr(t,1),Av(t,1,0))}function jf(t){for(;t===dl;)dl=Ns[--ks],Ns[ks]=null,fl=Ns[--ks],Ns[ks]=null;for(;t===Xr;)Xr=Nt[--kt],Nt[kt]=null,_n=Nt[--kt],Nt[kt]=null,wn=Nt[--kt],Nt[kt]=null}var yt=null,gt=null,ye=!1,Vt=null;function jv(t,e){var n=Tt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yt=t,gt=lr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yt=t,gt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xr!==null?{id:wn,overflow:_n}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Tt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yt=t,gt=null,!0):!1;default:return!1}}function od(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ad(t){if(ye){var e=gt;if(e){var n=e;if(!qp(t,e)){if(od(t))throw Error(O(418));e=lr(n.nextSibling);var r=yt;e&&qp(t,e)?jv(r,n):(t.flags=t.flags&-4097|2,ye=!1,yt=t)}}else{if(od(t))throw Error(O(418));t.flags=t.flags&-4097|2,ye=!1,yt=t}}}function Xp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yt=t}function Ca(t){if(t!==yt)return!1;if(!ye)return Xp(t),ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nd(t.type,t.memoizedProps)),e&&(e=gt)){if(od(t))throw Mv(),Error(O(418));for(;e;)jv(t,e),e=lr(e.nextSibling)}if(Xp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){gt=lr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}gt=null}}else gt=yt?lr(t.stateNode.nextSibling):null;return!0}function Mv(){for(var t=gt;t;)t=lr(t.nextSibling)}function ti(){gt=yt=null,ye=!1}function Mf(t){Vt===null?Vt=[t]:Vt.push(t)}var ZS=jn.ReactCurrentBatchConfig;function ji(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function Ea(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Jp(t){var e=t._init;return e(t._payload)}function Ov(t){function e(y,m){if(t){var x=y.deletions;x===null?(y.deletions=[m],y.flags|=16):x.push(m)}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=fr(y,m),y.index=0,y.sibling=null,y}function i(y,m,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<m?(y.flags|=2,m):x):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,m,x,_){return m===null||m.tag!==6?(m=pu(x,y.mode,_),m.return=y,m):(m=s(m,x),m.return=y,m)}function l(y,m,x,_){var S=x.type;return S===ws?f(y,m,x.props.children,_,x.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Hn&&Jp(S)===m.type)?(_=s(m,x.props),_.ref=ji(y,m,x),_.return=y,_):(_=Ka(x.type,x.key,x.props,null,y.mode,_),_.ref=ji(y,m,x),_.return=y,_)}function c(y,m,x,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=mu(x,y.mode,_),m.return=y,m):(m=s(m,x.children||[]),m.return=y,m)}function f(y,m,x,_,S){return m===null||m.tag!==7?(m=Kr(x,y.mode,_,S),m.return=y,m):(m=s(m,x),m.return=y,m)}function d(y,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=pu(""+m,y.mode,x),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case pa:return x=Ka(m.type,m.key,m.props,null,y.mode,x),x.ref=ji(y,null,m),x.return=y,x;case xs:return m=mu(m,y.mode,x),m.return=y,m;case Hn:var _=m._init;return d(y,_(m._payload),x)}if(Gi(m)||Ti(m))return m=Kr(m,y.mode,x,null),m.return=y,m;Ea(y,m)}return null}function h(y,m,x,_){var S=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(y,m,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case pa:return x.key===S?l(y,m,x,_):null;case xs:return x.key===S?c(y,m,x,_):null;case Hn:return S=x._init,h(y,m,S(x._payload),_)}if(Gi(x)||Ti(x))return S!==null?null:f(y,m,x,_,null);Ea(y,x)}return null}function p(y,m,x,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(x)||null,a(m,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case pa:return y=y.get(_.key===null?x:_.key)||null,l(m,y,_,S);case xs:return y=y.get(_.key===null?x:_.key)||null,c(m,y,_,S);case Hn:var C=_._init;return p(y,m,x,C(_._payload),S)}if(Gi(_)||Ti(_))return y=y.get(x)||null,f(m,y,_,S,null);Ea(m,_)}return null}function g(y,m,x,_){for(var S=null,C=null,E=m,k=m=0,T=null;E!==null&&k<x.length;k++){E.index>k?(T=E,E=null):T=E.sibling;var N=h(y,E,x[k],_);if(N===null){E===null&&(E=T);break}t&&E&&N.alternate===null&&e(y,E),m=i(N,m,k),C===null?S=N:C.sibling=N,C=N,E=T}if(k===x.length)return n(y,E),ye&&Mr(y,k),S;if(E===null){for(;k<x.length;k++)E=d(y,x[k],_),E!==null&&(m=i(E,m,k),C===null?S=E:C.sibling=E,C=E);return ye&&Mr(y,k),S}for(E=r(y,E);k<x.length;k++)T=p(E,y,k,x[k],_),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?k:T.key),m=i(T,m,k),C===null?S=T:C.sibling=T,C=T);return t&&E.forEach(function(M){return e(y,M)}),ye&&Mr(y,k),S}function v(y,m,x,_){var S=Ti(x);if(typeof S!="function")throw Error(O(150));if(x=S.call(x),x==null)throw Error(O(151));for(var C=S=null,E=m,k=m=0,T=null,N=x.next();E!==null&&!N.done;k++,N=x.next()){E.index>k?(T=E,E=null):T=E.sibling;var M=h(y,E,N.value,_);if(M===null){E===null&&(E=T);break}t&&E&&M.alternate===null&&e(y,E),m=i(M,m,k),C===null?S=M:C.sibling=M,C=M,E=T}if(N.done)return n(y,E),ye&&Mr(y,k),S;if(E===null){for(;!N.done;k++,N=x.next())N=d(y,N.value,_),N!==null&&(m=i(N,m,k),C===null?S=N:C.sibling=N,C=N);return ye&&Mr(y,k),S}for(E=r(y,E);!N.done;k++,N=x.next())N=p(E,y,k,N.value,_),N!==null&&(t&&N.alternate!==null&&E.delete(N.key===null?k:N.key),m=i(N,m,k),C===null?S=N:C.sibling=N,C=N);return t&&E.forEach(function(A){return e(y,A)}),ye&&Mr(y,k),S}function b(y,m,x,_){if(typeof x=="object"&&x!==null&&x.type===ws&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case pa:e:{for(var S=x.key,C=m;C!==null;){if(C.key===S){if(S=x.type,S===ws){if(C.tag===7){n(y,C.sibling),m=s(C,x.props.children),m.return=y,y=m;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Hn&&Jp(S)===C.type){n(y,C.sibling),m=s(C,x.props),m.ref=ji(y,C,x),m.return=y,y=m;break e}n(y,C);break}else e(y,C);C=C.sibling}x.type===ws?(m=Kr(x.props.children,y.mode,_,x.key),m.return=y,y=m):(_=Ka(x.type,x.key,x.props,null,y.mode,_),_.ref=ji(y,m,x),_.return=y,y=_)}return o(y);case xs:e:{for(C=x.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){n(y,m.sibling),m=s(m,x.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else e(y,m);m=m.sibling}m=mu(x,y.mode,_),m.return=y,y=m}return o(y);case Hn:return C=x._init,b(y,m,C(x._payload),_)}if(Gi(x))return g(y,m,x,_);if(Ti(x))return v(y,m,x,_);Ea(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(n(y,m.sibling),m=s(m,x),m.return=y,y=m):(n(y,m),m=pu(x,y.mode,_),m.return=y,y=m),o(y)):n(y,m)}return b}var ni=Ov(!0),Dv=Ov(!1),hl=kr(null),pl=null,Ts=null,Of=null;function Df(){Of=Ts=pl=null}function Lf(t){var e=hl.current;me(hl),t._currentValue=e}function ld(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ds(t,e){pl=t,Of=Ts=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(at=!0),t.firstContext=null)}function Rt(t){var e=t._currentValue;if(Of!==t)if(t={context:t,memoizedValue:e,next:null},Ts===null){if(pl===null)throw Error(O(308));Ts=t,pl.dependencies={lanes:0,firstContext:t}}else Ts=Ts.next=t;return e}var $r=null;function Ff(t){$r===null?$r=[t]:$r.push(t)}function Lv(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ff(e)):(n.next=s.next,s.next=n),e.interleaved=n,kn(t,r)}function kn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gn=!1;function $f(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,kn(t,n)}return s=r.interleaved,s===null?(e.next=e,Ff(r)):(e.next=s.next,s.next=e),r.interleaved=e,kn(t,n)}function Ua(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cf(t,n)}}function Zp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ml(t,e,n,r){var s=t.updateQueue;Gn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,f=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(h=e,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=be({},d,h);break e;case 2:Gn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=p,l=d):f=f.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Zr|=o,t.lanes=o,t.memoizedState=d}}function em(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(O(191,s));s.call(r)}}}var Xo={},un=kr(Xo),Co=kr(Xo),Eo=kr(Xo);function zr(t){if(t===Xo)throw Error(O(174));return t}function zf(t,e){switch(fe(Eo,e),fe(Co,t),fe(un,Xo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wu(e,t)}me(un),fe(un,e)}function ri(){me(un),me(Co),me(Eo)}function $v(t){zr(Eo.current);var e=zr(un.current),n=Wu(e,t.type);e!==n&&(fe(Co,t),fe(un,n))}function Bf(t){Co.current===t&&(me(un),me(Co))}var we=kr(0);function gl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lu=[];function Wf(){for(var t=0;t<lu.length;t++)lu[t]._workInProgressVersionPrimary=null;lu.length=0}var Va=jn.ReactCurrentDispatcher,cu=jn.ReactCurrentBatchConfig,Jr=0,_e=null,Pe=null,Le=null,yl=!1,to=!1,No=0,eC=0;function Ge(){throw Error(O(321))}function Uf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qt(t[n],e[n]))return!1;return!0}function Vf(t,e,n,r,s,i){if(Jr=i,_e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Va.current=t===null||t.memoizedState===null?sC:iC,t=n(r,s),to){i=0;do{if(to=!1,No=0,25<=i)throw Error(O(301));i+=1,Le=Pe=null,e.updateQueue=null,Va.current=oC,t=n(r,s)}while(to)}if(Va.current=vl,e=Pe!==null&&Pe.next!==null,Jr=0,Le=Pe=_e=null,yl=!1,e)throw Error(O(300));return t}function Hf(){var t=No!==0;return No=0,t}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?_e.memoizedState=Le=t:Le=Le.next=t,Le}function At(){if(Pe===null){var t=_e.alternate;t=t!==null?t.memoizedState:null}else t=Pe.next;var e=Le===null?_e.memoizedState:Le.next;if(e!==null)Le=e,Pe=t;else{if(t===null)throw Error(O(310));Pe=t,t={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Le===null?_e.memoizedState=Le=t:Le=Le.next=t}return Le}function ko(t,e){return typeof e=="function"?e(t):e}function uu(t){var e=At(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=Pe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var f=c.lane;if((Jr&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,_e.lanes|=f,Zr|=f}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,qt(r,e.memoizedState)||(at=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,_e.lanes|=i,Zr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function du(t){var e=At(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);qt(i,e.memoizedState)||(at=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function zv(){}function Bv(t,e){var n=_e,r=At(),s=e(),i=!qt(r.memoizedState,s);if(i&&(r.memoizedState=s,at=!0),r=r.queue,Gf(Vv.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,To(9,Uv.bind(null,n,r,s,e),void 0,null),$e===null)throw Error(O(349));Jr&30||Wv(n,e,s)}return s}function Wv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Uv(t,e,n,r){e.value=n,e.getSnapshot=r,Hv(e)&&Gv(t)}function Vv(t,e,n){return n(function(){Hv(e)&&Gv(t)})}function Hv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qt(t,n)}catch{return!0}}function Gv(t){var e=kn(t,1);e!==null&&Qt(e,t,1,-1)}function tm(t){var e=nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:t},e.queue=t,t=t.dispatch=rC.bind(null,_e,t),[e.memoizedState,t]}function To(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Yv(){return At().memoizedState}function Ha(t,e,n,r){var s=nn();_e.flags|=t,s.memoizedState=To(1|e,n,void 0,r===void 0?null:r)}function rc(t,e,n,r){var s=At();r=r===void 0?null:r;var i=void 0;if(Pe!==null){var o=Pe.memoizedState;if(i=o.destroy,r!==null&&Uf(r,o.deps)){s.memoizedState=To(e,n,i,r);return}}_e.flags|=t,s.memoizedState=To(1|e,n,i,r)}function nm(t,e){return Ha(8390656,8,t,e)}function Gf(t,e){return rc(2048,8,t,e)}function Qv(t,e){return rc(4,2,t,e)}function Kv(t,e){return rc(4,4,t,e)}function qv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xv(t,e,n){return n=n!=null?n.concat([t]):null,rc(4,4,qv.bind(null,e,t),n)}function Yf(){}function Jv(t,e){var n=At();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Uf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Zv(t,e){var n=At();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Uf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ex(t,e,n){return Jr&21?(qt(n,e)||(n=iv(),_e.lanes|=n,Zr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,at=!0),t.memoizedState=n)}function tC(t,e){var n=oe;oe=n!==0&&4>n?n:4,t(!0);var r=cu.transition;cu.transition={};try{t(!1),e()}finally{oe=n,cu.transition=r}}function tx(){return At().memoizedState}function nC(t,e,n){var r=dr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nx(t))rx(e,n);else if(n=Lv(t,e,n,r),n!==null){var s=tt();Qt(n,t,r,s),sx(n,e,r)}}function rC(t,e,n){var r=dr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nx(t))rx(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,qt(a,o)){var l=e.interleaved;l===null?(s.next=s,Ff(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Lv(t,e,s,r),n!==null&&(s=tt(),Qt(n,t,r,s),sx(n,e,r))}}function nx(t){var e=t.alternate;return t===_e||e!==null&&e===_e}function rx(t,e){to=yl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cf(t,n)}}var vl={readContext:Rt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},sC={readContext:Rt,useCallback:function(t,e){return nn().memoizedState=[t,e===void 0?null:e],t},useContext:Rt,useEffect:nm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ha(4194308,4,qv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ha(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ha(4,2,t,e)},useMemo:function(t,e){var n=nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=nn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=nC.bind(null,_e,t),[r.memoizedState,t]},useRef:function(t){var e=nn();return t={current:t},e.memoizedState=t},useState:tm,useDebugValue:Yf,useDeferredValue:function(t){return nn().memoizedState=t},useTransition:function(){var t=tm(!1),e=t[0];return t=tC.bind(null,t[1]),nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_e,s=nn();if(ye){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),$e===null)throw Error(O(349));Jr&30||Wv(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,nm(Vv.bind(null,r,i,t),[t]),r.flags|=2048,To(9,Uv.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=nn(),e=$e.identifierPrefix;if(ye){var n=_n,r=wn;n=(r&~(1<<32-Yt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=No++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=eC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},iC={readContext:Rt,useCallback:Jv,useContext:Rt,useEffect:Gf,useImperativeHandle:Xv,useInsertionEffect:Qv,useLayoutEffect:Kv,useMemo:Zv,useReducer:uu,useRef:Yv,useState:function(){return uu(ko)},useDebugValue:Yf,useDeferredValue:function(t){var e=At();return ex(e,Pe.memoizedState,t)},useTransition:function(){var t=uu(ko)[0],e=At().memoizedState;return[t,e]},useMutableSource:zv,useSyncExternalStore:Bv,useId:tx,unstable_isNewReconciler:!1},oC={readContext:Rt,useCallback:Jv,useContext:Rt,useEffect:Gf,useImperativeHandle:Xv,useInsertionEffect:Qv,useLayoutEffect:Kv,useMemo:Zv,useReducer:du,useRef:Yv,useState:function(){return du(ko)},useDebugValue:Yf,useDeferredValue:function(t){var e=At();return Pe===null?e.memoizedState=t:ex(e,Pe.memoizedState,t)},useTransition:function(){var t=du(ko)[0],e=At().memoizedState;return[t,e]},useMutableSource:zv,useSyncExternalStore:Bv,useId:tx,unstable_isNewReconciler:!1};function $t(t,e){if(t&&t.defaultProps){e=be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function cd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var sc={isMounted:function(t){return(t=t._reactInternals)?os(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tt(),s=dr(t),i=Sn(r,s);i.payload=e,n!=null&&(i.callback=n),e=cr(t,i,s),e!==null&&(Qt(e,t,s,r),Ua(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tt(),s=dr(t),i=Sn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=cr(t,i,s),e!==null&&(Qt(e,t,s,r),Ua(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tt(),r=dr(t),s=Sn(n,r);s.tag=2,e!=null&&(s.callback=e),e=cr(t,s,r),e!==null&&(Qt(e,t,r,n),Ua(e,t,r))}};function rm(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!wo(n,r)||!wo(s,i):!0}function ix(t,e,n){var r=!1,s=vr,i=e.contextType;return typeof i=="object"&&i!==null?i=Rt(i):(s=ut(e)?qr:Xe.current,r=e.contextTypes,i=(r=r!=null)?ei(t,s):vr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function sm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&sc.enqueueReplaceState(e,e.state,null)}function ud(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},$f(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Rt(i):(i=ut(e)?qr:Xe.current,s.context=ei(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(cd(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&sc.enqueueReplaceState(s,s.state,null),ml(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function si(t,e){try{var n="",r=e;do n+=Mb(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function fu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function dd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var aC=typeof WeakMap=="function"?WeakMap:Map;function ox(t,e,n){n=Sn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wl||(wl=!0,_d=r),dd(t,e)},n}function ax(t,e,n){n=Sn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){dd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){dd(t,e),typeof r!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function im(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new aC;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=_C.bind(null,t,e,n),e.then(t,t))}function om(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function am(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sn(-1,1),e.tag=2,cr(n,e,1))),n.lanes|=1),t)}var lC=jn.ReactCurrentOwner,at=!1;function Je(t,e,n,r){e.child=t===null?Dv(e,null,n,r):ni(e,t.child,n,r)}function lm(t,e,n,r,s){n=n.render;var i=e.ref;return Ds(e,s),r=Vf(t,e,n,r,i,s),n=Hf(),t!==null&&!at?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Tn(t,e,s)):(ye&&n&&Af(e),e.flags|=1,Je(t,e,r,s),e.child)}function cm(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!th(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,lx(t,e,i,r,s)):(t=Ka(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:wo,n(o,r)&&t.ref===e.ref)return Tn(t,e,s)}return e.flags|=1,t=fr(i,r),t.ref=e.ref,t.return=e,e.child=t}function lx(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(wo(i,r)&&t.ref===e.ref)if(at=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(at=!0);else return e.lanes=t.lanes,Tn(t,e,s)}return fd(t,e,n,r,s)}function cx(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Ps,pt),pt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fe(Ps,pt),pt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,fe(Ps,pt),pt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,fe(Ps,pt),pt|=r;return Je(t,e,s,n),e.child}function ux(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function fd(t,e,n,r,s){var i=ut(n)?qr:Xe.current;return i=ei(e,i),Ds(e,s),n=Vf(t,e,n,r,i,s),r=Hf(),t!==null&&!at?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Tn(t,e,s)):(ye&&r&&Af(e),e.flags|=1,Je(t,e,n,s),e.child)}function um(t,e,n,r,s){if(ut(n)){var i=!0;ul(e)}else i=!1;if(Ds(e,s),e.stateNode===null)Ga(t,e),ix(e,n,r),ud(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Rt(c):(c=ut(n)?qr:Xe.current,c=ei(e,c));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&sm(e,o,r,c),Gn=!1;var h=e.memoizedState;o.state=h,ml(e,r,o,s),l=e.memoizedState,a!==r||h!==l||ct.current||Gn?(typeof f=="function"&&(cd(e,n,f,r),l=e.memoizedState),(a=Gn||rm(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Fv(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:$t(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Rt(l):(l=ut(n)?qr:Xe.current,l=ei(e,l));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&sm(e,o,r,l),Gn=!1,h=e.memoizedState,o.state=h,ml(e,r,o,s);var g=e.memoizedState;a!==d||h!==g||ct.current||Gn?(typeof p=="function"&&(cd(e,n,p,r),g=e.memoizedState),(c=Gn||rm(e,n,c,r,h,g,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return hd(t,e,n,r,i,s)}function hd(t,e,n,r,s,i){ux(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Kp(e,n,!1),Tn(t,e,i);r=e.stateNode,lC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ni(e,t.child,null,i),e.child=ni(e,null,a,i)):Je(t,e,a,i),e.memoizedState=r.state,s&&Kp(e,n,!0),e.child}function dx(t){var e=t.stateNode;e.pendingContext?Qp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qp(t,e.context,!1),zf(t,e.containerInfo)}function dm(t,e,n,r,s){return ti(),Mf(s),e.flags|=256,Je(t,e,n,r),e.child}var pd={dehydrated:null,treeContext:null,retryLane:0};function md(t){return{baseLanes:t,cachePool:null,transitions:null}}function fx(t,e,n){var r=e.pendingProps,s=we.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),fe(we,s&1),t===null)return ad(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ac(o,r,0,null),t=Kr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=md(n),e.memoizedState=pd,t):Qf(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return cC(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=fr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=fr(a,i):(i=Kr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?md(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=pd,r}return i=t.child,t=i.sibling,r=fr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Qf(t,e){return e=ac({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Na(t,e,n,r){return r!==null&&Mf(r),ni(e,t.child,null,n),t=Qf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cC(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=fu(Error(O(422))),Na(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ac({mode:"visible",children:r.children},s,0,null),i=Kr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ni(e,t.child,null,o),e.child.memoizedState=md(o),e.memoizedState=pd,i);if(!(e.mode&1))return Na(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(O(419)),r=fu(i,r,void 0),Na(t,e,o,r)}if(a=(o&t.childLanes)!==0,at||a){if(r=$e,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,kn(t,s),Qt(r,t,s,-1))}return eh(),r=fu(Error(O(421))),Na(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=bC.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,gt=lr(s.nextSibling),yt=e,ye=!0,Vt=null,t!==null&&(Nt[kt++]=wn,Nt[kt++]=_n,Nt[kt++]=Xr,wn=t.id,_n=t.overflow,Xr=e),e=Qf(e,r.children),e.flags|=4096,e)}function fm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ld(t.return,e,n)}function hu(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function hx(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Je(t,e,r.children,n),r=we.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fm(t,n,e);else if(t.tag===19)fm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fe(we,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&gl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),hu(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&gl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}hu(e,!0,n,null,i);break;case"together":hu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ga(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Tn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=fr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function uC(t,e,n){switch(e.tag){case 3:dx(e),ti();break;case 5:$v(e);break;case 1:ut(e.type)&&ul(e);break;case 4:zf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;fe(hl,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(fe(we,we.current&1),e.flags|=128,null):n&e.child.childLanes?fx(t,e,n):(fe(we,we.current&1),t=Tn(t,e,n),t!==null?t.sibling:null);fe(we,we.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hx(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),fe(we,we.current),r)break;return null;case 22:case 23:return e.lanes=0,cx(t,e,n)}return Tn(t,e,n)}var px,gd,mx,gx;px=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gd=function(){};mx=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,zr(un.current);var i=null;switch(n){case"input":s=Fu(t,s),r=Fu(t,r),i=[];break;case"select":s=be({},s,{value:void 0}),r=be({},r,{value:void 0}),i=[];break;case"textarea":s=Bu(t,s),r=Bu(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ll)}Uu(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ho.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ho.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&pe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};gx=function(t,e,n,r){n!==r&&(e.flags|=4)};function Mi(t,e){if(!ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function dC(t,e,n){var r=e.pendingProps;switch(jf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(e),null;case 1:return ut(e.type)&&cl(),Ye(e),null;case 3:return r=e.stateNode,ri(),me(ct),me(Xe),Wf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ca(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vt!==null&&(Cd(Vt),Vt=null))),gd(t,e),Ye(e),null;case 5:Bf(e);var s=zr(Eo.current);if(n=e.type,t!==null&&e.stateNode!=null)mx(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return Ye(e),null}if(t=zr(un.current),Ca(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[an]=e,r[So]=i,t=(e.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(s=0;s<Qi.length;s++)pe(Qi[s],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":_p(r,i),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},pe("invalid",r);break;case"textarea":Sp(r,i),pe("invalid",r)}Uu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Sa(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Sa(r.textContent,a,t),s=["children",""+a]):ho.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&pe("scroll",r)}switch(n){case"input":ma(r),bp(r,i,!0);break;case"textarea":ma(r),Cp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ll)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Vy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[an]=e,t[So]=r,px(t,e,!1,!1),e.stateNode=t;e:{switch(o=Vu(n,r),n){case"dialog":pe("cancel",t),pe("close",t),s=r;break;case"iframe":case"object":case"embed":pe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Qi.length;s++)pe(Qi[s],t);s=r;break;case"source":pe("error",t),s=r;break;case"img":case"image":case"link":pe("error",t),pe("load",t),s=r;break;case"details":pe("toggle",t),s=r;break;case"input":_p(t,r),s=Fu(t,r),pe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=be({},r,{value:void 0}),pe("invalid",t);break;case"textarea":Sp(t,r),s=Bu(t,r),pe("invalid",t);break;default:s=r}Uu(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Yy(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Hy(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&po(t,l):typeof l=="number"&&po(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ho.hasOwnProperty(i)?l!=null&&i==="onScroll"&&pe("scroll",t):l!=null&&vf(t,i,l,o))}switch(n){case"input":ma(t),bp(t,r,!1);break;case"textarea":ma(t),Cp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?As(t,!!r.multiple,i,!1):r.defaultValue!=null&&As(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ll)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ye(e),null;case 6:if(t&&e.stateNode!=null)gx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=zr(Eo.current),zr(un.current),Ca(e)){if(r=e.stateNode,n=e.memoizedProps,r[an]=e,(i=r.nodeValue!==n)&&(t=yt,t!==null))switch(t.tag){case 3:Sa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sa(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[an]=e,e.stateNode=r}return Ye(e),null;case 13:if(me(we),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ye&&gt!==null&&e.mode&1&&!(e.flags&128))Mv(),ti(),e.flags|=98560,i=!1;else if(i=Ca(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(O(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(O(317));i[an]=e}else ti(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ye(e),i=!1}else Vt!==null&&(Cd(Vt),Vt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||we.current&1?Me===0&&(Me=3):eh())),e.updateQueue!==null&&(e.flags|=4),Ye(e),null);case 4:return ri(),gd(t,e),t===null&&_o(e.stateNode.containerInfo),Ye(e),null;case 10:return Lf(e.type._context),Ye(e),null;case 17:return ut(e.type)&&cl(),Ye(e),null;case 19:if(me(we),i=e.memoizedState,i===null)return Ye(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Mi(i,!1);else{if(Me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=gl(t),o!==null){for(e.flags|=128,Mi(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fe(we,we.current&1|2),e.child}t=t.sibling}i.tail!==null&&ke()>ii&&(e.flags|=128,r=!0,Mi(i,!1),e.lanes=4194304)}else{if(!r)if(t=gl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ye)return Ye(e),null}else 2*ke()-i.renderingStartTime>ii&&n!==1073741824&&(e.flags|=128,r=!0,Mi(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ke(),e.sibling=null,n=we.current,fe(we,r?n&1|2:n&1),e):(Ye(e),null);case 22:case 23:return Zf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?pt&1073741824&&(Ye(e),e.subtreeFlags&6&&(e.flags|=8192)):Ye(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function fC(t,e){switch(jf(e),e.tag){case 1:return ut(e.type)&&cl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ri(),me(ct),me(Xe),Wf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bf(e),null;case 13:if(me(we),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));ti()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return me(we),null;case 4:return ri(),null;case 10:return Lf(e.type._context),null;case 22:case 23:return Zf(),null;case 24:return null;default:return null}}var ka=!1,qe=!1,hC=typeof WeakSet=="function"?WeakSet:Set,V=null;function Is(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(t,e,r)}else n.current=null}function yd(t,e,n){try{n()}catch(r){Ce(t,e,r)}}var hm=!1;function pC(t,e){if(ed=il,t=_v(),Rf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,f=0,d=t,h=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++f===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(td={focusedElem:t,selectionRange:n},il=!1,V=e;V!==null;)if(e=V,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,V=t;else for(;V!==null;){e=V;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:$t(e.type,v),b);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(_){Ce(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}return g=hm,hm=!1,g}function no(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&yd(e,n,i)}s=s.next}while(s!==r)}}function ic(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function vd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function yx(t){var e=t.alternate;e!==null&&(t.alternate=null,yx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[an],delete e[So],delete e[sd],delete e[qS],delete e[XS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vx(t){return t.tag===5||t.tag===3||t.tag===4}function pm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ll));else if(r!==4&&(t=t.child,t!==null))for(xd(t,e,n),t=t.sibling;t!==null;)xd(t,e,n),t=t.sibling}function wd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wd(t,e,n),t=t.sibling;t!==null;)wd(t,e,n),t=t.sibling}var ze=null,Ut=!1;function Bn(t,e,n){for(n=n.child;n!==null;)xx(t,e,n),n=n.sibling}function xx(t,e,n){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Xl,n)}catch{}switch(n.tag){case 5:qe||Is(n,e);case 6:var r=ze,s=Ut;ze=null,Bn(t,e,n),ze=r,Ut=s,ze!==null&&(Ut?(t=ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(Ut?(t=ze,n=n.stateNode,t.nodeType===8?ou(t.parentNode,n):t.nodeType===1&&ou(t,n),vo(t)):ou(ze,n.stateNode));break;case 4:r=ze,s=Ut,ze=n.stateNode.containerInfo,Ut=!0,Bn(t,e,n),ze=r,Ut=s;break;case 0:case 11:case 14:case 15:if(!qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&yd(n,e,o),s=s.next}while(s!==r)}Bn(t,e,n);break;case 1:if(!qe&&(Is(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ce(n,e,a)}Bn(t,e,n);break;case 21:Bn(t,e,n);break;case 22:n.mode&1?(qe=(r=qe)||n.memoizedState!==null,Bn(t,e,n),qe=r):Bn(t,e,n);break;default:Bn(t,e,n)}}function mm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new hC),e.forEach(function(r){var s=SC.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Lt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ze=a.stateNode,Ut=!1;break e;case 3:ze=a.stateNode.containerInfo,Ut=!0;break e;case 4:ze=a.stateNode.containerInfo,Ut=!0;break e}a=a.return}if(ze===null)throw Error(O(160));xx(i,o,s),ze=null,Ut=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ce(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wx(e,t),e=e.sibling}function wx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Lt(e,t),tn(t),r&4){try{no(3,t,t.return),ic(3,t)}catch(v){Ce(t,t.return,v)}try{no(5,t,t.return)}catch(v){Ce(t,t.return,v)}}break;case 1:Lt(e,t),tn(t),r&512&&n!==null&&Is(n,n.return);break;case 5:if(Lt(e,t),tn(t),r&512&&n!==null&&Is(n,n.return),t.flags&32){var s=t.stateNode;try{po(s,"")}catch(v){Ce(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Wy(s,i),Vu(a,o);var c=Vu(a,i);for(o=0;o<l.length;o+=2){var f=l[o],d=l[o+1];f==="style"?Yy(s,d):f==="dangerouslySetInnerHTML"?Hy(s,d):f==="children"?po(s,d):vf(s,f,d,c)}switch(a){case"input":$u(s,i);break;case"textarea":Uy(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?As(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?As(s,!!i.multiple,i.defaultValue,!0):As(s,!!i.multiple,i.multiple?[]:"",!1))}s[So]=i}catch(v){Ce(t,t.return,v)}}break;case 6:if(Lt(e,t),tn(t),r&4){if(t.stateNode===null)throw Error(O(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Ce(t,t.return,v)}}break;case 3:if(Lt(e,t),tn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vo(e.containerInfo)}catch(v){Ce(t,t.return,v)}break;case 4:Lt(e,t),tn(t);break;case 13:Lt(e,t),tn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Xf=ke())),r&4&&mm(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(qe=(c=qe)||f,Lt(e,t),qe=c):Lt(e,t),tn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(V=t,f=t.child;f!==null;){for(d=V=f;V!==null;){switch(h=V,p=h.child,h.tag){case 0:case 11:case 14:case 15:no(4,h,h.return);break;case 1:Is(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Ce(r,n,v)}}break;case 5:Is(h,h.return);break;case 22:if(h.memoizedState!==null){ym(d);continue}}p!==null?(p.return=h,V=p):ym(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Gy("display",o))}catch(v){Ce(t,t.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Ce(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Lt(e,t),tn(t),r&4&&mm(t);break;case 21:break;default:Lt(e,t),tn(t)}}function tn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vx(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(po(s,""),r.flags&=-33);var i=pm(t);wd(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=pm(t);xd(t,a,o);break;default:throw Error(O(161))}}catch(l){Ce(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mC(t,e,n){V=t,_x(t)}function _x(t,e,n){for(var r=(t.mode&1)!==0;V!==null;){var s=V,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ka;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||qe;a=ka;var c=qe;if(ka=o,(qe=l)&&!c)for(V=s;V!==null;)o=V,l=o.child,o.tag===22&&o.memoizedState!==null?vm(s):l!==null?(l.return=o,V=l):vm(s);for(;i!==null;)V=i,_x(i),i=i.sibling;V=s,ka=a,qe=c}gm(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,V=i):gm(t)}}function gm(t){for(;V!==null;){var e=V;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qe||ic(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qe)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:$t(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&em(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}em(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&vo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}qe||e.flags&512&&vd(e)}catch(h){Ce(e,e.return,h)}}if(e===t){V=null;break}if(n=e.sibling,n!==null){n.return=e.return,V=n;break}V=e.return}}function ym(t){for(;V!==null;){var e=V;if(e===t){V=null;break}var n=e.sibling;if(n!==null){n.return=e.return,V=n;break}V=e.return}}function vm(t){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ic(4,e)}catch(l){Ce(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ce(e,s,l)}}var i=e.return;try{vd(e)}catch(l){Ce(e,i,l)}break;case 5:var o=e.return;try{vd(e)}catch(l){Ce(e,o,l)}}}catch(l){Ce(e,e.return,l)}if(e===t){V=null;break}var a=e.sibling;if(a!==null){a.return=e.return,V=a;break}V=e.return}}var gC=Math.ceil,xl=jn.ReactCurrentDispatcher,Kf=jn.ReactCurrentOwner,Pt=jn.ReactCurrentBatchConfig,se=0,$e=null,Ie=null,We=0,pt=0,Ps=kr(0),Me=0,Io=null,Zr=0,oc=0,qf=0,ro=null,ot=null,Xf=0,ii=1/0,yn=null,wl=!1,_d=null,ur=null,Ta=!1,nr=null,_l=0,so=0,bd=null,Ya=-1,Qa=0;function tt(){return se&6?ke():Ya!==-1?Ya:Ya=ke()}function dr(t){return t.mode&1?se&2&&We!==0?We&-We:ZS.transition!==null?(Qa===0&&(Qa=iv()),Qa):(t=oe,t!==0||(t=window.event,t=t===void 0?16:fv(t.type)),t):1}function Qt(t,e,n,r){if(50<so)throw so=0,bd=null,Error(O(185));Qo(t,n,r),(!(se&2)||t!==$e)&&(t===$e&&(!(se&2)&&(oc|=n),Me===4&&Qn(t,We)),dt(t,r),n===1&&se===0&&!(e.mode&1)&&(ii=ke()+500,nc&&Tr()))}function dt(t,e){var n=t.callbackNode;Zb(t,e);var r=sl(t,t===$e?We:0);if(r===0)n!==null&&kp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&kp(n),e===1)t.tag===0?JS(xm.bind(null,t)):Rv(xm.bind(null,t)),QS(function(){!(se&6)&&Tr()}),n=null;else{switch(ov(r)){case 1:n=Sf;break;case 4:n=rv;break;case 16:n=rl;break;case 536870912:n=sv;break;default:n=rl}n=Ix(n,bx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bx(t,e){if(Ya=-1,Qa=0,se&6)throw Error(O(327));var n=t.callbackNode;if(Ls()&&t.callbackNode!==n)return null;var r=sl(t,t===$e?We:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bl(t,r);else{e=r;var s=se;se|=2;var i=Cx();($e!==t||We!==e)&&(yn=null,ii=ke()+500,Qr(t,e));do try{xC();break}catch(a){Sx(t,a)}while(!0);Df(),xl.current=i,se=s,Ie!==null?e=0:($e=null,We=0,e=Me)}if(e!==0){if(e===2&&(s=Ku(t),s!==0&&(r=s,e=Sd(t,s))),e===1)throw n=Io,Qr(t,0),Qn(t,r),dt(t,ke()),n;if(e===6)Qn(t,r);else{if(s=t.current.alternate,!(r&30)&&!yC(s)&&(e=bl(t,r),e===2&&(i=Ku(t),i!==0&&(r=i,e=Sd(t,i))),e===1))throw n=Io,Qr(t,0),Qn(t,r),dt(t,ke()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:Or(t,ot,yn);break;case 3:if(Qn(t,r),(r&130023424)===r&&(e=Xf+500-ke(),10<e)){if(sl(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){tt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=rd(Or.bind(null,t,ot,yn),e);break}Or(t,ot,yn);break;case 4:if(Qn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Yt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gC(r/1960))-r,10<r){t.timeoutHandle=rd(Or.bind(null,t,ot,yn),r);break}Or(t,ot,yn);break;case 5:Or(t,ot,yn);break;default:throw Error(O(329))}}}return dt(t,ke()),t.callbackNode===n?bx.bind(null,t):null}function Sd(t,e){var n=ro;return t.current.memoizedState.isDehydrated&&(Qr(t,e).flags|=256),t=bl(t,e),t!==2&&(e=ot,ot=n,e!==null&&Cd(e)),t}function Cd(t){ot===null?ot=t:ot.push.apply(ot,t)}function yC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!qt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qn(t,e){for(e&=~qf,e&=~oc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yt(e),r=1<<n;t[n]=-1,e&=~r}}function xm(t){if(se&6)throw Error(O(327));Ls();var e=sl(t,0);if(!(e&1))return dt(t,ke()),null;var n=bl(t,e);if(t.tag!==0&&n===2){var r=Ku(t);r!==0&&(e=r,n=Sd(t,r))}if(n===1)throw n=Io,Qr(t,0),Qn(t,e),dt(t,ke()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Or(t,ot,yn),dt(t,ke()),null}function Jf(t,e){var n=se;se|=1;try{return t(e)}finally{se=n,se===0&&(ii=ke()+500,nc&&Tr())}}function es(t){nr!==null&&nr.tag===0&&!(se&6)&&Ls();var e=se;se|=1;var n=Pt.transition,r=oe;try{if(Pt.transition=null,oe=1,t)return t()}finally{oe=r,Pt.transition=n,se=e,!(se&6)&&Tr()}}function Zf(){pt=Ps.current,me(Ps)}function Qr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,YS(n)),Ie!==null)for(n=Ie.return;n!==null;){var r=n;switch(jf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cl();break;case 3:ri(),me(ct),me(Xe),Wf();break;case 5:Bf(r);break;case 4:ri();break;case 13:me(we);break;case 19:me(we);break;case 10:Lf(r.type._context);break;case 22:case 23:Zf()}n=n.return}if($e=t,Ie=t=fr(t.current,null),We=pt=e,Me=0,Io=null,qf=oc=Zr=0,ot=ro=null,$r!==null){for(e=0;e<$r.length;e++)if(n=$r[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}$r=null}return t}function Sx(t,e){do{var n=Ie;try{if(Df(),Va.current=vl,yl){for(var r=_e.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}yl=!1}if(Jr=0,Le=Pe=_e=null,to=!1,No=0,Kf.current=null,n===null||n.return===null){Me=1,Io=e,Ie=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=We,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=om(o);if(p!==null){p.flags&=-257,am(p,o,a,i,e),p.mode&1&&im(i,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){im(i,c,e),eh();break e}l=Error(O(426))}}else if(ye&&a.mode&1){var b=om(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),am(b,o,a,i,e),Mf(si(l,a));break e}}i=l=si(l,a),Me!==4&&(Me=2),ro===null?ro=[i]:ro.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=ox(i,l,e);Zp(i,y);break e;case 1:a=l;var m=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ur===null||!ur.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=ax(i,a,e);Zp(i,_);break e}}i=i.return}while(i!==null)}Nx(n)}catch(S){e=S,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(!0)}function Cx(){var t=xl.current;return xl.current=vl,t===null?vl:t}function eh(){(Me===0||Me===3||Me===2)&&(Me=4),$e===null||!(Zr&268435455)&&!(oc&268435455)||Qn($e,We)}function bl(t,e){var n=se;se|=2;var r=Cx();($e!==t||We!==e)&&(yn=null,Qr(t,e));do try{vC();break}catch(s){Sx(t,s)}while(!0);if(Df(),se=n,xl.current=r,Ie!==null)throw Error(O(261));return $e=null,We=0,Me}function vC(){for(;Ie!==null;)Ex(Ie)}function xC(){for(;Ie!==null&&!Vb();)Ex(Ie)}function Ex(t){var e=Tx(t.alternate,t,pt);t.memoizedProps=t.pendingProps,e===null?Nx(t):Ie=e,Kf.current=null}function Nx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fC(n,e),n!==null){n.flags&=32767,Ie=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Me=6,Ie=null;return}}else if(n=dC(n,e,pt),n!==null){Ie=n;return}if(e=e.sibling,e!==null){Ie=e;return}Ie=e=t}while(e!==null);Me===0&&(Me=5)}function Or(t,e,n){var r=oe,s=Pt.transition;try{Pt.transition=null,oe=1,wC(t,e,n,r)}finally{Pt.transition=s,oe=r}return null}function wC(t,e,n,r){do Ls();while(nr!==null);if(se&6)throw Error(O(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(eS(t,i),t===$e&&(Ie=$e=null,We=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ta||(Ta=!0,Ix(rl,function(){return Ls(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Pt.transition,Pt.transition=null;var o=oe;oe=1;var a=se;se|=4,Kf.current=null,pC(t,n),wx(n,t),zS(td),il=!!ed,td=ed=null,t.current=n,mC(n),Hb(),se=a,oe=o,Pt.transition=i}else t.current=n;if(Ta&&(Ta=!1,nr=t,_l=s),i=t.pendingLanes,i===0&&(ur=null),Qb(n.stateNode),dt(t,ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(wl)throw wl=!1,t=_d,_d=null,t;return _l&1&&t.tag!==0&&Ls(),i=t.pendingLanes,i&1?t===bd?so++:(so=0,bd=t):so=0,Tr(),null}function Ls(){if(nr!==null){var t=ov(_l),e=Pt.transition,n=oe;try{if(Pt.transition=null,oe=16>t?16:t,nr===null)var r=!1;else{if(t=nr,nr=null,_l=0,se&6)throw Error(O(331));var s=se;for(se|=4,V=t.current;V!==null;){var i=V,o=i.child;if(V.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(V=c;V!==null;){var f=V;switch(f.tag){case 0:case 11:case 15:no(8,f,i)}var d=f.child;if(d!==null)d.return=f,V=d;else for(;V!==null;){f=V;var h=f.sibling,p=f.return;if(yx(f),f===c){V=null;break}if(h!==null){h.return=p,V=h;break}V=p}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}V=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,V=o;else e:for(;V!==null;){if(i=V,i.flags&2048)switch(i.tag){case 0:case 11:case 15:no(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,V=y;break e}V=i.return}}var m=t.current;for(V=m;V!==null;){o=V;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,V=x;else e:for(o=m;V!==null;){if(a=V,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ic(9,a)}}catch(S){Ce(a,a.return,S)}if(a===o){V=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,V=_;break e}V=a.return}}if(se=s,Tr(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Xl,t)}catch{}r=!0}return r}finally{oe=n,Pt.transition=e}}return!1}function wm(t,e,n){e=si(n,e),e=ox(t,e,1),t=cr(t,e,1),e=tt(),t!==null&&(Qo(t,1,e),dt(t,e))}function Ce(t,e,n){if(t.tag===3)wm(t,t,n);else for(;e!==null;){if(e.tag===3){wm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ur===null||!ur.has(r))){t=si(n,t),t=ax(e,t,1),e=cr(e,t,1),t=tt(),e!==null&&(Qo(e,1,t),dt(e,t));break}}e=e.return}}function _C(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tt(),t.pingedLanes|=t.suspendedLanes&n,$e===t&&(We&n)===n&&(Me===4||Me===3&&(We&130023424)===We&&500>ke()-Xf?Qr(t,0):qf|=n),dt(t,e)}function kx(t,e){e===0&&(t.mode&1?(e=va,va<<=1,!(va&130023424)&&(va=4194304)):e=1);var n=tt();t=kn(t,e),t!==null&&(Qo(t,e,n),dt(t,n))}function bC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),kx(t,n)}function SC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),kx(t,n)}var Tx;Tx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ct.current)at=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return at=!1,uC(t,e,n);at=!!(t.flags&131072)}else at=!1,ye&&e.flags&1048576&&Av(e,fl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ga(t,e),t=e.pendingProps;var s=ei(e,Xe.current);Ds(e,n),s=Vf(null,e,r,t,s,n);var i=Hf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ut(r)?(i=!0,ul(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$f(e),s.updater=sc,e.stateNode=s,s._reactInternals=e,ud(e,r,t,n),e=hd(null,e,r,!0,i,n)):(e.tag=0,ye&&i&&Af(e),Je(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ga(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=EC(r),t=$t(r,t),s){case 0:e=fd(null,e,r,t,n);break e;case 1:e=um(null,e,r,t,n);break e;case 11:e=lm(null,e,r,t,n);break e;case 14:e=cm(null,e,r,$t(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$t(r,s),fd(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$t(r,s),um(t,e,r,s,n);case 3:e:{if(dx(e),t===null)throw Error(O(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Fv(t,e),ml(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=si(Error(O(423)),e),e=dm(t,e,r,n,s);break e}else if(r!==s){s=si(Error(O(424)),e),e=dm(t,e,r,n,s);break e}else for(gt=lr(e.stateNode.containerInfo.firstChild),yt=e,ye=!0,Vt=null,n=Dv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ti(),r===s){e=Tn(t,e,n);break e}Je(t,e,r,n)}e=e.child}return e;case 5:return $v(e),t===null&&ad(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,nd(r,s)?o=null:i!==null&&nd(r,i)&&(e.flags|=32),ux(t,e),Je(t,e,o,n),e.child;case 6:return t===null&&ad(e),null;case 13:return fx(t,e,n);case 4:return zf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ni(e,null,r,n):Je(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$t(r,s),lm(t,e,r,s,n);case 7:return Je(t,e,e.pendingProps,n),e.child;case 8:return Je(t,e,e.pendingProps.children,n),e.child;case 12:return Je(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,fe(hl,r._currentValue),r._currentValue=o,i!==null)if(qt(i.value,o)){if(i.children===s.children&&!ct.current){e=Tn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Sn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ld(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(O(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ld(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Je(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ds(e,n),s=Rt(s),r=r(s),e.flags|=1,Je(t,e,r,n),e.child;case 14:return r=e.type,s=$t(r,e.pendingProps),s=$t(r.type,s),cm(t,e,r,s,n);case 15:return lx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$t(r,s),Ga(t,e),e.tag=1,ut(r)?(t=!0,ul(e)):t=!1,Ds(e,n),ix(e,r,s),ud(e,r,s,n),hd(null,e,r,!0,t,n);case 19:return hx(t,e,n);case 22:return cx(t,e,n)}throw Error(O(156,e.tag))};function Ix(t,e){return nv(t,e)}function CC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(t,e,n,r){return new CC(t,e,n,r)}function th(t){return t=t.prototype,!(!t||!t.isReactComponent)}function EC(t){if(typeof t=="function")return th(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wf)return 11;if(t===_f)return 14}return 2}function fr(t,e){var n=t.alternate;return n===null?(n=Tt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ka(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")th(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ws:return Kr(n.children,s,i,e);case xf:o=8,s|=8;break;case Mu:return t=Tt(12,n,e,s|2),t.elementType=Mu,t.lanes=i,t;case Ou:return t=Tt(13,n,e,s),t.elementType=Ou,t.lanes=i,t;case Du:return t=Tt(19,n,e,s),t.elementType=Du,t.lanes=i,t;case $y:return ac(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ly:o=10;break e;case Fy:o=9;break e;case wf:o=11;break e;case _f:o=14;break e;case Hn:o=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=Tt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Kr(t,e,n,r){return t=Tt(7,t,r,e),t.lanes=n,t}function ac(t,e,n,r){return t=Tt(22,t,r,e),t.elementType=$y,t.lanes=n,t.stateNode={isHidden:!1},t}function pu(t,e,n){return t=Tt(6,t,null,e),t.lanes=n,t}function mu(t,e,n){return e=Tt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function NC(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kc(0),this.expirationTimes=Kc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function nh(t,e,n,r,s,i,o,a,l){return t=new NC(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Tt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$f(i),t}function kC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Px(t){if(!t)return vr;t=t._reactInternals;e:{if(os(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(ut(n))return Pv(t,n,e)}return e}function Rx(t,e,n,r,s,i,o,a,l){return t=nh(n,r,!0,t,s,i,o,a,l),t.context=Px(null),n=t.current,r=tt(),s=dr(n),i=Sn(r,s),i.callback=e??null,cr(n,i,s),t.current.lanes=s,Qo(t,s,r),dt(t,r),t}function lc(t,e,n,r){var s=e.current,i=tt(),o=dr(s);return n=Px(n),e.context===null?e.context=n:e.pendingContext=n,e=Sn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=cr(s,e,o),t!==null&&(Qt(t,s,o,i),Ua(t,s,o)),o}function Sl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _m(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rh(t,e){_m(t,e),(t=t.alternate)&&_m(t,e)}function TC(){return null}var Ax=typeof reportError=="function"?reportError:function(t){console.error(t)};function sh(t){this._internalRoot=t}cc.prototype.render=sh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));lc(t,e,null,null)};cc.prototype.unmount=sh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;es(function(){lc(null,t,null,null)}),e[Nn]=null}};function cc(t){this._internalRoot=t}cc.prototype.unstable_scheduleHydration=function(t){if(t){var e=cv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yn.length&&e!==0&&e<Yn[n].priority;n++);Yn.splice(n,0,t),n===0&&dv(t)}};function ih(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function uc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bm(){}function IC(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Sl(o);i.call(c)}}var o=Rx(e,r,t,0,null,!1,!1,"",bm);return t._reactRootContainer=o,t[Nn]=o.current,_o(t.nodeType===8?t.parentNode:t),es(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Sl(l);a.call(c)}}var l=nh(t,0,!1,null,null,!1,!1,"",bm);return t._reactRootContainer=l,t[Nn]=l.current,_o(t.nodeType===8?t.parentNode:t),es(function(){lc(e,l,n,r)}),l}function dc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Sl(o);a.call(l)}}lc(e,o,t,s)}else o=IC(n,e,t,s,r);return Sl(o)}av=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yi(e.pendingLanes);n!==0&&(Cf(e,n|1),dt(e,ke()),!(se&6)&&(ii=ke()+500,Tr()))}break;case 13:es(function(){var r=kn(t,1);if(r!==null){var s=tt();Qt(r,t,1,s)}}),rh(t,1)}};Ef=function(t){if(t.tag===13){var e=kn(t,134217728);if(e!==null){var n=tt();Qt(e,t,134217728,n)}rh(t,134217728)}};lv=function(t){if(t.tag===13){var e=dr(t),n=kn(t,e);if(n!==null){var r=tt();Qt(n,t,e,r)}rh(t,e)}};cv=function(){return oe};uv=function(t,e){var n=oe;try{return oe=t,e()}finally{oe=n}};Gu=function(t,e,n){switch(e){case"input":if($u(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=tc(r);if(!s)throw Error(O(90));By(r),$u(r,s)}}}break;case"textarea":Uy(t,n);break;case"select":e=n.value,e!=null&&As(t,!!n.multiple,e,!1)}};qy=Jf;Xy=es;var PC={usingClientEntryPoint:!1,Events:[qo,Cs,tc,Qy,Ky,Jf]},Oi={findFiberByHostInstance:Fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RC={bundleType:Oi.bundleType,version:Oi.version,rendererPackageName:Oi.rendererPackageName,rendererConfig:Oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ev(t),t===null?null:t.stateNode},findFiberByHostInstance:Oi.findFiberByHostInstance||TC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ia.isDisabled&&Ia.supportsFiber)try{Xl=Ia.inject(RC),cn=Ia}catch{}}wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PC;wt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ih(e))throw Error(O(200));return kC(t,e,null,n)};wt.createRoot=function(t,e){if(!ih(t))throw Error(O(299));var n=!1,r="",s=Ax;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=nh(t,1,!1,null,null,n,!1,r,s),t[Nn]=e.current,_o(t.nodeType===8?t.parentNode:t),new sh(e)};wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=ev(e),t=t===null?null:t.stateNode,t};wt.flushSync=function(t){return es(t)};wt.hydrate=function(t,e,n){if(!uc(e))throw Error(O(200));return dc(null,t,e,!0,n)};wt.hydrateRoot=function(t,e,n){if(!ih(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ax;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Rx(e,null,t,1,n??null,s,!1,i,o),t[Nn]=e.current,_o(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new cc(e)};wt.render=function(t,e,n){if(!uc(e))throw Error(O(200));return dc(null,t,e,!1,n)};wt.unmountComponentAtNode=function(t){if(!uc(t))throw Error(O(40));return t._reactRootContainer?(es(function(){dc(null,null,t,!1,function(){t._reactRootContainer=null,t[Nn]=null})}),!0):!1};wt.unstable_batchedUpdates=Jf;wt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!uc(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return dc(t,e,n,!1,r)};wt.version="18.3.1-next-f1338f8080-20240426";function jx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jx)}catch(t){console.error(t)}}jx(),jy.exports=wt;var Jo=jy.exports;const Mx=wy(Jo);var Ox,Sm=Jo;Ox=Sm.createRoot,Sm.hydrateRoot;const AC=1,jC=1e6;let gu=0;function MC(){return gu=(gu+1)%Number.MAX_SAFE_INTEGER,gu.toString()}const yu=new Map,Cm=t=>{if(yu.has(t))return;const e=setTimeout(()=>{yu.delete(t),io({type:"REMOVE_TOAST",toastId:t})},jC);yu.set(t,e)},OC=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,AC)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Cm(n):t.toasts.forEach(r=>{Cm(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},qa=[];let Xa={toasts:[]};function io(t){Xa=OC(Xa,t),qa.forEach(e=>{e(Xa)})}function DC({...t}){const e=MC(),n=s=>io({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>io({type:"DISMISS_TOAST",toastId:e});return io({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function LC(){const[t,e]=w.useState(Xa);return w.useEffect(()=>(qa.push(e),()=>{const n=qa.indexOf(e);n>-1&&qa.splice(n,1)}),[t]),{...t,toast:DC,dismiss:n=>io({type:"DISMISS_TOAST",toastId:n})}}function Re(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Em(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function oh(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Em(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Em(t[s],null)}}}}function Xt(...t){return w.useCallback(oh(...t),t)}function fc(t,e=[]){let n=[];function r(i,o){const a=w.createContext(o),l=n.length;n=[...n,o];const c=d=>{var y;const{scope:h,children:p,...g}=d,v=((y=h==null?void 0:h[t])==null?void 0:y[l])||a,b=w.useMemo(()=>g,Object.values(g));return u.jsx(v.Provider,{value:b,children:p})};c.displayName=i+"Provider";function f(d,h){var v;const p=((v=h==null?void 0:h[t])==null?void 0:v[l])||a,g=w.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,f]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,FC(s,...e)]}function FC(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Nm(t){const e=$C(t),n=w.forwardRef((r,s)=>{const{children:i,...o}=r,a=w.Children.toArray(i),l=a.find(BC);if(l){const c=l.props.children,f=a.map(d=>d===l?w.Children.count(c)>1?w.Children.only(null):w.isValidElement(c)?c.props.children:null:d);return u.jsx(e,{...o,ref:s,children:w.isValidElement(c)?w.cloneElement(c,void 0,f):null})}return u.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function $C(t){const e=w.forwardRef((n,r)=>{const{children:s,...i}=n;if(w.isValidElement(s)){const o=UC(s),a=WC(i,s.props);return s.type!==w.Fragment&&(a.ref=r?oh(r,o):o),w.cloneElement(s,a)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var zC=Symbol("radix.slottable");function BC(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===zC}function WC(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function UC(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function VC(t){const e=t+"CollectionProvider",[n,r]=fc(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:b,children:y}=v,m=F.useRef(null),x=F.useRef(new Map).current;return u.jsx(s,{scope:b,itemMap:x,collectionRef:m,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=Nm(a),c=F.forwardRef((v,b)=>{const{scope:y,children:m}=v,x=i(a,y),_=Xt(b,x.collectionRef);return u.jsx(l,{ref:_,children:m})});c.displayName=a;const f=t+"CollectionItemSlot",d="data-radix-collection-item",h=Nm(f),p=F.forwardRef((v,b)=>{const{scope:y,children:m,...x}=v,_=F.useRef(null),S=Xt(b,_),C=i(f,y);return F.useEffect(()=>(C.itemMap.set(_,{ref:_,...x}),()=>void C.itemMap.delete(_))),u.jsx(h,{[d]:"",ref:S,children:m})});p.displayName=f;function g(v){const b=i(t+"CollectionConsumer",v);return F.useCallback(()=>{const m=b.collectionRef.current;if(!m)return[];const x=Array.from(m.querySelectorAll(`[${d}]`));return Array.from(b.itemMap.values()).sort((C,E)=>x.indexOf(C.ref.current)-x.indexOf(E.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},g,r]}function HC(t){const e=GC(t),n=w.forwardRef((r,s)=>{const{children:i,...o}=r,a=w.Children.toArray(i),l=a.find(QC);if(l){const c=l.props.children,f=a.map(d=>d===l?w.Children.count(c)>1?w.Children.only(null):w.isValidElement(c)?c.props.children:null:d);return u.jsx(e,{...o,ref:s,children:w.isValidElement(c)?w.cloneElement(c,void 0,f):null})}return u.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function GC(t){const e=w.forwardRef((n,r)=>{const{children:s,...i}=n;if(w.isValidElement(s)){const o=qC(s),a=KC(i,s.props);return s.type!==w.Fragment&&(a.ref=r?oh(r,o):o),w.cloneElement(s,a)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var YC=Symbol("radix.slottable");function QC(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===YC}function KC(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function qC(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var XC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ht=XC.reduce((t,e)=>{const n=HC(`Primitive.${e}`),r=w.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Dx(t,e){t&&Jo.flushSync(()=>t.dispatchEvent(e))}function xr(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function JC(t,e=globalThis==null?void 0:globalThis.document){const n=xr(t);w.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var ZC="DismissableLayer",Ed="dismissableLayer.update",eE="dismissableLayer.pointerDownOutside",tE="dismissableLayer.focusOutside",km,Lx=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ah=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=w.useContext(Lx),[f,d]=w.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=w.useState({}),g=Xt(e,E=>d(E)),v=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(b),m=f?v.indexOf(f):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,_=m>=y,S=rE(E=>{const k=E.target,T=[...c.branches].some(N=>N.contains(k));!_||T||(s==null||s(E),o==null||o(E),E.defaultPrevented||a==null||a())},h),C=sE(E=>{const k=E.target;[...c.branches].some(N=>N.contains(k))||(i==null||i(E),o==null||o(E),E.defaultPrevented||a==null||a())},h);return JC(E=>{m===c.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},h),w.useEffect(()=>{if(f)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(km=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),Tm(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=km)}},[f,h,n,c]),w.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),Tm())},[f,c]),w.useEffect(()=>{const E=()=>p({});return document.addEventListener(Ed,E),()=>document.removeEventListener(Ed,E)},[]),u.jsx(ht.div,{...l,ref:g,style:{pointerEvents:x?_?"auto":"none":void 0,...t.style},onFocusCapture:Re(t.onFocusCapture,C.onFocusCapture),onBlurCapture:Re(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Re(t.onPointerDownCapture,S.onPointerDownCapture)})});ah.displayName=ZC;var nE="DismissableLayerBranch",Fx=w.forwardRef((t,e)=>{const n=w.useContext(Lx),r=w.useRef(null),s=Xt(e,r);return w.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(ht.div,{...t,ref:s})});Fx.displayName=nE;function rE(t,e=globalThis==null?void 0:globalThis.document){const n=xr(t),r=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){$x(eE,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function sE(t,e=globalThis==null?void 0:globalThis.document){const n=xr(t),r=w.useRef(!1);return w.useEffect(()=>{const s=i=>{i.target&&!r.current&&$x(tE,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Tm(){const t=new CustomEvent(Ed);document.dispatchEvent(t)}function $x(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Dx(s,i):s.dispatchEvent(i)}var iE=ah,oE=Fx,wr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},aE="Portal",zx=w.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=w.useState(!1);wr(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Mx.createPortal(u.jsx(ht.div,{...r,ref:e}),o):null});zx.displayName=aE;function lE(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var lh=t=>{const{present:e,children:n}=t,r=cE(e),s=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),i=Xt(r.ref,uE(s));return typeof n=="function"||r.isPresent?w.cloneElement(s,{ref:i}):null};lh.displayName="Presence";function cE(t){const[e,n]=w.useState(),r=w.useRef(null),s=w.useRef(t),i=w.useRef("none"),o=t?"mounted":"unmounted",[a,l]=lE(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=Pa(r.current);i.current=a==="mounted"?c:"none"},[a]),wr(()=>{const c=r.current,f=s.current;if(f!==t){const h=i.current,p=Pa(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(f&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),wr(()=>{if(e){let c;const f=e.ownerDocument.defaultView??window,d=p=>{const v=Pa(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&v&&(l("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},h=p=>{p.target===e&&(i.current=Pa(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{f.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Pa(t){return(t==null?void 0:t.animationName)||"none"}function uE(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var dE=Ry[" useInsertionEffect ".trim().toString()]||wr;function fE({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=hE({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const f=w.useRef(t!==void 0);w.useEffect(()=>{const d=f.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,r])}const c=w.useCallback(f=>{var d;if(a){const h=pE(f)?f(t):f;h!==t&&((d=o.current)==null||d.call(o,h))}else i(f)},[a,t,i,o]);return[l,c]}function hE({defaultProp:t,onChange:e}){const[n,r]=w.useState(t),s=w.useRef(n),i=w.useRef(e);return dE(()=>{i.current=e},[e]),w.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function pE(t){return typeof t=="function"}var mE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),gE="VisuallyHidden",hc=w.forwardRef((t,e)=>u.jsx(ht.span,{...t,ref:e,style:{...mE,...t.style}}));hc.displayName=gE;var yE=hc,ch="ToastProvider",[uh,vE,xE]=VC("Toast"),[Bx]=fc("Toast",[xE]),[wE,pc]=Bx(ch),Wx=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=w.useState(null),[c,f]=w.useState(0),d=w.useRef(!1),h=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ch}\`. Expected non-empty \`string\`.`),u.jsx(uh.Provider,{scope:e,children:u.jsx(wE,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:w.useCallback(()=>f(p=>p+1),[]),onToastRemove:w.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};Wx.displayName=ch;var Ux="ToastViewport",_E=["F8"],Nd="toast.viewportPause",kd="toast.viewportResume",Vx=w.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=_E,label:s="Notifications ({hotkey})",...i}=t,o=pc(Ux,n),a=vE(n),l=w.useRef(null),c=w.useRef(null),f=w.useRef(null),d=w.useRef(null),h=Xt(e,d,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;w.useEffect(()=>{const b=y=>{var x;r.length!==0&&r.every(_=>y[_]||y.code===_)&&((x=d.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),w.useEffect(()=>{const b=l.current,y=d.current;if(g&&b&&y){const m=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(Nd);y.dispatchEvent(C),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(kd);y.dispatchEvent(C),o.isClosePausedRef.current=!1}},_=C=>{!b.contains(C.relatedTarget)&&x()},S=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",m),b.addEventListener("focusout",_),b.addEventListener("pointermove",m),b.addEventListener("pointerleave",S),window.addEventListener("blur",m),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",m),b.removeEventListener("focusout",_),b.removeEventListener("pointermove",m),b.removeEventListener("pointerleave",S),window.removeEventListener("blur",m),window.removeEventListener("focus",x)}}},[g,o.isClosePausedRef]);const v=w.useCallback(({tabbingDirection:b})=>{const m=a().map(x=>{const _=x.ref.current,S=[_,...ME(_)];return b==="forwards"?S:S.reverse()});return(b==="forwards"?m.reverse():m).flat()},[a]);return w.useEffect(()=>{const b=d.current;if(b){const y=m=>{var S,C,E;const x=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!x){const k=document.activeElement,T=m.shiftKey;if(m.target===b&&T){(S=c.current)==null||S.focus();return}const A=v({tabbingDirection:T?"backwards":"forwards"}),D=A.findIndex(j=>j===k);vu(A.slice(D+1))?m.preventDefault():T?(C=c.current)==null||C.focus():(E=f.current)==null||E.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[a,v]),u.jsxs(oE,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&u.jsx(Td,{ref:c,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});vu(b)}}),u.jsx(uh.Slot,{scope:n,children:u.jsx(ht.ol,{tabIndex:-1,...i,ref:h})}),g&&u.jsx(Td,{ref:f,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});vu(b)}})]})});Vx.displayName=Ux;var Hx="ToastFocusProxy",Td=w.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=pc(Hx,n);return u.jsx(hc,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Td.displayName=Hx;var Zo="Toast",bE="toast.swipeStart",SE="toast.swipeMove",CE="toast.swipeCancel",EE="toast.swipeEnd",Gx=w.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=fE({prop:r,defaultProp:s??!0,onChange:i,caller:Zo});return u.jsx(lh,{present:n||a,children:u.jsx(TE,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:xr(t.onPause),onResume:xr(t.onResume),onSwipeStart:Re(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Re(t.onSwipeMove,c=>{const{x:f,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Re(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Re(t.onSwipeEnd,c=>{const{x:f,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});Gx.displayName=Zo;var[NE,kE]=Bx(Zo,{onClose(){}}),TE=w.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:p,...g}=t,v=pc(Zo,n),[b,y]=w.useState(null),m=Xt(e,j=>y(j)),x=w.useRef(null),_=w.useRef(null),S=s||v.duration,C=w.useRef(0),E=w.useRef(S),k=w.useRef(0),{onToastAdd:T,onToastRemove:N}=v,M=xr(()=>{var L;(b==null?void 0:b.contains(document.activeElement))&&((L=v.viewport)==null||L.focus()),o()}),A=w.useCallback(j=>{!j||j===1/0||(window.clearTimeout(k.current),C.current=new Date().getTime(),k.current=window.setTimeout(M,j))},[M]);w.useEffect(()=>{const j=v.viewport;if(j){const L=()=>{A(E.current),c==null||c()},W=()=>{const U=new Date().getTime()-C.current;E.current=E.current-U,window.clearTimeout(k.current),l==null||l()};return j.addEventListener(Nd,W),j.addEventListener(kd,L),()=>{j.removeEventListener(Nd,W),j.removeEventListener(kd,L)}}},[v.viewport,S,l,c,A]),w.useEffect(()=>{i&&!v.isClosePausedRef.current&&A(S)},[i,S,v.isClosePausedRef,A]),w.useEffect(()=>(T(),()=>N()),[T,N]);const D=w.useMemo(()=>b?Zx(b):null,[b]);return v.viewport?u.jsxs(u.Fragment,{children:[D&&u.jsx(IE,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:D}),u.jsx(NE,{scope:n,onClose:M,children:Jo.createPortal(u.jsx(uh.ItemSlot,{scope:n,children:u.jsx(iE,{asChild:!0,onEscapeKeyDown:Re(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||M(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(ht.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...g,ref:m,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Re(t.onKeyDown,j=>{j.key==="Escape"&&(a==null||a(j.nativeEvent),j.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:Re(t.onPointerDown,j=>{j.button===0&&(x.current={x:j.clientX,y:j.clientY})}),onPointerMove:Re(t.onPointerMove,j=>{if(!x.current)return;const L=j.clientX-x.current.x,W=j.clientY-x.current.y,U=!!_.current,I=["left","right"].includes(v.swipeDirection),P=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,z=I?P(0,L):0,H=I?0:P(0,W),B=j.pointerType==="touch"?10:2,Y={x:z,y:H},Q={originalEvent:j,delta:Y};U?(_.current=Y,Ra(SE,d,Q,{discrete:!1})):Im(Y,v.swipeDirection,B)?(_.current=Y,Ra(bE,f,Q,{discrete:!1}),j.target.setPointerCapture(j.pointerId)):(Math.abs(L)>B||Math.abs(W)>B)&&(x.current=null)}),onPointerUp:Re(t.onPointerUp,j=>{const L=_.current,W=j.target;if(W.hasPointerCapture(j.pointerId)&&W.releasePointerCapture(j.pointerId),_.current=null,x.current=null,L){const U=j.currentTarget,I={originalEvent:j,delta:L};Im(L,v.swipeDirection,v.swipeThreshold)?Ra(EE,p,I,{discrete:!0}):Ra(CE,h,I,{discrete:!0}),U.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),IE=t=>{const{__scopeToast:e,children:n,...r}=t,s=pc(Zo,e),[i,o]=w.useState(!1),[a,l]=w.useState(!1);return AE(()=>o(!0)),w.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(zx,{asChild:!0,children:u.jsx(hc,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},PE="ToastTitle",Yx=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(ht.div,{...r,ref:e})});Yx.displayName=PE;var RE="ToastDescription",Qx=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(ht.div,{...r,ref:e})});Qx.displayName=RE;var Kx="ToastAction",qx=w.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(Jx,{altText:n,asChild:!0,children:u.jsx(dh,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Kx}\`. Expected non-empty \`string\`.`),null)});qx.displayName=Kx;var Xx="ToastClose",dh=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=kE(Xx,n);return u.jsx(Jx,{asChild:!0,children:u.jsx(ht.button,{type:"button",...r,ref:e,onClick:Re(t.onClick,s.onClose)})})});dh.displayName=Xx;var Jx=w.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(ht.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Zx(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),jE(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Zx(r))}}),e}function Ra(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Dx(s,i):s.dispatchEvent(i)}var Im=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function AE(t=()=>{}){const e=xr(t);wr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function jE(t){return t.nodeType===t.ELEMENT_NODE}function ME(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function vu(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var OE=Wx,ew=Vx,tw=Gx,nw=Yx,rw=Qx,sw=qx,iw=dh;function ow(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=ow(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function aw(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=ow(t))&&(r&&(r+=" "),r+=e);return r}const Pm=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Rm=aw,DE=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Rm(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const f=n==null?void 0:n[c],d=i==null?void 0:i[c];if(f===null)return null;const h=Pm(f)||Pm(d);return s[c][h]}),a=n&&Object.entries(n).reduce((c,f)=>{let[d,h]=f;return h===void 0||(c[d]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,f)=>{let{class:d,className:h,...p}=f;return Object.entries(p).every(g=>{let[v,b]=g;return Array.isArray(b)?b.includes({...i,...a}[v]):{...i,...a}[v]===b})?[...c,d,h]:c},[]);return Rm(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lw=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>w.createElement("svg",{ref:l,...FE,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:lw("lucide",s),...a},[...o.map(([c,f])=>w.createElement(c,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=(t,e)=>{const n=w.forwardRef(({className:r,...s},i)=>w.createElement($E,{ref:i,iconNode:e,className:lw(`lucide-${LE(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=zE("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),fh="-",WE=t=>{const e=VE(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(fh);return a[0]===""&&a.length!==1&&a.shift(),cw(a,e)||UE(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},cw=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?cw(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(fh);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Am=/^\[(.+)\]$/,UE=t=>{if(Am.test(t)){const e=Am.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},VE=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return GE(Object.entries(t.classGroups),n).forEach(([i,o])=>{Id(o,r,i,e)}),r},Id=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:jm(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(HE(s)){Id(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Id(o,jm(e,i),n,r)})})},jm=(t,e)=>{let n=t;return e.split(fh).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},HE=t=>t.isThemeGetter,GE=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,YE=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},uw="!",QE=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,f=0,d;for(let b=0;b<a.length;b++){let y=a[b];if(c===0){if(y===s&&(r||a.slice(b,b+i)===e)){l.push(a.slice(f,b)),f=b+i;continue}if(y==="/"){d=b;continue}}y==="["?c++:y==="]"&&c--}const h=l.length===0?a:a.substring(f),p=h.startsWith(uw),g=p?h.substring(1):h,v=d&&d>f?d-f:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},KE=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},qE=t=>({cache:YE(t.cacheSize),parseClassName:QE(t),...WE(t)}),XE=/\s+/,JE=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(XE);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=n(c);let g=!!p,v=r(g?h.substring(0,p):h);if(!v){if(!g){a=c+(a.length>0?" "+a:a);continue}if(v=r(h),!v){a=c+(a.length>0?" "+a:a);continue}g=!1}const b=KE(f).join(":"),y=d?b+uw:b,m=y+v;if(i.includes(m))continue;i.push(m);const x=s(v,g);for(let _=0;_<x.length;++_){const S=x[_];i.push(y+S)}a=c+(a.length>0?" "+a:a)}return a};function ZE(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=dw(e))&&(r&&(r+=" "),r+=n);return r}const dw=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=dw(t[r]))&&(n&&(n+=" "),n+=e);return n};function e1(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((f,d)=>d(f),t());return n=qE(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const f=JE(l,n);return s(l,f),f}return function(){return i(ZE.apply(null,arguments))}}const he=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},fw=/^\[(?:([a-z-]+):)?(.+)\]$/i,t1=/^\d+\/\d+$/,n1=new Set(["px","full","screen"]),r1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,s1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,i1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,o1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,a1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mn=t=>Fs(t)||n1.has(t)||t1.test(t),Wn=t=>yi(t,"length",m1),Fs=t=>!!t&&!Number.isNaN(Number(t)),xu=t=>yi(t,"number",Fs),Di=t=>!!t&&Number.isInteger(Number(t)),l1=t=>t.endsWith("%")&&Fs(t.slice(0,-1)),X=t=>fw.test(t),Un=t=>r1.test(t),c1=new Set(["length","size","percentage"]),u1=t=>yi(t,c1,hw),d1=t=>yi(t,"position",hw),f1=new Set(["image","url"]),h1=t=>yi(t,f1,y1),p1=t=>yi(t,"",g1),Li=()=>!0,yi=(t,e,n)=>{const r=fw.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},m1=t=>s1.test(t)&&!i1.test(t),hw=()=>!1,g1=t=>o1.test(t),y1=t=>a1.test(t),v1=()=>{const t=he("colors"),e=he("spacing"),n=he("blur"),r=he("brightness"),s=he("borderColor"),i=he("borderRadius"),o=he("borderSpacing"),a=he("borderWidth"),l=he("contrast"),c=he("grayscale"),f=he("hueRotate"),d=he("invert"),h=he("gap"),p=he("gradientColorStops"),g=he("gradientColorStopPositions"),v=he("inset"),b=he("margin"),y=he("opacity"),m=he("padding"),x=he("saturate"),_=he("scale"),S=he("sepia"),C=he("skew"),E=he("space"),k=he("translate"),T=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",X,e],A=()=>[X,e],D=()=>["",mn,Wn],j=()=>["auto",Fs,X],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",X],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Fs,X];return{cacheSize:500,separator:":",theme:{colors:[Li],spacing:[mn,Wn],blur:["none","",Un,X],brightness:H(),borderColor:[t],borderRadius:["none","","full",Un,X],borderSpacing:A(),borderWidth:D(),contrast:H(),grayscale:P(),hueRotate:H(),invert:P(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[l1,Wn],inset:M(),margin:M(),opacity:H(),padding:A(),saturate:H(),scale:H(),sepia:P(),skew:H(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",X]}],container:["container"],columns:[{columns:[Un]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),X]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Di,X]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",X]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Di,X]}],"grid-cols":[{"grid-cols":[Li]}],"col-start-end":[{col:["auto",{span:["full",Di,X]},X]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[Li]}],"row-start-end":[{row:["auto",{span:[Di,X]},X]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",X]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",X]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",X,e]}],"min-w":[{"min-w":[X,e,"min","max","fit"]}],"max-w":[{"max-w":[X,e,"none","full","min","max","fit","prose",{screen:[Un]},Un]}],h:[{h:[X,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[X,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[X,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[X,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Un,Wn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xu]}],"font-family":[{font:[Li]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",X]}],"line-clamp":[{"line-clamp":["none",Fs,xu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mn,X]}],"list-image":[{"list-image":["none",X]}],"list-style-type":[{list:["none","disc","decimal",X]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mn,Wn]}],"underline-offset":[{"underline-offset":["auto",mn,X]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",X]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",X]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),d1]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",u1]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},h1]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[mn,X]}],"outline-w":[{outline:[mn,Wn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[mn,Wn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Un,p1]}],"shadow-color":[{shadow:[Li]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Un,X]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",X]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",X]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",X]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Di,X]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",X]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",X]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",X]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[mn,Wn,xu]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},x1=e1(v1);function as(...t){return x1(aw(t))}const w1=OE,pw=w.forwardRef(({className:t,...e},n)=>u.jsx(ew,{ref:n,className:as("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));pw.displayName=ew.displayName;const _1=DE("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),mw=w.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(tw,{ref:r,className:as(_1({variant:e}),t),...n}));mw.displayName=tw.displayName;const b1=w.forwardRef(({className:t,...e},n)=>u.jsx(sw,{ref:n,className:as("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));b1.displayName=sw.displayName;const gw=w.forwardRef(({className:t,...e},n)=>u.jsx(iw,{ref:n,className:as("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(BE,{className:"h-4 w-4"})}));gw.displayName=iw.displayName;const yw=w.forwardRef(({className:t,...e},n)=>u.jsx(nw,{ref:n,className:as("text-sm font-semibold",t),...e}));yw.displayName=nw.displayName;const vw=w.forwardRef(({className:t,...e},n)=>u.jsx(rw,{ref:n,className:as("text-sm opacity-90",t),...e}));vw.displayName=rw.displayName;function S1(){const{toasts:t}=LC();return u.jsxs(w1,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(mw,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(yw,{children:n}),r&&u.jsx(vw,{children:r})]}),s,u.jsx(gw,{})]},e)}),u.jsx(pw,{})]})}var Mm=["light","dark"],C1="(prefers-color-scheme: dark)",E1=w.createContext(void 0),N1={setTheme:t=>{},themes:[]},k1=()=>{var t;return(t=w.useContext(E1))!=null?t:N1};w.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",f=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=s?Mm.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,v=!1,b=!0)=>{let y=o?o[g]:g,m=v?g+"|| ''":`'${y}'`,x="";return s&&b&&!v&&Mm.includes(g)&&(x+=`d.style.colorScheme = '${g}';`),n==="class"?v||y?x+=`c.add(${m})`:x+="null":y&&(x+=`d[s](n,${m})`),x},p=t?`!function(){${f}${h(t)}}()`:r?`!function(){try{${f}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${C1}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(i,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${d}}catch(t){}}();`;return w.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var T1=t=>{switch(t){case"success":return R1;case"info":return j1;case"warning":return A1;case"error":return M1;default:return null}},I1=Array(12).fill(0),P1=({visible:t,className:e})=>F.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},F.createElement("div",{className:"sonner-spinner"},I1.map((n,r)=>F.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),R1=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),A1=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),j1=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),M1=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),O1=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},F.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),F.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),D1=()=>{let[t,e]=F.useState(document.hidden);return F.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Pd=1,L1=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Pd++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],F.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if($1(l)&&!l.ok){s=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,f=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:f})}else if(e.success!==void 0){s=!1;let c=typeof e.success=="function"?await e.success(l):e.success,f=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:f})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let c=typeof e.error=="function"?await e.error(l):e.error,f=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:f})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Pd++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},it=new L1,F1=(t,e)=>{let n=(e==null?void 0:e.id)||Pd++;return it.addToast({title:t,...e,id:n}),n},$1=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",z1=F1,B1=()=>it.toasts,W1=()=>it.getActiveToasts();Object.assign(z1,{success:it.success,info:it.info,warning:it.warning,error:it.error,custom:it.custom,message:it.message,promise:it.promise,dismiss:it.dismiss,loading:it.loading},{getHistory:B1,getToasts:W1});function U1(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}U1(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Aa(t){return t.label!==void 0}var V1=3,H1="32px",G1="16px",Om=4e3,Y1=356,Q1=14,K1=20,q1=200;function Ft(...t){return t.filter(Boolean).join(" ")}function X1(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var J1=t=>{var e,n,r,s,i,o,a,l,c,f,d;let{invert:h,toast:p,unstyled:g,interacting:v,setHeights:b,visibleToasts:y,heights:m,index:x,toasts:_,expanded:S,removeToast:C,defaultRichColors:E,closeButton:k,style:T,cancelButtonStyle:N,actionButtonStyle:M,className:A="",descriptionClassName:D="",duration:j,position:L,gap:W,loadingIcon:U,expandByDefault:I,classNames:P,icons:z,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:B}=t,[Y,Q]=F.useState(null),[ve,Te]=F.useState(null),[J,en]=F.useState(!1),[On,Pr]=F.useState(!1),[Dn,us]=F.useState(!1),[Ln,ca]=F.useState(!1),[$c,ua]=F.useState(!1),[zc,Ni]=F.useState(0),[ds,lp]=F.useState(0),ki=F.useRef(p.duration||j||Om),cp=F.useRef(null),Rr=F.useRef(null),X0=x===0,J0=x+1<=y,bt=p.type,fs=p.dismissible!==!1,Z0=p.className||"",eb=p.descriptionClassName||"",da=F.useMemo(()=>m.findIndex(q=>q.toastId===p.id)||0,[m,p.id]),tb=F.useMemo(()=>{var q;return(q=p.closeButton)!=null?q:k},[p.closeButton,k]),up=F.useMemo(()=>p.duration||j||Om,[p.duration,j]),Bc=F.useRef(0),hs=F.useRef(0),dp=F.useRef(0),ps=F.useRef(null),[nb,rb]=L.split("-"),fp=F.useMemo(()=>m.reduce((q,ae,ge)=>ge>=da?q:q+ae.height,0),[m,da]),hp=D1(),sb=p.invert||h,Wc=bt==="loading";hs.current=F.useMemo(()=>da*W+fp,[da,fp]),F.useEffect(()=>{ki.current=up},[up]),F.useEffect(()=>{en(!0)},[]),F.useEffect(()=>{let q=Rr.current;if(q){let ae=q.getBoundingClientRect().height;return lp(ae),b(ge=>[{toastId:p.id,height:ae,position:p.position},...ge]),()=>b(ge=>ge.filter(Mt=>Mt.toastId!==p.id))}},[b,p.id]),F.useLayoutEffect(()=>{if(!J)return;let q=Rr.current,ae=q.style.height;q.style.height="auto";let ge=q.getBoundingClientRect().height;q.style.height=ae,lp(ge),b(Mt=>Mt.find(Ot=>Ot.toastId===p.id)?Mt.map(Ot=>Ot.toastId===p.id?{...Ot,height:ge}:Ot):[{toastId:p.id,height:ge,position:p.position},...Mt])},[J,p.title,p.description,b,p.id]);let Fn=F.useCallback(()=>{Pr(!0),Ni(hs.current),b(q=>q.filter(ae=>ae.toastId!==p.id)),setTimeout(()=>{C(p)},q1)},[p,C,b,hs]);F.useEffect(()=>{if(p.promise&&bt==="loading"||p.duration===1/0||p.type==="loading")return;let q;return S||v||B&&hp?(()=>{if(dp.current<Bc.current){let ae=new Date().getTime()-Bc.current;ki.current=ki.current-ae}dp.current=new Date().getTime()})():ki.current!==1/0&&(Bc.current=new Date().getTime(),q=setTimeout(()=>{var ae;(ae=p.onAutoClose)==null||ae.call(p,p),Fn()},ki.current)),()=>clearTimeout(q)},[S,v,p,bt,B,hp,Fn]),F.useEffect(()=>{p.delete&&Fn()},[Fn,p.delete]);function ib(){var q,ae,ge;return z!=null&&z.loading?F.createElement("div",{className:Ft(P==null?void 0:P.loader,(q=p==null?void 0:p.classNames)==null?void 0:q.loader,"sonner-loader"),"data-visible":bt==="loading"},z.loading):U?F.createElement("div",{className:Ft(P==null?void 0:P.loader,(ae=p==null?void 0:p.classNames)==null?void 0:ae.loader,"sonner-loader"),"data-visible":bt==="loading"},U):F.createElement(P1,{className:Ft(P==null?void 0:P.loader,(ge=p==null?void 0:p.classNames)==null?void 0:ge.loader),visible:bt==="loading"})}return F.createElement("li",{tabIndex:0,ref:Rr,className:Ft(A,Z0,P==null?void 0:P.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,P==null?void 0:P.default,P==null?void 0:P[bt],(n=p==null?void 0:p.classNames)==null?void 0:n[bt]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:E,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":J,"data-promise":!!p.promise,"data-swiped":$c,"data-removed":On,"data-visible":J0,"data-y-position":nb,"data-x-position":rb,"data-index":x,"data-front":X0,"data-swiping":Dn,"data-dismissible":fs,"data-type":bt,"data-invert":sb,"data-swipe-out":Ln,"data-swipe-direction":ve,"data-expanded":!!(S||I&&J),style:{"--index":x,"--toasts-before":x,"--z-index":_.length-x,"--offset":`${On?zc:hs.current}px`,"--initial-height":I?"auto":`${ds}px`,...T,...p.style},onDragEnd:()=>{us(!1),Q(null),ps.current=null},onPointerDown:q=>{Wc||!fs||(cp.current=new Date,Ni(hs.current),q.target.setPointerCapture(q.pointerId),q.target.tagName!=="BUTTON"&&(us(!0),ps.current={x:q.clientX,y:q.clientY}))},onPointerUp:()=>{var q,ae,ge,Mt;if(Ln||!fs)return;ps.current=null;let Ot=Number(((q=Rr.current)==null?void 0:q.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),$n=Number(((ae=Rr.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ar=new Date().getTime()-((ge=cp.current)==null?void 0:ge.getTime()),Dt=Y==="x"?Ot:$n,zn=Math.abs(Dt)/Ar;if(Math.abs(Dt)>=K1||zn>.11){Ni(hs.current),(Mt=p.onDismiss)==null||Mt.call(p,p),Te(Y==="x"?Ot>0?"right":"left":$n>0?"down":"up"),Fn(),ca(!0),ua(!1);return}us(!1),Q(null)},onPointerMove:q=>{var ae,ge,Mt,Ot;if(!ps.current||!fs||((ae=window.getSelection())==null?void 0:ae.toString().length)>0)return;let $n=q.clientY-ps.current.y,Ar=q.clientX-ps.current.x,Dt=(ge=t.swipeDirections)!=null?ge:X1(L);!Y&&(Math.abs(Ar)>1||Math.abs($n)>1)&&Q(Math.abs(Ar)>Math.abs($n)?"x":"y");let zn={x:0,y:0};Y==="y"?(Dt.includes("top")||Dt.includes("bottom"))&&(Dt.includes("top")&&$n<0||Dt.includes("bottom")&&$n>0)&&(zn.y=$n):Y==="x"&&(Dt.includes("left")||Dt.includes("right"))&&(Dt.includes("left")&&Ar<0||Dt.includes("right")&&Ar>0)&&(zn.x=Ar),(Math.abs(zn.x)>0||Math.abs(zn.y)>0)&&ua(!0),(Mt=Rr.current)==null||Mt.style.setProperty("--swipe-amount-x",`${zn.x}px`),(Ot=Rr.current)==null||Ot.style.setProperty("--swipe-amount-y",`${zn.y}px`)}},tb&&!p.jsx?F.createElement("button",{"aria-label":H,"data-disabled":Wc,"data-close-button":!0,onClick:Wc||!fs?()=>{}:()=>{var q;Fn(),(q=p.onDismiss)==null||q.call(p,p)},className:Ft(P==null?void 0:P.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=z==null?void 0:z.close)!=null?i:O1):null,p.jsx||w.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:F.createElement(F.Fragment,null,bt||p.icon||p.promise?F.createElement("div",{"data-icon":"",className:Ft(P==null?void 0:P.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||ib():null,p.type!=="loading"?p.icon||(z==null?void 0:z[bt])||T1(bt):null):null,F.createElement("div",{"data-content":"",className:Ft(P==null?void 0:P.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},F.createElement("div",{"data-title":"",className:Ft(P==null?void 0:P.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?F.createElement("div",{"data-description":"",className:Ft(D,eb,P==null?void 0:P.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),w.isValidElement(p.cancel)?p.cancel:p.cancel&&Aa(p.cancel)?F.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||N,onClick:q=>{var ae,ge;Aa(p.cancel)&&fs&&((ge=(ae=p.cancel).onClick)==null||ge.call(ae,q),Fn())},className:Ft(P==null?void 0:P.cancelButton,(f=p==null?void 0:p.classNames)==null?void 0:f.cancelButton)},p.cancel.label):null,w.isValidElement(p.action)?p.action:p.action&&Aa(p.action)?F.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||M,onClick:q=>{var ae,ge;Aa(p.action)&&((ge=(ae=p.action).onClick)==null||ge.call(ae,q),!q.defaultPrevented&&Fn())},className:Ft(P==null?void 0:P.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function Dm(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Z1(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?G1:H1;function l(c){["top","right","bottom","left"].forEach(f=>{n[`${o}-${f}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var eN=w.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:f="light",richColors:d,duration:h,style:p,visibleToasts:g=V1,toastOptions:v,dir:b=Dm(),gap:y=Q1,loadingIcon:m,icons:x,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=t,[C,E]=F.useState([]),k=F.useMemo(()=>Array.from(new Set([r].concat(C.filter(B=>B.position).map(B=>B.position)))),[C,r]),[T,N]=F.useState([]),[M,A]=F.useState(!1),[D,j]=F.useState(!1),[L,W]=F.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=F.useRef(null),I=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=F.useRef(null),z=F.useRef(!1),H=F.useCallback(B=>{E(Y=>{var Q;return(Q=Y.find(ve=>ve.id===B.id))!=null&&Q.delete||it.dismiss(B.id),Y.filter(({id:ve})=>ve!==B.id)})},[]);return F.useEffect(()=>it.subscribe(B=>{if(B.dismiss){E(Y=>Y.map(Q=>Q.id===B.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{Mx.flushSync(()=>{E(Y=>{let Q=Y.findIndex(ve=>ve.id===B.id);return Q!==-1?[...Y.slice(0,Q),{...Y[Q],...B},...Y.slice(Q+1)]:[B,...Y]})})})}),[]),F.useEffect(()=>{if(f!=="system"){W(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;let B=window.matchMedia("(prefers-color-scheme: dark)");try{B.addEventListener("change",({matches:Y})=>{W(Y?"dark":"light")})}catch{B.addListener(({matches:Q})=>{try{W(Q?"dark":"light")}catch(ve){console.error(ve)}})}},[f]),F.useEffect(()=>{C.length<=1&&A(!1)},[C]),F.useEffect(()=>{let B=Y=>{var Q,ve;s.every(Te=>Y[Te]||Y.code===Te)&&(A(!0),(Q=U.current)==null||Q.focus()),Y.code==="Escape"&&(document.activeElement===U.current||(ve=U.current)!=null&&ve.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[s]),F.useEffect(()=>{if(U.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,z.current=!1)}},[U.current]),F.createElement("section",{ref:e,"aria-label":`${_} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((B,Y)=>{var Q;let[ve,Te]=B.split("-");return C.length?F.createElement("ol",{key:B,dir:b==="auto"?Dm():b,tabIndex:-1,ref:U,className:a,"data-sonner-toaster":!0,"data-theme":L,"data-y-position":ve,"data-lifted":M&&C.length>1&&!i,"data-x-position":Te,style:{"--front-toast-height":`${((Q=T[0])==null?void 0:Q.height)||0}px`,"--width":`${Y1}px`,"--gap":`${y}px`,...p,...Z1(l,c)},onBlur:J=>{z.current&&!J.currentTarget.contains(J.relatedTarget)&&(z.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||z.current||(z.current=!0,P.current=J.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{D||A(!1)},onDragEnd:()=>A(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||j(!0)},onPointerUp:()=>j(!1)},C.filter(J=>!J.position&&Y===0||J.position===B).map((J,en)=>{var On,Pr;return F.createElement(J1,{key:J.id,icons:x,index:en,toast:J,defaultRichColors:d,duration:(On=v==null?void 0:v.duration)!=null?On:h,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:g,closeButton:(Pr=v==null?void 0:v.closeButton)!=null?Pr:o,interacting:D,position:B,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:H,toasts:C.filter(Dn=>Dn.position==J.position),heights:T.filter(Dn=>Dn.position==J.position),setHeights:N,expandByDefault:i,gap:y,loadingIcon:m,expanded:M,pauseWhenPageIsHidden:S,swipeDirections:t.swipeDirections})})):null}))});const tN=({...t})=>{const{theme:e="system"}=k1();return u.jsx(eN,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},nN=["top","right","bottom","left"],_r=Math.min,mt=Math.max,Cl=Math.round,ja=Math.floor,dn=t=>({x:t,y:t}),rN={left:"right",right:"left",bottom:"top",top:"bottom"},sN={start:"end",end:"start"};function Rd(t,e,n){return mt(t,_r(e,n))}function In(t,e){return typeof t=="function"?t(e):t}function Pn(t){return t.split("-")[0]}function vi(t){return t.split("-")[1]}function hh(t){return t==="x"?"y":"x"}function ph(t){return t==="y"?"height":"width"}const iN=new Set(["top","bottom"]);function ln(t){return iN.has(Pn(t))?"y":"x"}function mh(t){return hh(ln(t))}function oN(t,e,n){n===void 0&&(n=!1);const r=vi(t),s=mh(t),i=ph(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=El(o)),[o,El(o)]}function aN(t){const e=El(t);return[Ad(t),e,Ad(e)]}function Ad(t){return t.replace(/start|end/g,e=>sN[e])}const Lm=["left","right"],Fm=["right","left"],lN=["top","bottom"],cN=["bottom","top"];function uN(t,e,n){switch(t){case"top":case"bottom":return n?e?Fm:Lm:e?Lm:Fm;case"left":case"right":return e?lN:cN;default:return[]}}function dN(t,e,n,r){const s=vi(t);let i=uN(Pn(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Ad)))),i}function El(t){return t.replace(/left|right|bottom|top/g,e=>rN[e])}function fN(t){return{top:0,right:0,bottom:0,left:0,...t}}function xw(t){return typeof t!="number"?fN(t):{top:t,right:t,bottom:t,left:t}}function Nl(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function $m(t,e,n){let{reference:r,floating:s}=t;const i=ln(e),o=mh(e),a=ph(o),l=Pn(e),c=i==="y",f=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:f,y:r.y-s.height};break;case"bottom":p={x:f,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-s.width,y:d};break;default:p={x:r.x,y:r.y}}switch(vi(e)){case"start":p[o]-=h*(n&&c?-1:1);break;case"end":p[o]+=h*(n&&c?-1:1);break}return p}async function hN(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=In(e,t),g=xw(p),b=a[h?d==="floating"?"reference":"floating":d],y=Nl(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:f,strategy:l})),m=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),_=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},S=Nl(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:m,offsetParent:x,strategy:l}):m);return{top:(y.top-S.top+g.top)/_.y,bottom:(S.bottom-y.bottom+g.bottom)/_.y,left:(y.left-S.left+g.left)/_.x,right:(S.right-y.right+g.right)/_.x}}const pN=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:d}=$m(c,r,l),h=r,p={},g=0;for(let b=0;b<a.length;b++){var v;const{name:y,fn:m}=a[b],{x,y:_,data:S,reset:C}=await m({x:f,y:d,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:c,platform:{...o,detectOverflow:(v=o.detectOverflow)!=null?v:hN},elements:{reference:t,floating:e}});f=x??f,d=_??d,p={...p,[y]:{...p[y],...S}},C&&g<=50&&(g++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:f,y:d}=$m(c,h,l)),b=-1)}return{x:f,y:d,placement:h,strategy:s,middlewareData:p}},mN=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:f=0}=In(t,e)||{};if(c==null)return{};const d=xw(f),h={x:n,y:r},p=mh(s),g=ph(p),v=await o.getDimensions(c),b=p==="y",y=b?"top":"left",m=b?"bottom":"right",x=b?"clientHeight":"clientWidth",_=i.reference[g]+i.reference[p]-h[p]-i.floating[g],S=h[p]-i.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=C?C[x]:0;(!E||!await(o.isElement==null?void 0:o.isElement(C)))&&(E=a.floating[x]||i.floating[g]);const k=_/2-S/2,T=E/2-v[g]/2-1,N=_r(d[y],T),M=_r(d[m],T),A=N,D=E-v[g]-M,j=E/2-v[g]/2+k,L=Rd(A,j,D),W=!l.arrow&&vi(s)!=null&&j!==L&&i.reference[g]/2-(j<A?N:M)-v[g]/2<0,U=W?j<A?j-A:j-D:0;return{[p]:h[p]+U,data:{[p]:L,centerOffset:j-L-U,...W&&{alignmentOffset:U}},reset:W}}}),gN=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...b}=In(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Pn(s),m=ln(a),x=Pn(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=h||(x||!v?[El(a)]:aN(a)),C=g!=="none";!h&&C&&S.push(...dN(a,v,g,_));const E=[a,...S],k=await l.detectOverflow(e,b),T=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&T.push(k[y]),d){const j=oN(s,o,_);T.push(k[j[0]],k[j[1]])}if(N=[...N,{placement:s,overflows:T}],!T.every(j=>j<=0)){var M,A;const j=(((M=i.flip)==null?void 0:M.index)||0)+1,L=E[j];if(L&&(!(d==="alignment"?m!==ln(L):!1)||N.every(I=>ln(I.placement)===m?I.overflows[0]>0:!0)))return{data:{index:j,overflows:N},reset:{placement:L}};let W=(A=N.filter(U=>U.overflows[0]<=0).sort((U,I)=>U.overflows[1]-I.overflows[1])[0])==null?void 0:A.placement;if(!W)switch(p){case"bestFit":{var D;const U=(D=N.filter(I=>{if(C){const P=ln(I.placement);return P===m||P==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(P=>P>0).reduce((P,z)=>P+z,0)]).sort((I,P)=>I[1]-P[1])[0])==null?void 0:D[0];U&&(W=U);break}case"initialPlacement":W=a;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function zm(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Bm(t){return nN.some(e=>t[e]>=0)}const yN=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n,platform:r}=e,{strategy:s="referenceHidden",...i}=In(t,e);switch(s){case"referenceHidden":{const o=await r.detectOverflow(e,{...i,elementContext:"reference"}),a=zm(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Bm(a)}}}case"escaped":{const o=await r.detectOverflow(e,{...i,altBoundary:!0}),a=zm(o,n.floating);return{data:{escapedOffsets:a,escaped:Bm(a)}}}default:return{}}}}},ww=new Set(["left","top"]);async function vN(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Pn(n),a=vi(n),l=ln(n)==="y",c=ww.has(o)?-1:1,f=i&&l?-1:1,d=In(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*f,y:h*c}:{x:h*c,y:p*f}}const xN=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await vN(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},wN=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s,platform:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:y=>{let{x:m,y:x}=y;return{x:m,y:x}}},...c}=In(t,e),f={x:n,y:r},d=await i.detectOverflow(e,c),h=ln(Pn(s)),p=hh(h);let g=f[p],v=f[h];if(o){const y=p==="y"?"top":"left",m=p==="y"?"bottom":"right",x=g+d[y],_=g-d[m];g=Rd(x,g,_)}if(a){const y=h==="y"?"top":"left",m=h==="y"?"bottom":"right",x=v+d[y],_=v-d[m];v=Rd(x,v,_)}const b=l.fn({...e,[p]:g,[h]:v});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[p]:o,[h]:a}}}}}},_N=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=In(t,e),f={x:n,y:r},d=ln(s),h=hh(d);let p=f[h],g=f[d];const v=In(a,e),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const x=h==="y"?"height":"width",_=i.reference[h]-i.floating[x]+b.mainAxis,S=i.reference[h]+i.reference[x]-b.mainAxis;p<_?p=_:p>S&&(p=S)}if(c){var y,m;const x=h==="y"?"width":"height",_=ww.has(Pn(s)),S=i.reference[d]-i.floating[x]+(_&&((y=o.offset)==null?void 0:y[d])||0)+(_?0:b.crossAxis),C=i.reference[d]+i.reference[x]+(_?0:((m=o.offset)==null?void 0:m[d])||0)-(_?b.crossAxis:0);g<S?g=S:g>C&&(g=C)}return{[h]:p,[d]:g}}}},bN=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=In(t,e),f=await o.detectOverflow(e,c),d=Pn(s),h=vi(s),p=ln(s)==="y",{width:g,height:v}=i.floating;let b,y;d==="top"||d==="bottom"?(b=d,y=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,b=h==="end"?"top":"bottom");const m=v-f.top-f.bottom,x=g-f.left-f.right,_=_r(v-f[b],m),S=_r(g-f[y],x),C=!e.middlewareData.shift;let E=_,k=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=m),C&&!h){const N=mt(f.left,0),M=mt(f.right,0),A=mt(f.top,0),D=mt(f.bottom,0);p?k=g-2*(N!==0||M!==0?N+M:mt(f.left,f.right)):E=v-2*(A!==0||D!==0?A+D:mt(f.top,f.bottom))}await l({...e,availableWidth:k,availableHeight:E});const T=await o.getDimensions(a.floating);return g!==T.width||v!==T.height?{reset:{rects:!0}}:{}}}};function mc(){return typeof window<"u"}function xi(t){return _w(t)?(t.nodeName||"").toLowerCase():"#document"}function vt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function hn(t){var e;return(e=(_w(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function _w(t){return mc()?t instanceof Node||t instanceof vt(t).Node:!1}function Jt(t){return mc()?t instanceof Element||t instanceof vt(t).Element:!1}function fn(t){return mc()?t instanceof HTMLElement||t instanceof vt(t).HTMLElement:!1}function Wm(t){return!mc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof vt(t).ShadowRoot}const SN=new Set(["inline","contents"]);function ea(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Zt(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!SN.has(s)}const CN=new Set(["table","td","th"]);function EN(t){return CN.has(xi(t))}const NN=[":popover-open",":modal"];function gc(t){return NN.some(e=>{try{return t.matches(e)}catch{return!1}})}const kN=["transform","translate","scale","rotate","perspective"],TN=["transform","translate","scale","rotate","perspective","filter"],IN=["paint","layout","strict","content"];function gh(t){const e=yh(),n=Jt(t)?Zt(t):t;return kN.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||TN.some(r=>(n.willChange||"").includes(r))||IN.some(r=>(n.contain||"").includes(r))}function PN(t){let e=br(t);for(;fn(e)&&!oi(e);){if(gh(e))return e;if(gc(e))return null;e=br(e)}return null}function yh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const RN=new Set(["html","body","#document"]);function oi(t){return RN.has(xi(t))}function Zt(t){return vt(t).getComputedStyle(t)}function yc(t){return Jt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function br(t){if(xi(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Wm(t)&&t.host||hn(t);return Wm(e)?e.host:e}function bw(t){const e=br(t);return oi(e)?t.ownerDocument?t.ownerDocument.body:t.body:fn(e)&&ea(e)?e:bw(e)}function Po(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=bw(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=vt(s);if(i){const a=jd(o);return e.concat(o,o.visualViewport||[],ea(s)?s:[],a&&n?Po(a):[])}return e.concat(s,Po(s,[],n))}function jd(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Sw(t){const e=Zt(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=fn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Cl(n)!==i||Cl(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function vh(t){return Jt(t)?t:t.contextElement}function $s(t){const e=vh(t);if(!fn(e))return dn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Sw(e);let o=(i?Cl(n.width):n.width)/r,a=(i?Cl(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const AN=dn(0);function Cw(t){const e=vt(t);return!yh()||!e.visualViewport?AN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function jN(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==vt(t)?!1:e}function ts(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=vh(t);let o=dn(1);e&&(r?Jt(r)&&(o=$s(r)):o=$s(t));const a=jN(i,n,r)?Cw(i):dn(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,f=s.width/o.x,d=s.height/o.y;if(i){const h=vt(i),p=r&&Jt(r)?vt(r):r;let g=h,v=jd(g);for(;v&&r&&p!==g;){const b=$s(v),y=v.getBoundingClientRect(),m=Zt(v),x=y.left+(v.clientLeft+parseFloat(m.paddingLeft))*b.x,_=y.top+(v.clientTop+parseFloat(m.paddingTop))*b.y;l*=b.x,c*=b.y,f*=b.x,d*=b.y,l+=x,c+=_,g=vt(v),v=jd(g)}}return Nl({width:f,height:d,x:l,y:c})}function vc(t,e){const n=yc(t).scrollLeft;return e?e.left+n:ts(hn(t)).left+n}function Ew(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-vc(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function MN(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=hn(r),a=e?gc(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=dn(1);const f=dn(0),d=fn(r);if((d||!d&&!i)&&((xi(r)!=="body"||ea(o))&&(l=yc(r)),fn(r))){const p=ts(r);c=$s(r),f.x=p.x+r.clientLeft,f.y=p.y+r.clientTop}const h=o&&!d&&!i?Ew(o,l):dn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+f.x+h.x,y:n.y*c.y-l.scrollTop*c.y+f.y+h.y}}function ON(t){return Array.from(t.getClientRects())}function DN(t){const e=hn(t),n=yc(t),r=t.ownerDocument.body,s=mt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=mt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+vc(t);const a=-n.scrollTop;return Zt(r).direction==="rtl"&&(o+=mt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const Um=25;function LN(t,e){const n=vt(t),r=hn(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const f=yh();(!f||f&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const c=vc(r);if(c<=0){const f=r.ownerDocument,d=f.body,h=getComputedStyle(d),p=f.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(r.clientWidth-d.clientWidth-p);g<=Um&&(i-=g)}else c<=Um&&(i+=c);return{width:i,height:o,x:a,y:l}}const FN=new Set(["absolute","fixed"]);function $N(t,e){const n=ts(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=fn(t)?$s(t):dn(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function Vm(t,e,n){let r;if(e==="viewport")r=LN(t,n);else if(e==="document")r=DN(hn(t));else if(Jt(e))r=$N(e,n);else{const s=Cw(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Nl(r)}function Nw(t,e){const n=br(t);return n===e||!Jt(n)||oi(n)?!1:Zt(n).position==="fixed"||Nw(n,e)}function zN(t,e){const n=e.get(t);if(n)return n;let r=Po(t,[],!1).filter(a=>Jt(a)&&xi(a)!=="body"),s=null;const i=Zt(t).position==="fixed";let o=i?br(t):t;for(;Jt(o)&&!oi(o);){const a=Zt(o),l=gh(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&FN.has(s.position)||ea(o)&&!l&&Nw(t,o))?r=r.filter(f=>f!==o):s=a,o=br(o)}return e.set(t,r),r}function BN(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?gc(e)?[]:zN(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,f)=>{const d=Vm(e,f,s);return c.top=mt(d.top,c.top),c.right=_r(d.right,c.right),c.bottom=_r(d.bottom,c.bottom),c.left=mt(d.left,c.left),c},Vm(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function WN(t){const{width:e,height:n}=Sw(t);return{width:e,height:n}}function UN(t,e,n){const r=fn(e),s=hn(e),i=n==="fixed",o=ts(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=dn(0);function c(){l.x=vc(s)}if(r||!r&&!i)if((xi(e)!=="body"||ea(s))&&(a=yc(e)),r){const p=ts(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&c();i&&!r&&s&&c();const f=s&&!r&&!i?Ew(s,a):dn(0),d=o.left+a.scrollLeft-l.x-f.x,h=o.top+a.scrollTop-l.y-f.y;return{x:d,y:h,width:o.width,height:o.height}}function wu(t){return Zt(t).position==="static"}function Hm(t,e){if(!fn(t)||Zt(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return hn(t)===n&&(n=n.ownerDocument.body),n}function kw(t,e){const n=vt(t);if(gc(t))return n;if(!fn(t)){let s=br(t);for(;s&&!oi(s);){if(Jt(s)&&!wu(s))return s;s=br(s)}return n}let r=Hm(t,e);for(;r&&EN(r)&&wu(r);)r=Hm(r,e);return r&&oi(r)&&wu(r)&&!gh(r)?n:r||PN(t)||n}const VN=async function(t){const e=this.getOffsetParent||kw,n=this.getDimensions,r=await n(t.floating);return{reference:UN(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function HN(t){return Zt(t).direction==="rtl"}const GN={convertOffsetParentRelativeRectToViewportRelativeRect:MN,getDocumentElement:hn,getClippingRect:BN,getOffsetParent:kw,getElementRects:VN,getClientRects:ON,getDimensions:WN,getScale:$s,isElement:Jt,isRTL:HN};function Tw(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function YN(t,e){let n=null,r;const s=hn(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:f,top:d,width:h,height:p}=c;if(a||e(),!h||!p)return;const g=ja(d),v=ja(s.clientWidth-(f+h)),b=ja(s.clientHeight-(d+p)),y=ja(f),x={rootMargin:-g+"px "+-v+"px "+-b+"px "+-y+"px",threshold:mt(0,_r(1,l))||1};let _=!0;function S(C){const E=C[0].intersectionRatio;if(E!==l){if(!_)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!Tw(c,t.getBoundingClientRect())&&o(),_=!1}try{n=new IntersectionObserver(S,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,x)}n.observe(t)}return o(!0),i}function QN(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=vh(t),f=s||i?[...c?Po(c):[],...Po(e)]:[];f.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const d=c&&a?YN(c,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(y=>{let[m]=y;m&&m.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let g,v=l?ts(t):null;l&&b();function b(){const y=ts(t);v&&!Tw(v,y)&&n(),v=y,g=requestAnimationFrame(b)}return n(),()=>{var y;f.forEach(m=>{s&&m.removeEventListener("scroll",n),i&&m.removeEventListener("resize",n)}),d==null||d(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const KN=xN,qN=wN,XN=gN,JN=bN,ZN=yN,Gm=mN,ek=_N,tk=(t,e,n)=>{const r=new Map,s={platform:GN,...n},i={...s.platform,_c:r};return pN(t,e,{...s,platform:i})};var nk=typeof document<"u",rk=function(){},Ja=nk?w.useLayoutEffect:rk;function kl(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!kl(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!kl(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Iw(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Ym(t,e){const n=Iw(t);return Math.round(e*n)/n}function _u(t){const e=w.useRef(t);return Ja(()=>{e.current=t}),e}function sk(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[f,d]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=w.useState(r);kl(h,r)||p(r);const[g,v]=w.useState(null),[b,y]=w.useState(null),m=w.useCallback(I=>{I!==C.current&&(C.current=I,v(I))},[]),x=w.useCallback(I=>{I!==E.current&&(E.current=I,y(I))},[]),_=i||g,S=o||b,C=w.useRef(null),E=w.useRef(null),k=w.useRef(f),T=l!=null,N=_u(l),M=_u(s),A=_u(c),D=w.useCallback(()=>{if(!C.current||!E.current)return;const I={placement:e,strategy:n,middleware:h};M.current&&(I.platform=M.current),tk(C.current,E.current,I).then(P=>{const z={...P,isPositioned:A.current!==!1};j.current&&!kl(k.current,z)&&(k.current=z,Jo.flushSync(()=>{d(z)}))})},[h,e,n,M,A]);Ja(()=>{c===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,d(I=>({...I,isPositioned:!1})))},[c]);const j=w.useRef(!1);Ja(()=>(j.current=!0,()=>{j.current=!1}),[]),Ja(()=>{if(_&&(C.current=_),S&&(E.current=S),_&&S){if(N.current)return N.current(_,S,D);D()}},[_,S,D,N,T]);const L=w.useMemo(()=>({reference:C,floating:E,setReference:m,setFloating:x}),[m,x]),W=w.useMemo(()=>({reference:_,floating:S}),[_,S]),U=w.useMemo(()=>{const I={position:n,left:0,top:0};if(!W.floating)return I;const P=Ym(W.floating,f.x),z=Ym(W.floating,f.y);return a?{...I,transform:"translate("+P+"px, "+z+"px)",...Iw(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:z}},[n,a,W.floating,f.x,f.y]);return w.useMemo(()=>({...f,update:D,refs:L,elements:W,floatingStyles:U}),[f,D,L,W,U])}const ik=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Gm({element:r.current,padding:s}).fn(n):{}:r?Gm({element:r,padding:s}).fn(n):{}}}},ok=(t,e)=>({...KN(t),options:[t,e]}),ak=(t,e)=>({...qN(t),options:[t,e]}),lk=(t,e)=>({...ek(t),options:[t,e]}),ck=(t,e)=>({...XN(t),options:[t,e]}),uk=(t,e)=>({...JN(t),options:[t,e]}),dk=(t,e)=>({...ZN(t),options:[t,e]}),fk=(t,e)=>({...ik(t),options:[t,e]});var hk="Arrow",Pw=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(ht.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});Pw.displayName=hk;var pk=Pw;function mk(t){const[e,n]=w.useState(void 0);return wr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Rw="Popper",[Aw,jw]=fc(Rw),[MM,Mw]=Aw(Rw),Ow="PopperAnchor",Dw=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Mw(Ow,n),o=w.useRef(null),a=Xt(e,o),l=w.useRef(null);return w.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||o.current,c!==l.current&&i.onAnchorChange(l.current)}),r?null:u.jsx(ht.div,{...s,ref:a})});Dw.displayName=Ow;var xh="PopperContent",[gk,yk]=Aw(xh),Lw=w.forwardRef((t,e)=>{var J,en,On,Pr,Dn,us;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...v}=t,b=Mw(xh,n),[y,m]=w.useState(null),x=Xt(e,Ln=>m(Ln)),[_,S]=w.useState(null),C=mk(_),E=(C==null?void 0:C.width)??0,k=(C==null?void 0:C.height)??0,T=r+(i!=="center"?"-"+i:""),N=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},M=Array.isArray(c)?c:[c],A=M.length>0,D={padding:N,boundary:M.filter(xk),altBoundary:A},{refs:j,floatingStyles:L,placement:W,isPositioned:U,middlewareData:I}=sk({strategy:"fixed",placement:T,whileElementsMounted:(...Ln)=>QN(...Ln,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[ok({mainAxis:s+k,alignmentAxis:o}),l&&ak({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?lk():void 0,...D}),l&&ck({...D}),uk({...D,apply:({elements:Ln,rects:ca,availableWidth:$c,availableHeight:ua})=>{const{width:zc,height:Ni}=ca.reference,ds=Ln.floating.style;ds.setProperty("--radix-popper-available-width",`${$c}px`),ds.setProperty("--radix-popper-available-height",`${ua}px`),ds.setProperty("--radix-popper-anchor-width",`${zc}px`),ds.setProperty("--radix-popper-anchor-height",`${Ni}px`)}}),_&&fk({element:_,padding:a}),wk({arrowWidth:E,arrowHeight:k}),h&&dk({strategy:"referenceHidden",...D})]}),[P,z]=zw(W),H=xr(g);wr(()=>{U&&(H==null||H())},[U,H]);const B=(J=I.arrow)==null?void 0:J.x,Y=(en=I.arrow)==null?void 0:en.y,Q=((On=I.arrow)==null?void 0:On.centerOffset)!==0,[ve,Te]=w.useState();return wr(()=>{y&&Te(window.getComputedStyle(y).zIndex)},[y]),u.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:U?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[(Pr=I.transformOrigin)==null?void 0:Pr.x,(Dn=I.transformOrigin)==null?void 0:Dn.y].join(" "),...((us=I.hide)==null?void 0:us.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(gk,{scope:n,placedSide:P,onArrowChange:S,arrowX:B,arrowY:Y,shouldHideArrow:Q,children:u.jsx(ht.div,{"data-side":P,"data-align":z,...v,ref:x,style:{...v.style,animation:U?void 0:"none"}})})})});Lw.displayName=xh;var Fw="PopperArrow",vk={top:"bottom",right:"left",bottom:"top",left:"right"},$w=w.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=yk(Fw,r),o=vk[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(pk,{...s,ref:n,style:{...s.style,display:"block"}})})});$w.displayName=Fw;function xk(t){return t!==null}var wk=t=>({name:"transformOrigin",options:t,fn(e){var b,y,m;const{placement:n,rects:r,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,f]=zw(n),d={start:"0%",center:"50%",end:"100%"}[f],h=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,p=(((m=s.arrow)==null?void 0:m.y)??0)+l/2;let g="",v="";return c==="bottom"?(g=o?d:`${h}px`,v=`${-l}px`):c==="top"?(g=o?d:`${h}px`,v=`${r.floating.height+l}px`):c==="right"?(g=`${-l}px`,v=o?d:`${p}px`):c==="left"&&(g=`${r.floating.width+l}px`,v=o?d:`${p}px`),{data:{x:g,y:v}}}});function zw(t){const[e,n="center"]=t.split("-");return[e,n]}var _k=Dw,bk=Lw,Sk=$w,Ck=Symbol("radix.slottable");function Ek(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Ck,e}var[xc]=fc("Tooltip",[jw]),wh=jw(),Bw="TooltipProvider",Nk=700,Qm="tooltip.open",[kk,Ww]=xc(Bw),Uw=t=>{const{__scopeTooltip:e,delayDuration:n=Nk,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=w.useRef(!0),a=w.useRef(!1),l=w.useRef(0);return w.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(kk,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:w.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};Uw.displayName=Bw;var Vw="Tooltip",[OM,wc]=xc(Vw),Md="TooltipTrigger",Tk=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=wc(Md,n),i=Ww(Md,n),o=wh(n),a=w.useRef(null),l=Xt(e,a,s.onTriggerChange),c=w.useRef(!1),f=w.useRef(!1),d=w.useCallback(()=>c.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),u.jsx(_k,{asChild:!0,...o,children:u.jsx(ht.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Re(t.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:Re(t.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:Re(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Re(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Re(t.onBlur,s.onClose),onClick:Re(t.onClick,s.onClose)})})});Tk.displayName=Md;var Ik="TooltipPortal",[DM,Pk]=xc(Ik,{forceMount:void 0}),ai="TooltipContent",Hw=w.forwardRef((t,e)=>{const n=Pk(ai,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=wc(ai,t.__scopeTooltip);return u.jsx(lh,{present:r||o.open,children:o.disableHoverableContent?u.jsx(Gw,{side:s,...i,ref:e}):u.jsx(Rk,{side:s,...i,ref:e})})}),Rk=w.forwardRef((t,e)=>{const n=wc(ai,t.__scopeTooltip),r=Ww(ai,t.__scopeTooltip),s=w.useRef(null),i=Xt(e,s),[o,a]=w.useState(null),{trigger:l,onClose:c}=n,f=s.current,{onPointerInTransitChange:d}=r,h=w.useCallback(()=>{a(null),d(!1)},[d]),p=w.useCallback((g,v)=>{const b=g.currentTarget,y={x:g.clientX,y:g.clientY},m=Dk(y,b.getBoundingClientRect()),x=Lk(y,m),_=Fk(v.getBoundingClientRect()),S=zk([...x,..._]);a(S),d(!0)},[d]);return w.useEffect(()=>()=>h(),[h]),w.useEffect(()=>{if(l&&f){const g=b=>p(b,f),v=b=>p(b,l);return l.addEventListener("pointerleave",g),f.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",g),f.removeEventListener("pointerleave",v)}}},[l,f,p,h]),w.useEffect(()=>{if(o){const g=v=>{const b=v.target,y={x:v.clientX,y:v.clientY},m=(l==null?void 0:l.contains(b))||(f==null?void 0:f.contains(b)),x=!$k(y,o);m?h():x&&(h(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,f,o,c,h]),u.jsx(Gw,{...t,ref:i})}),[Ak,jk]=xc(Vw,{isInside:!1}),Mk=Ek("TooltipContent"),Gw=w.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=wc(ai,n),c=wh(n),{onClose:f}=l;return w.useEffect(()=>(document.addEventListener(Qm,f),()=>document.removeEventListener(Qm,f)),[f]),w.useEffect(()=>{if(l.trigger){const d=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,f]),u.jsx(ah,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:u.jsxs(bk,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(Mk,{children:r}),u.jsx(Ak,{scope:n,isInside:!0,children:u.jsx(yE,{id:l.contentId,role:"tooltip",children:s||r})})]})})});Hw.displayName=ai;var Yw="TooltipArrow",Ok=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=wh(n);return jk(Yw,n).isInside?null:u.jsx(Sk,{...s,...r,ref:e})});Ok.displayName=Yw;function Dk(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Lk(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Fk(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function $k(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,f=a.y,d=l.x,h=l.y;f>r!=h>r&&n<(d-c)*(r-f)/(h-f)+c&&(s=!s)}return s}function zk(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Bk(e)}function Bk(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Wk=Uw,Qw=Hw;const Uk=Wk,Vk=w.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(Qw,{ref:r,sideOffset:e,className:as("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Vk.displayName=Qw.displayName;var _c=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hk={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Kn,df,dy,Gk=(dy=class{constructor(){re(this,Kn,Hk);re(this,df,!1)}setTimeoutProvider(t){K(this,Kn,t)}setTimeout(t,e){return R(this,Kn).setTimeout(t,e)}clearTimeout(t){R(this,Kn).clearTimeout(t)}setInterval(t,e){return R(this,Kn).setInterval(t,e)}clearInterval(t){R(this,Kn).clearInterval(t)}},Kn=new WeakMap,df=new WeakMap,dy),Od=new Gk;function Yk(t){setTimeout(t,0)}var bc=typeof window>"u"||"Deno"in globalThis;function zt(){}function Qk(t,e){return typeof t=="function"?t(e):t}function Kk(t){return typeof t=="number"&&t>=0&&t!==1/0}function qk(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Dd(t,e){return typeof t=="function"?t(e):t}function Xk(t,e){return typeof t=="function"?t(e):t}function Km(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==_h(o,e.options))return!1}else if(!Ao(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function qm(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ro(e.options.mutationKey)!==Ro(i))return!1}else if(!Ao(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function _h(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ro)(t)}function Ro(t){return JSON.stringify(t,(e,n)=>Ld(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ao(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Ao(t[n],e[n])):!1}var Jk=Object.prototype.hasOwnProperty;function Kw(t,e,n=0){if(t===e)return t;if(n>500)return e;const r=Xm(t)&&Xm(e);if(!r&&!(Ld(t)&&Ld(e)))return e;const i=(r?t:Object.keys(t)).length,o=r?e:Object.keys(e),a=o.length,l=r?new Array(a):{};let c=0;for(let f=0;f<a;f++){const d=r?f:o[f],h=t[d],p=e[d];if(h===p){l[d]=h,(r?f<i:Jk.call(t,d))&&c++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){l[d]=p;continue}const g=Kw(h,p,n+1);l[d]=g,g===h&&c++}return i===a&&c===i?t:l}function Xm(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ld(t){if(!Jm(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Jm(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Jm(t){return Object.prototype.toString.call(t)==="[object Object]"}function Zk(t){return new Promise(e=>{Od.setTimeout(e,t)})}function eT(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Kw(t,e):e}function tT(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function nT(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var bh=Symbol();function qw(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===bh?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function rT(t,e,n){let r=!1,s;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(s??(s=e()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),t}var Wr,qn,Hs,fy,sT=(fy=class extends _c{constructor(){super();re(this,Wr);re(this,qn);re(this,Hs);K(this,Hs,e=>{if(!bc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){R(this,qn)||this.setEventListener(R(this,Hs))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,qn))==null||e.call(this),K(this,qn,void 0))}setEventListener(e){var n;K(this,Hs,e),(n=R(this,qn))==null||n.call(this),K(this,qn,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){R(this,Wr)!==e&&(K(this,Wr,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof R(this,Wr)=="boolean"?R(this,Wr):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Wr=new WeakMap,qn=new WeakMap,Hs=new WeakMap,fy),Xw=new sT;function iT(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var oT=Yk;function aT(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=oT;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Ze=aT(),Gs,Xn,Ys,hy,lT=(hy=class extends _c{constructor(){super();re(this,Gs,!0);re(this,Xn);re(this,Ys);K(this,Ys,e=>{if(!bc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){R(this,Xn)||this.setEventListener(R(this,Ys))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Xn))==null||e.call(this),K(this,Xn,void 0))}setEventListener(e){var n;K(this,Ys,e),(n=R(this,Xn))==null||n.call(this),K(this,Xn,e(this.setOnline.bind(this)))}setOnline(e){R(this,Gs)!==e&&(K(this,Gs,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return R(this,Gs)}},Gs=new WeakMap,Xn=new WeakMap,Ys=new WeakMap,hy),Tl=new lT;function cT(t){return Math.min(1e3*2**t,3e4)}function Jw(t){return(t??"online")==="online"?Tl.isOnline():!0}var Fd=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Zw(t){let e=!1,n=0,r;const s=iT(),i=()=>s.status!=="pending",o=v=>{var b;if(!i()){const y=new Fd(v);h(y),(b=t.onCancel)==null||b.call(t,y)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>Xw.isFocused()&&(t.networkMode==="always"||Tl.isOnline())&&t.canRun(),f=()=>Jw(t.networkMode)&&t.canRun(),d=v=>{i()||(r==null||r(),s.resolve(v))},h=v=>{i()||(r==null||r(),s.reject(v))},p=()=>new Promise(v=>{var b;r=y=>{(i()||c())&&v(y)},(b=t.onPause)==null||b.call(t)}).then(()=>{var v;r=void 0,i()||(v=t.onContinue)==null||v.call(t)}),g=()=>{if(i())return;let v;const b=n===0?t.initialPromise:void 0;try{v=b??t.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(d).catch(y=>{var C;if(i())return;const m=t.retry??(bc?0:3),x=t.retryDelay??cT,_=typeof x=="function"?x(n,y):x,S=m===!0||typeof m=="number"&&n<m||typeof m=="function"&&m(n,y);if(e||!S){h(y);return}n++,(C=t.onFail)==null||C.call(t,n,y),Zk(_).then(()=>c()?void 0:p()).then(()=>{e?h(y):g()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:f,start:()=>(f()?g():p().then(g),s)}}var Ur,py,e_=(py=class{constructor(){re(this,Ur)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kk(this.gcTime)&&K(this,Ur,Od.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(bc?1/0:5*60*1e3))}clearGcTimeout(){R(this,Ur)&&(Od.clearTimeout(R(this,Ur)),K(this,Ur,void 0))}},Ur=new WeakMap,py),Vr,Qs,Et,Hr,Oe,Vo,Gr,Bt,gn,my,uT=(my=class extends e_{constructor(e){super();re(this,Bt);re(this,Vr);re(this,Qs);re(this,Et);re(this,Hr);re(this,Oe);re(this,Vo);re(this,Gr);K(this,Gr,!1),K(this,Vo,e.defaultOptions),this.setOptions(e.options),this.observers=[],K(this,Hr,e.client),K(this,Et,R(this,Hr).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,K(this,Vr,eg(this.options)),this.state=e.state??R(this,Vr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=R(this,Oe))==null?void 0:e.promise}setOptions(e){if(this.options={...R(this,Vo),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=eg(this.options);n.data!==void 0&&(this.setState(Zm(n.data,n.dataUpdatedAt)),K(this,Vr,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,Et).remove(this)}setData(e,n){const r=eT(this.state.data,e,this.options);return He(this,Bt,gn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){He(this,Bt,gn).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=R(this,Oe))==null?void 0:r.promise;return(s=R(this,Oe))==null||s.cancel(e),n?n.then(zt).catch(zt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,Vr))}isActive(){return this.observers.some(e=>Xk(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Dd(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!qk(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=R(this,Oe))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=R(this,Oe))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),R(this,Et).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(R(this,Oe)&&(R(this,Gr)?R(this,Oe).cancel({revert:!0}):R(this,Oe).cancelRetry()),this.scheduleGc()),R(this,Et).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||He(this,Bt,gn).call(this,{type:"invalidate"})}async fetch(e,n){var l,c,f,d,h,p,g,v,b,y,m,x;if(this.state.fetchStatus!=="idle"&&((l=R(this,Oe))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(R(this,Oe))return R(this,Oe).continueRetry(),R(this,Oe).promise}if(e&&this.setOptions(e),!this.options.queryFn){const _=this.observers.find(S=>S.options.queryFn);_&&this.setOptions(_.options)}const r=new AbortController,s=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(K(this,Gr,!0),r.signal)})},i=()=>{const _=qw(this.options,n),C=(()=>{const E={client:R(this,Hr),queryKey:this.queryKey,meta:this.meta};return s(E),E})();return K(this,Gr,!1),this.options.persister?this.options.persister(_,C,this):_(C)},a=(()=>{const _={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:R(this,Hr),state:this.state,fetchFn:i};return s(_),_})();(c=this.options.behavior)==null||c.onFetch(a,this),K(this,Qs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&He(this,Bt,gn).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta}),K(this,Oe,Zw({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:_=>{_ instanceof Fd&&_.revert&&this.setState({...R(this,Qs),fetchStatus:"idle"}),r.abort()},onFail:(_,S)=>{He(this,Bt,gn).call(this,{type:"failed",failureCount:_,error:S})},onPause:()=>{He(this,Bt,gn).call(this,{type:"pause"})},onContinue:()=>{He(this,Bt,gn).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const _=await R(this,Oe).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(p=(h=R(this,Et).config).onSuccess)==null||p.call(h,_,this),(v=(g=R(this,Et).config).onSettled)==null||v.call(g,_,this.state.error,this),_}catch(_){if(_ instanceof Fd){if(_.silent)return R(this,Oe).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw He(this,Bt,gn).call(this,{type:"error",error:_}),(y=(b=R(this,Et).config).onError)==null||y.call(b,_,this),(x=(m=R(this,Et).config).onSettled)==null||x.call(m,this.state.data,_,this),_}finally{this.scheduleGc()}}},Vr=new WeakMap,Qs=new WeakMap,Et=new WeakMap,Hr=new WeakMap,Oe=new WeakMap,Vo=new WeakMap,Gr=new WeakMap,Bt=new WeakSet,gn=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...dT(r.data,this.options),fetchMeta:e.meta??null};case"success":const s={...r,...Zm(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return K(this,Qs,e.manual?s:void 0),s;case"error":const i=e.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Ze.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),R(this,Et).notify({query:this,type:"updated",action:e})})},my);function dT(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Jw(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Zm(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function eg(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function tg(t){return{onFetch:(e,n)=>{var f,d,h,p,g;const r=e.options,s=(h=(d=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const b=x=>{rT(x,()=>e.signal,()=>v=!0)},y=qw(e.options,e.fetchOptions),m=async(x,_,S)=>{if(v)return Promise.reject();if(_==null&&x.pages.length)return Promise.resolve(x);const E=(()=>{const M={client:e.client,queryKey:e.queryKey,pageParam:_,direction:S?"backward":"forward",meta:e.options.meta};return b(M),M})(),k=await y(E),{maxPages:T}=e.options,N=S?nT:tT;return{pages:N(x.pages,k,T),pageParams:N(x.pageParams,_,T)}};if(s&&i.length){const x=s==="backward",_=x?fT:ng,S={pages:i,pageParams:o},C=_(r,S);a=await m(S,C,x)}else{const x=t??i.length;do{const _=l===0?o[0]??r.initialPageParam:ng(r,a);if(l>0&&_==null)break;a=await m(a,_),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var v,b;return(b=(v=e.options).persister)==null?void 0:b.call(v,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function ng(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function fT(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ho,rn,Qe,Yr,sn,Vn,gy,hT=(gy=class extends e_{constructor(e){super();re(this,sn);re(this,Ho);re(this,rn);re(this,Qe);re(this,Yr);K(this,Ho,e.client),this.mutationId=e.mutationId,K(this,Qe,e.mutationCache),K(this,rn,[]),this.state=e.state||pT(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){R(this,rn).includes(e)||(R(this,rn).push(e),this.clearGcTimeout(),R(this,Qe).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){K(this,rn,R(this,rn).filter(n=>n!==e)),this.scheduleGc(),R(this,Qe).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){R(this,rn).length||(this.state.status==="pending"?this.scheduleGc():R(this,Qe).remove(this))}continue(){var e;return((e=R(this,Yr))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,c,f,d,h,p,g,v,b,y,m,x,_,S,C,E;const n=()=>{He(this,sn,Vn).call(this,{type:"continue"})},r={client:R(this,Ho),meta:this.options.meta,mutationKey:this.options.mutationKey};K(this,Yr,Zw({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(k,T)=>{He(this,sn,Vn).call(this,{type:"failed",failureCount:k,error:T})},onPause:()=>{He(this,sn,Vn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Qe).canRun(this)}));const s=this.state.status==="pending",i=!R(this,Yr).canStart();try{if(s)n();else{He(this,sn,Vn).call(this,{type:"pending",variables:e,isPaused:i}),R(this,Qe).config.onMutate&&await R(this,Qe).config.onMutate(e,this,r);const T=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e,r));T!==this.state.context&&He(this,sn,Vn).call(this,{type:"pending",context:T,variables:e,isPaused:i})}const k=await R(this,Yr).start();return await((c=(l=R(this,Qe).config).onSuccess)==null?void 0:c.call(l,k,e,this.state.context,this,r)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,k,e,this.state.context,r)),await((p=(h=R(this,Qe).config).onSettled)==null?void 0:p.call(h,k,null,this.state.variables,this.state.context,this,r)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,k,null,e,this.state.context,r)),He(this,sn,Vn).call(this,{type:"success",data:k}),k}catch(k){try{await((y=(b=R(this,Qe).config).onError)==null?void 0:y.call(b,k,e,this.state.context,this,r))}catch(T){Promise.reject(T)}try{await((x=(m=this.options).onError)==null?void 0:x.call(m,k,e,this.state.context,r))}catch(T){Promise.reject(T)}try{await((S=(_=R(this,Qe).config).onSettled)==null?void 0:S.call(_,void 0,k,this.state.variables,this.state.context,this,r))}catch(T){Promise.reject(T)}try{await((E=(C=this.options).onSettled)==null?void 0:E.call(C,void 0,k,e,this.state.context,r))}catch(T){Promise.reject(T)}throw He(this,sn,Vn).call(this,{type:"error",error:k}),k}finally{R(this,Qe).runNext(this)}}},Ho=new WeakMap,rn=new WeakMap,Qe=new WeakMap,Yr=new WeakMap,sn=new WeakSet,Vn=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ze.batch(()=>{R(this,rn).forEach(r=>{r.onMutationUpdate(e)}),R(this,Qe).notify({mutation:this,type:"updated",action:e})})},gy);function pT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xn,Wt,Go,yy,mT=(yy=class extends _c{constructor(e={}){super();re(this,xn);re(this,Wt);re(this,Go);this.config=e,K(this,xn,new Set),K(this,Wt,new Map),K(this,Go,0)}build(e,n,r){const s=new hT({client:e,mutationCache:this,mutationId:++fa(this,Go)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){R(this,xn).add(e);const n=Ma(e);if(typeof n=="string"){const r=R(this,Wt).get(n);r?r.push(e):R(this,Wt).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(R(this,xn).delete(e)){const n=Ma(e);if(typeof n=="string"){const r=R(this,Wt).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&R(this,Wt).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Ma(e);if(typeof n=="string"){const r=R(this,Wt).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Ma(e);if(typeof n=="string"){const s=(r=R(this,Wt).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ze.batch(()=>{R(this,xn).forEach(e=>{this.notify({type:"removed",mutation:e})}),R(this,xn).clear(),R(this,Wt).clear()})}getAll(){return Array.from(R(this,xn))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>qm(n,r))}findAll(e={}){return this.getAll().filter(n=>qm(e,n))}notify(e){Ze.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ze.batch(()=>Promise.all(e.map(n=>n.continue().catch(zt))))}},xn=new WeakMap,Wt=new WeakMap,Go=new WeakMap,yy);function Ma(t){var e;return(e=t.options.scope)==null?void 0:e.id}var on,vy,gT=(vy=class extends _c{constructor(e={}){super();re(this,on);this.config=e,K(this,on,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??_h(s,n);let o=this.get(i);return o||(o=new uT({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){R(this,on).has(e.queryHash)||(R(this,on).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=R(this,on).get(e.queryHash);n&&(e.destroy(),n===e&&R(this,on).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ze.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,on).get(e)}getAll(){return[...R(this,on).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Km(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Km(e,r)):n}notify(e){Ze.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ze.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ze.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},on=new WeakMap,vy),Se,Jn,Zn,Ks,qs,er,Xs,Js,xy,yT=(xy=class{constructor(t={}){re(this,Se);re(this,Jn);re(this,Zn);re(this,Ks);re(this,qs);re(this,er);re(this,Xs);re(this,Js);K(this,Se,t.queryCache||new gT),K(this,Jn,t.mutationCache||new mT),K(this,Zn,t.defaultOptions||{}),K(this,Ks,new Map),K(this,qs,new Map),K(this,er,0)}mount(){fa(this,er)._++,R(this,er)===1&&(K(this,Xs,Xw.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,Se).onFocus())})),K(this,Js,Tl.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,Se).onOnline())})))}unmount(){var t,e;fa(this,er)._--,R(this,er)===0&&((t=R(this,Xs))==null||t.call(this),K(this,Xs,void 0),(e=R(this,Js))==null||e.call(this),K(this,Js,void 0))}isFetching(t){return R(this,Se).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,Jn).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=R(this,Se).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=R(this,Se).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Dd(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return R(this,Se).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=R(this,Se).get(r.queryHash),i=s==null?void 0:s.state.data,o=Qk(e,i);if(o!==void 0)return R(this,Se).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ze.batch(()=>R(this,Se).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=R(this,Se).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=R(this,Se);Ze.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=R(this,Se);return Ze.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ze.batch(()=>R(this,Se).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(zt).catch(zt)}invalidateQueries(t,e={}){return Ze.batch(()=>(R(this,Se).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ze.batch(()=>R(this,Se).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(zt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(zt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=R(this,Se).build(this,e);return n.isStaleByTime(Dd(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(zt).catch(zt)}fetchInfiniteQuery(t){return t.behavior=tg(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(zt).catch(zt)}ensureInfiniteQueryData(t){return t.behavior=tg(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Tl.isOnline()?R(this,Jn).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,Se)}getMutationCache(){return R(this,Jn)}getDefaultOptions(){return R(this,Zn)}setDefaultOptions(t){K(this,Zn,t)}setQueryDefaults(t,e){R(this,Ks).set(Ro(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,Ks).values()],n={};return e.forEach(r=>{Ao(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){R(this,qs).set(Ro(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,qs).values()],n={};return e.forEach(r=>{Ao(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,Zn).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=_h(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===bh&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Zn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,Se).clear(),R(this,Jn).clear()}},Se=new WeakMap,Jn=new WeakMap,Zn=new WeakMap,Ks=new WeakMap,qs=new WeakMap,er=new WeakMap,Xs=new WeakMap,Js=new WeakMap,xy),vT=w.createContext(void 0),xT=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(vT.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(){return Il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Il.apply(this,arguments)}var rr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(rr||(rr={}));const rg="popstate";function wT(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return $d("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:n_(s)}return bT(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function t_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _T(){return Math.random().toString(36).substr(2,8)}function sg(t,e){return{usr:t.state,key:t.key,idx:e}}function $d(t,e,n,r){return n===void 0&&(n=null),Il({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Sc(e):e,{state:n,key:e&&e.key||r||_T()})}function n_(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Sc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function bT(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=rr.Pop,l=null,c=f();c==null&&(c=0,o.replaceState(Il({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function d(){a=rr.Pop;let b=f(),y=b==null?null:b-c;c=b,l&&l({action:a,location:v.location,delta:y})}function h(b,y){a=rr.Push;let m=$d(v.location,b,y);c=f()+1;let x=sg(m,c),_=v.createHref(m);try{o.pushState(x,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}i&&l&&l({action:a,location:v.location,delta:1})}function p(b,y){a=rr.Replace;let m=$d(v.location,b,y);c=f();let x=sg(m,c),_=v.createHref(m);o.replaceState(x,"",_),i&&l&&l({action:a,location:v.location,delta:0})}function g(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof b=="string"?b:n_(b);return m=m.replace(/ $/,"%20"),ft(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let v={get action(){return a},get location(){return t(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(rg,d),l=b,()=>{s.removeEventListener(rg,d),l=null}},createHref(b){return e(s,b)},createURL:g,encodeLocation(b){let y=g(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(b){return o.go(b)}};return v}var ig;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ig||(ig={}));function ST(t,e,n){return n===void 0&&(n="/"),CT(t,e,n)}function CT(t,e,n,r){let s=typeof e=="string"?Sc(e):e,i=i_(s.pathname||"/",n);if(i==null)return null;let o=r_(t);ET(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=LT(i);a=MT(o[l],c)}return a}function r_(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ft(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=zs([r,l.relativePath]),f=n.concat(l);i.children&&i.children.length>0&&(ft(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),r_(i.children,e,f,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:AT(c,i.index),routesMeta:f})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of s_(i.path))s(i,o,l)}),e}function s_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=s_(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function ET(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const NT=/^:[\w-]+$/,kT=3,TT=2,IT=1,PT=10,RT=-2,og=t=>t==="*";function AT(t,e){let n=t.split("/"),r=n.length;return n.some(og)&&(r+=RT),e&&(r+=TT),n.filter(s=>!og(s)).reduce((s,i)=>s+(NT.test(i)?kT:i===""?IT:PT),r)}function jT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function MT(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",d=OT({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),h=l.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:zs([i,d.pathname]),pathnameBase:FT(zs([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=zs([i,d.pathnameBase]))}return o}function OT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=DT(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,f,d)=>{let{paramName:h,isOptional:p}=f;if(h==="*"){let v=a[d]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[d];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function DT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),t_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function LT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return t_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function i_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const zs=t=>t.join("/").replace(/\/\/+/g,"/"),FT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function $T(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const o_=["post","put","patch","delete"];new Set(o_);const zT=["get",...o_];new Set(zT);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pl.apply(this,arguments)}const BT=w.createContext(null),WT=w.createContext(null),a_=w.createContext(null),Cc=w.createContext(null),Ec=w.createContext({outlet:null,matches:[],isDataRoute:!1}),l_=w.createContext(null);function Sh(){return w.useContext(Cc)!=null}function c_(){return Sh()||ft(!1),w.useContext(Cc).location}function UT(t,e){return VT(t,e)}function VT(t,e,n,r){Sh()||ft(!1);let{navigator:s}=w.useContext(a_),{matches:i}=w.useContext(Ec),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=c_(),f;if(e){var d;let b=typeof e=="string"?Sc(e):e;l==="/"||(d=b.pathname)!=null&&d.startsWith(l)||ft(!1),f=b}else f=c;let h=f.pathname||"/",p=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=ST(t,{pathname:p}),v=KT(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:zs([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:zs([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&v?w.createElement(Cc.Provider,{value:{location:Pl({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:rr.Pop}},v):v}function HT(){let t=ZT(),e=$T(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:s},n):null,null)}const GT=w.createElement(HT,null);class YT extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(Ec.Provider,{value:this.props.routeContext},w.createElement(l_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QT(t){let{routeContext:e,match:n,children:r}=t,s=w.useContext(BT);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Ec.Provider,{value:e},r)}function KT(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let f=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);f>=0||ft(!1),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:h,errors:p}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,d,h)=>{let p,g=!1,v=null,b=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||GT,l&&(c<0&&h===0?(eI("route-fallback"),g=!0,b=null):c===h&&(g=!0,b=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),m=()=>{let x;return p?x=v:g?x=b:d.route.Component?x=w.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=f,w.createElement(QT,{match:d,routeContext:{outlet:f,matches:y,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?w.createElement(YT,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var u_=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(u_||{});function qT(t){let e=w.useContext(WT);return e||ft(!1),e}function XT(t){let e=w.useContext(Ec);return e||ft(!1),e}function JT(t){let e=XT(),n=e.matches[e.matches.length-1];return n.route.id||ft(!1),n.route.id}function ZT(){var t;let e=w.useContext(l_),n=qT(u_.UseRouteError),r=JT();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}const ag={};function eI(t,e,n){ag[t]||(ag[t]=!0)}function tI(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function zd(t){ft(!1)}function nI(t){let{basename:e="/",children:n=null,location:r,navigationType:s=rr.Pop,navigator:i,static:o=!1,future:a}=t;Sh()&&ft(!1);let l=e.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:i,static:o,future:Pl({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Sc(r));let{pathname:f="/",search:d="",hash:h="",state:p=null,key:g="default"}=r,v=w.useMemo(()=>{let b=i_(f,l);return b==null?null:{location:{pathname:b,search:d,hash:h,state:p,key:g},navigationType:s}},[l,f,d,h,p,g,s]);return v==null?null:w.createElement(a_.Provider,{value:c},w.createElement(Cc.Provider,{children:n,value:v}))}function rI(t){let{children:e,location:n}=t;return UT(Bd(e),n)}new Promise(()=>{});function Bd(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,s)=>{if(!w.isValidElement(r))return;let i=[...e,s];if(r.type===w.Fragment){n.push.apply(n,Bd(r.props.children,i));return}r.type!==zd&&ft(!1),!r.props.index||!r.props.children||ft(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Bd(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const sI="6";try{window.__reactRouterVersion=sI}catch{}const iI="startTransition",lg=Ry[iI];function oI(t){let{basename:e,children:n,future:r,window:s}=t,i=w.useRef();i.current==null&&(i.current=wT({window:s,v5Compat:!0}));let o=i.current,[a,l]=w.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},f=w.useCallback(d=>{c&&lg?lg(()=>l(d)):l(d)},[l,c]);return w.useLayoutEffect(()=>o.listen(f),[o,f]),w.useEffect(()=>tI(r),[r]),w.createElement(nI,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var cg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(cg||(cg={}));var ug;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ug||(ug={}));const Rl=["Mantas","Lukas","Tomas","Domantas","Jonas","Mindaugas","Arvydas","arnas","Donatas","Paulius","Rokas","Ignas","Deividas","Karolis","Martynas","Edgaras","Aurimas","Giedrius","Renaldas","Eimantas","Marius","Dovydas","Justas","Linas","Arnas","Benas","Vytautas","Gediminas","Andrius","ygimantas"],Al=["Sabonis","Valaninas","Jasikeviius","Kleiza","Songaila","Kavaliauskas","Motiejnas","Kuzminskas","Lekavicius","Grigonis","Jokubaitis","Brazdeikis","Butkevicius","Dima","Echodas","Geben","Jankunas","Kalnietis","Likauskis","Maciulis","Normantas","Orelik","Pocius","Seibutis","Tubelis","Ulanovas","Velika","ukauskas","Birutis","Bendzius"];let aI=0;function d_(){return`p_${++aI}`}function Ch(t,e){const n=t*120,r=1+e*.06;return Math.round(n*r)}function Ke(t,e){return Math.floor(Math.random()*(e-t+1))+t}function f_(t,e){const n=30+e*10,r=e>=3?12:10,s={height:t==="Defender"?Ke(195,212):t==="Sharpshooter"?Ke(185,205):Ke(178,195),shooting:Ke(n-r,n+r),defending:Ke(n-r,n+r),dribbling:Ke(n-r,n+r),passing:Ke(n-r,n+r)};return t==="Sharpshooter"?s.shooting=Math.min(99,s.shooting+15):t==="Defender"?(s.defending=Math.min(99,s.defending+15),s.height=Math.max(s.height,198)):(s.passing=Math.min(99,s.passing+12),s.dribbling=Math.min(99,s.dribbling+10)),s.shooting=Math.max(1,Math.min(99,s.shooting)),s.defending=Math.max(1,Math.min(99,s.defending)),s.dribbling=Math.max(1,Math.min(99,s.dribbling)),s.passing=Math.max(1,Math.min(99,s.passing)),s}function h_(t){return Math.round((t.shooting+t.defending+t.dribbling+t.passing)/4)}function p_(t){return t>=80?"Legendary":t>=70?"Epic":t>=60?"Rare":"Common"}function m_(t,e){const n=["Sharpshooter","Defender","Playmaker"],r=e||n[Math.floor(Math.random()*n.length)],s=f_(r,t),i=h_(s),o=Ch(i,t);return{id:d_(),name:`${Rl[Ke(0,Rl.length-1)]} ${Al[Ke(0,Al.length-1)]}`,age:Ke(19,34),role:r,attributes:s,overall:i,salary:o,contractYears:Ke(1,3),rarity:p_(i)}}function lI(t,e){const n=[],r=["Sharpshooter","Sharpshooter","Defender","Defender","Playmaker","Playmaker"];for(let s=0;s<t;s++){const i=s<r.length?r[s]:void 0;n.push(m_(e,i))}return n}const Bs=[{id:"zalgiris",name:"BC algiris",shortName:"AL",division:"rkl",prestige:5,color:"#00a651",budget:5e5},{id:"rytas",name:"BC Rytas",shortName:"RYT",division:"rkl",prestige:4,color:"#e31e24",budget:4e5},{id:"neptunas",name:"BC Neptnas",shortName:"NEP",division:"rkl",prestige:3,color:"#0066cc",budget:3e5},{id:"lietkabelis",name:"BC Lietkabelis",shortName:"LTK",division:"rkl",prestige:3,color:"#ff8c00",budget:28e4},{id:"juventus",name:"BC Juventus",shortName:"JUV",division:"rkl",prestige:2,color:"#8b0000",budget:22e4},{id:"pieno",name:"Pieno vaigds",shortName:"P",division:"rkl",prestige:2,color:"#4169e1",budget:2e5},{id:"wolves",name:"BC Wolves",shortName:"WOL",division:"rkl",prestige:2,color:"#555555",budget:19e4},{id:"siauliai",name:"BC iauliai",shortName:"IA",division:"rkl",prestige:2,color:"#daa520",budget:18e4},{id:"kruoja",name:"BC Kruoja",shortName:"KRU",division:"lkl",prestige:1,color:"#9932cc",budget:1e5},{id:"rida",name:"BC Rida",shortName:"RID",division:"lkl",prestige:1,color:"#2e8b57",budget:95e3},{id:"prienai",name:"BC Prienai",shortName:"PRI",division:"lkl",prestige:1,color:"#dc143c",budget:85e3},{id:"mazeikiai",name:"BC Maeikiai",shortName:"MA",division:"lkl",prestige:1,color:"#4682b4",budget:88e3}];function cI(){return Bs.map(t=>{const e=lI(t.prestige>=3?10:8,t.prestige),n=[...e].sort((i,o)=>o.overall-i.overall),r=new Set(n.slice(0,5).map(i=>i.id)),s=e.map(i=>({...i,isStarter:r.has(i.id)}));return{...t,budget:Math.round(t.budget/2),players:s}})}function Ki(t,e=!1,n=2){const r=[],s=t==="lkl",i=n>=4?1.5:n>=3?1.2:n>=2?1:.7;let o;s?o=Math.round((e?10:5)*i):o=Math.round((e?18:7)*i);const a=Math.max(1,n-1),l=Math.min(5,n+1);for(let c=0;c<o;c++){const f=Ke(a,l),d=m_(f);if(s){const h=Ke(5,15);r.push({...d,attributes:d.attributes,overall:d.overall,askingSalary:0,salary:0,contractYears:0,attributeRanges:{shooting:{min:d.attributes.shooting,max:Math.min(99,d.attributes.shooting+h)},defending:{min:d.attributes.defending,max:Math.min(99,d.attributes.defending+h)},dribbling:{min:d.attributes.dribbling,max:Math.min(99,d.attributes.dribbling+h)},passing:{min:d.attributes.passing,max:Math.min(99,d.attributes.passing+h)},overall:{min:d.overall,max:Math.min(99,d.overall+h)}}})}else r.push({...d,askingSalary:Math.round(d.salary*(1+Math.random()*.3)),contractYears:0})}return r}function g_(t){const e=["Sharpshooter","Defender","Playmaker"],n=e[Math.floor(Math.random()*e.length)],r=f_(n,Math.max(1,t-1)),s=h_(r);return{id:d_(),name:`${Rl[Ke(0,Rl.length-1)]} ${Al[Ke(0,Al.length-1)]}`,age:Ke(17,20),role:n,attributes:r,overall:s,salary:0,contractYears:2,isYouth:!0,rarity:p_(s)}}const uI=[{id:"foreign_investment",name:"Foreign Investment",description:"+15% transfer budget",emoji:""},{id:"financial_crisis",name:"Financial Crisis",description:"30% income",emoji:""},{id:"injury_crisis",name:"Injury Crisis",description:"Random rating penalties during matches",emoji:""},{id:"fan_boom",name:"Fan Boom",description:"Bonus prestige growth",emoji:""}],Wd=[{id:"bonus_ticket_10",name:"Packed Arena",description:"+10% ticket income this season",emoji:""},{id:"bonus_sponsor_10",name:"New Sponsor Deal",description:"+10% sponsor income this season",emoji:""},{id:"bonus_wage_minus10",name:"Salary Restructure",description:"Player wage bill -10% this season",emoji:""}],wi=[{id:"rkl",name:"A League (RKL)"},{id:"lkl",name:"B League (LKL)"}];function xe(t,e){return Math.floor(Math.random()*(e-t+1))+t}function dg(t,e){if(t.players.length===0)return 30;let n=t.players.reduce((r,s)=>r+s.overall,0)/t.players.length;return e==="injury_crisis"&&(n-=xe(0,8)),Math.max(20,n+t.prestige*3)}function fg(t){const e=t.players.filter(o=>o.isStarter);if(e.length<5)return"balanced";const n=e.filter(o=>o.role==="Defender").length,r=e.filter(o=>o.role==="Sharpshooter").length,s=e.filter(o=>o.role==="Playmaker").length,i=Math.max(n,r,s);if(i>=2){if(n===i)return"defensive";if(r===i)return"offensive";if(s===i)return"playmaking"}return"balanced"}function hg(t,e){return t==="balanced"||e==="balanced"?0:t==="defensive"&&e==="playmaking"||t==="playmaking"&&e==="offensive"||t==="offensive"&&e==="defensive"?.1:0}function dI(t){if(t.length===0)return[];const e=[...t];e.length%2!==0&&e.push("__BYE__");const r=e.length,s=[];for(let o=0;o<r-1;o++){const a=[];for(let f=0;f<r/2;f++){const d=e[f],h=e[r-1-f];d!=="__BYE__"&&h!=="__BYE__"&&a.push({homeTeamId:d,awayTeamId:h})}s.push(a);const l=e[0],c=e.slice(1);c.unshift(c.pop()),e.splice(0,e.length,l,...c)}const i=s.map(o=>o.map(a=>({homeTeamId:a.awayTeamId,awayTeamId:a.homeTeamId})));return[...s,...i]}function y_(t,e,n){const r=fg(t),s=fg(e),i=hg(r,s),o=hg(s,r),a=dg(t,n)*(1+i)+xe(0,6),l=dg(e,n)*(1+o),c=60+(a-50)*.5,f=60+(l-50)*.5,d=Math.max(40,Math.round(c+xe(-8,8))),h=Math.max(40,Math.round(f+xe(-8,8)));return d===h?{homeScore:d+1,awayScore:h}:{homeScore:d,awayScore:h}}function v_(t){const e={};for(const n of wi)e[n.id]=t.filter(r=>r.division===n.id).map(r=>({teamId:r.id,wins:0,losses:0,pointsFor:0,pointsAgainst:0,streak:0}));return e}function x_(t){const e=cI(),n=w_();return{selectedTeamId:t,season:1,week:0,phase:"preseason",teams:e,standings:v_(e),schedule:[],seasonModifier:n,declinedPlayerIds:[],playoffBracket:[],gameOver:!1,finances:oo(e.find(r=>r.id===t),n),youthIntakeUsed:!1,consecutiveNegativeSeasons:0}}function oo(t,e){const n=t.prestige*.5;let r=Math.round((2e4+n*3e4)/2),s=Math.round((15e3+n*25e3)/2),i=0;e==="financial_crisis"&&(r=Math.round(r*.7),s=Math.round(s*.7));const o=t.players.reduce((a,l)=>a+l.salary,0);return{ticketIncome:r,sponsorIncome:s,prizeIncome:i,totalWages:o,transferSpending:0,balance:t.budget}}function w_(){const t=["foreign_investment","financial_crisis","injury_crisis","fan_boom"];return t[Math.floor(Math.random()*t.length)]}function fI(t){const e={...t};return t.week===7||t.week===8?(e.teams.filter(s=>!s.players.find(i=>i.isStarter)&&s.prestige>=4&&s.id!==t.selectedTeamId).forEach(s=>{const i=s.players.filter(d=>d.isStarter),o=i.filter(d=>d.role==="Sharpshooter").length<2,a=i.filter(d=>d.role==="Defender").length<2,l=i.filter(d=>d.role==="Playmaker").length<1,c=[];o&&c.push("Sharpshooter"),a&&c.push("Defender"),l&&c.push("Playmaker");const f=Math.min(3,c.length);for(let d=0;d<f;d++){const h=c[d],p=30+s.prestige*10,g=8,v={height:h==="Defender"?xe(195,212):h==="Sharpshooter"?xe(185,205):xe(178,195),shooting:xe(p-g,p+g),defending:xe(p-g,p+g),dribbling:xe(p-g,p+g),passing:xe(p-g,p+g)};h==="Sharpshooter"?v.shooting=Math.min(99,v.shooting+15):h==="Defender"?v.defending=Math.min(99,v.defending+15):(v.passing=Math.min(99,v.passing+12),v.dribbling=Math.min(99,v.dribbling+10));const b=Math.round((v.shooting+v.defending+v.dribbling+v.passing)/4),y=Ch(b,s.prestige),m={id:`ai_transfer_${s.id}_${Date.now()}_${d}`,name:`${["Mantas","Lukas","Tomas","Domantas","Jonas"][Math.floor(Math.random()*5)]} ${["Sabonis","Valaninas","Jasikeviius","Kleiza","Songaila"][Math.floor(Math.random()*5)]}`,age:xe(19,30),role:h,attributes:v,overall:b,salary:y,contractYears:xe(2,4),isStarter:!1};e.teams=e.teams.map(x=>x.id===s.id?{...x,players:[...x.players,m]}:x)}}),e):t}function __(t){const e={...t};e.week+=1;const r=fI(e),s={...r.standings};for(const c of wi){const f=r.teams.filter(v=>v.division===c.id).map(v=>v.id),d=dI(f),h=e.week-1,p=d[h],g=[...s[c.id]||[]];if(!p){s[c.id]=g;continue}for(const v of p){const b=r.teams.find(C=>C.id===v.homeTeamId),y=r.teams.find(C=>C.id===v.awayTeamId),m=y_(b,y,r.seasonModifier),x=g.find(C=>C.teamId===b.id),_=g.find(C=>C.teamId===y.id);x&&_&&(x.pointsFor+=m.homeScore,x.pointsAgainst+=m.awayScore,_.pointsFor+=m.awayScore,_.pointsAgainst+=m.homeScore,m.homeScore>m.awayScore?(x.wins+=1,_.losses+=1,x.streak=x.streak>0?x.streak+1:1,_.streak=_.streak<0?_.streak-1:-1):(_.wins+=1,x.losses+=1,_.streak=_.streak>0?_.streak+1:1,x.streak=x.streak<0?x.streak-1:-1));const S=r.teams.find(C=>C.id===r.selectedTeamId);b.division===S.division&&(e.schedule=[...e.schedule||r.schedule,{homeTeamId:b.id,awayTeamId:y.id,homeScore:m.homeScore,awayScore:m.awayScore,week:e.week}])}s[c.id]=g}e.standings=s;const i=t.teams.find(c=>c.id===t.selectedTeamId),a=2*(t.teams.filter(c=>c.division===i.division).length-1);if(e.week>=a){const c=i.division,f=[...s[c]].sort((p,g)=>g.wins-p.wins||g.pointsFor-g.pointsAgainst-(p.pointsFor-p.pointsAgainst)),d=f.findIndex(p=>p.teamId===t.selectedTeamId)+1;let h=0;if(c==="rkl"?h={1:23e4,2:2e5,3:19e4,4:16e4,5:15e4,6:125e3,7:1e5,8:75e3}[d]||0:h={1:5e4,2:35e3,3:28e3,4:22e3}[d]||0,e.finances={...e.finances,prizeIncome:e.finances.prizeIncome+h},i.division==="rkl"){e.phase="playoffs";const p=f;e.playoffBracket=[{round:1,team1Id:p[0].teamId,team2Id:p[3].teamId,team1Wins:0,team2Wins:0},{round:1,team1Id:p[1].teamId,team2Id:p[2].teamId,team1Wins:0,team2Wins:0}]}else e.phase="offseason"}if((e.schedule||[]).filter(c=>c.week===e.week&&c.homeTeamId===t.selectedTeamId).length>0){const c=t.seasonBonus==="bonus_ticket_10"?1.1:1;e.finances={...e.finances,ticketIncome:e.finances.ticketIncome+Math.round(i.prestige*1500/2*c)}}return e}function hI(t,e){const n={...t},r=[...t.playoffBracket],s={...r[e]},i=t.teams.find(f=>f.id===s.team1Id),o=t.teams.find(f=>f.id===s.team2Id),a=y_(i,o,t.seasonModifier);if(a.homeScore>a.awayScore?s.team1Wins+=1:s.team2Wins+=1,s.team1Wins>=3?s.winnerId=s.team1Id:s.team2Wins>=3&&(s.winnerId=s.team2Id),r[e]=s,n.playoffBracket=r,r.filter(f=>f.round===1).every(f=>f.winnerId)&&r.length===2){const f=r.filter(d=>d.round===1).map(d=>d.winnerId);r.push({round:2,team1Id:f[0],team2Id:f[1],team1Wins:0,team2Wins:0}),n.playoffBracket=r}const c=r.find(f=>f.round===2);return c!=null&&c.winnerId&&(n.phase="offseason"),n}function pI(t){const e={...t};e.youthIntakeUsed=!1;const n=e.teams.map(l=>{const c=l.id===t.selectedTeamId;let f=l.players.map(d=>{let h=d.joinedThisOffseason?d.contractYears:d.contractYears-1,p=d.age+1;if(p>=32){const v=(p-32)*.12;Math.random()<v&&(h=0)}let g={...d,contractYears:h,age:p,joinedThisOffseason:!1};if(c){if(g.age<23&&Math.random()<.7){const v={...g.attributes},b=xe(1,3);for(let y=0;y<b;y++){const m=["shooting","defending","dribbling","passing"][Math.floor(Math.random()*4)];typeof v[m]=="number"&&v[m]<99&&(v[m]=Math.min(99,v[m]+1))}g.attributes=v,g.overall=Math.round((v.shooting+v.defending+v.dribbling+v.passing)/4)}g.isStarter?g.seasonsWithoutPlay=0:g.seasonsWithoutPlay=(g.seasonsWithoutPlay||0)+1}return g}).filter(d=>d.contractYears>0);return{...l,players:f}});if(e.teams=n,e.teams=e.teams.map(l=>{if(l.id===t.selectedTeamId)return l;const f=l.players,d=10-f.length;if(d<=0)return l;const h=[];for(let p=0;p<d;p++){const g=["Sharpshooter","Defender","Playmaker"],v=g[Math.floor(Math.random()*g.length)],b=30+l.prestige*10,y=10,m={height:v==="Defender"?xe(195,212):v==="Sharpshooter"?xe(185,205):xe(178,195),shooting:xe(b-y,b+y),defending:xe(b-y,b+y),dribbling:xe(b-y,b+y),passing:xe(b-y,b+y)};v==="Sharpshooter"?m.shooting=Math.min(99,m.shooting+15):v==="Defender"?m.defending=Math.min(99,m.defending+15):(m.passing=Math.min(99,m.passing+12),m.dribbling=Math.min(99,m.dribbling+10));const x=Math.round((m.shooting+m.defending+m.dribbling+m.passing)/4),_=Ch(x,l.prestige);h.push({id:`ai_${l.id}_${Date.now()}_${p}`,name:`${["Mantas","Lukas","Tomas","Domantas","Jonas","Mindaugas","Arvydas","arnas","Donatas","Paulius"][Math.floor(Math.random()*10)]} ${["Sabonis","Valaninas","Jasikeviius","Kleiza","Songaila","Kavaliauskas","Motiejnas","Kuzminskas","Lekavicius","Grigonis"][Math.floor(Math.random()*10)]}`,age:xe(19,34),role:v,attributes:m,overall:x,salary:_,contractYears:xe(1,3),isStarter:f.length+h.length<=5})}return{...l,players:[...f,...h]}}),e.teams.find(l=>l.id===t.selectedTeamId).players.length<5)return e.gameOver=!0,e.gameOverReason="You started the off-season with fewer than 5 players under contract. Your career is over!",e;const s=t.finances.balance+t.finances.ticketIncome+t.finances.sponsorIncome+t.finances.prizeIncome-t.finances.totalWages-t.finances.transferSpending;if(s<-5e4){if(e.consecutiveNegativeSeasons=(t.consecutiveNegativeSeasons||0)+1,e.consecutiveNegativeSeasons>=2)return e.gameOver=!0,e.gameOverReason="Your club has been in severe debt (below -$50,000) for consecutive seasons. The board has terminated your contract!",e}else e.consecutiveNegativeSeasons=0;const i=[...e.standings.rkl||[]].sort((l,c)=>{const f=l.pointsFor-l.pointsAgainst,d=c.pointsFor-c.pointsAgainst;return c.wins!==l.wins?c.wins-l.wins:d-f}),o=[...e.standings.lkl||[]].sort((l,c)=>{const f=l.pointsFor-l.pointsAgainst,d=c.pointsFor-c.pointsAgainst;return c.wins!==l.wins?c.wins-l.wins:d-f});if(i.length>0&&o.length>0){const l=i[i.length-1].teamId,c=o[0].teamId;e.teams=e.teams.map(f=>f.id===c?{...f,division:"rkl"}:f.id===l?{...f,division:"lkl"}:f)}e.season+=1,e.week=0,e.phase="preseason",e.seasonModifier=w_(),e.declinedPlayerIds=[],e.standings=v_(e.teams),e.schedule=[],e.playoffBracket=[],t.seasonModifier==="fan_boom"&&(e.teams=e.teams.map(l=>l.id===t.selectedTeamId?{...l,prestige:Math.min(5,l.prestige+1)}:l));const a=e.teams.find(l=>l.id===t.selectedTeamId);return e.finances={...oo(a,e.seasonModifier),balance:s},e.seasonModifier==="foreign_investment"&&(e.finances.balance=Math.round(e.finances.balance*1.15)),e}function b_(t,e,n,r){const s=t.teams.find(a=>a.id===t.selectedTeamId);if(s.players.length>=12)return{success:!1,newState:t,reason:"Squad is full! Maximum capacity is 12 players."};if(t.declinedPlayerIds.includes(e.id))return{success:!1,newState:t,reason:"This player has already declined your offer. You cannot offer again."};if(r>s.budget+t.finances.balance)return{success:!1,newState:t,reason:"You don't have enough budget to afford this contract."};let i=.5;if(r>=e.askingSalary&&(i+=.25),r>=e.askingSalary*1.2&&(i+=.15),r<e.askingSalary*.8&&(i-=.3),n===2&&(i+=.1),i+=s.prestige*.05,i=Math.max(.05,Math.min(.95,i)),Math.random()<i){let a=e.attributes,l=e.overall;e.attributeRanges&&(a={height:e.attributes.height,shooting:Math.floor(Math.random()*(e.attributeRanges.shooting.max-e.attributeRanges.shooting.min+1))+e.attributeRanges.shooting.min,defending:Math.floor(Math.random()*(e.attributeRanges.defending.max-e.attributeRanges.defending.min+1))+e.attributeRanges.defending.min,dribbling:Math.floor(Math.random()*(e.attributeRanges.dribbling.max-e.attributeRanges.dribbling.min+1))+e.attributeRanges.dribbling.min,passing:Math.floor(Math.random()*(e.attributeRanges.passing.max-e.attributeRanges.passing.min+1))+e.attributeRanges.passing.min},l=Math.round((a.shooting+a.defending+a.dribbling+a.passing)/4));const c={id:e.id,name:e.name,age:e.age,role:e.role,attributes:a,overall:l,salary:r,contractYears:n,isStarter:!1,seasonsWithoutPlay:0,joinedThisOffseason:t.phase==="offseason"},f=t.teams.map(d=>d.id===t.selectedTeamId?{...d,players:[...d.players,c],budget:d.budget-r}:d);return{success:!0,newState:{...t,teams:f,finances:{...t.finances,transferSpending:t.finances.transferSpending+r,totalWages:t.finances.totalWages+r,balance:t.finances.balance-r}}}}else return{success:!1,newState:{...t,declinedPlayerIds:[...t.declinedPlayerIds,e.id]},reason:"Player declined your offer."}}const Eh=w.createContext(null);function mI({children:t}){const[e,n]=w.useState(null),[r,s]=w.useState("dashboard"),[i,o]=w.useState([]),[a,l]=w.useState([]);function c(){return[...Wd.map(E=>E.id)].sort(()=>Math.random()-.5).slice(0,3)}const f=w.useCallback(S=>{const C=x_(S);l(c()),n({...C,seasonBonus:null});const E=C.teams.find(k=>k.id===S);E&&o(Ki(E.division,!1,E.prestige)),s("dashboard")},[]),d=w.useCallback(()=>{e&&n({...e,phase:"regular"})},[e]),h=w.useCallback(()=>{if(!e||e.phase!=="offseason")return;const S=pI(e),C=S.teams.find(E=>E.id===S.selectedTeamId);C&&o(Ki(C.division,!1,C.prestige)),l(c()),n({...S,seasonBonus:null})},[e]),p=w.useCallback(S=>{if(!e)return;l([]);let C={...e.finances};S==="bonus_sponsor_10"?C={...C,sponsorIncome:Math.round(C.sponsorIncome*1.1)}:S==="bonus_wage_minus10"&&(C={...C,totalWages:Math.round(C.totalWages*.9)}),n({...e,seasonBonus:S,finances:C})},[e]),g=w.useCallback(()=>{if(!e||e.phase!=="regular")return;const S=__(e);if(S.phase==="offseason"){const C=S.teams.find(E=>E.id===S.selectedTeamId);C&&o(Ki(C.division,!0,C.prestige))}n(S)},[e]),v=w.useCallback(S=>{if(!e||e.phase!=="playoffs")return;const C=hI(e,S);if(C.phase==="offseason"){const E=C.teams.find(k=>k.id===C.selectedTeamId);E&&o(Ki(E.division,!0,E.prestige))}n(C)},[e]),b=w.useCallback((S,C,E)=>{if(!e)return{success:!1,reason:"Game not initialized"};const{success:k,newState:T,reason:N}=b_(e,S,C,E);return n(T),o(M=>M.filter(A=>A.id!==S.id)),{success:k,reason:N}},[e]),y=w.useCallback(()=>{if(!e||e.youthIntakeUsed)return;const S=e.teams.find(M=>M.id===e.selectedTeamId),C=12-S.players.length;if(C<=0)return;const E=Math.min(2,C),k=[];let T=0;for(let M=0;M<E;M++){const A=g_(S.prestige);A.isStarter=!1,A.seasonsWithoutPlay=0,k.push(A),T+=A.salary}const N=e.teams.map(M=>M.id===e.selectedTeamId?{...M,players:[...M.players,...k]}:M);n({...e,teams:N,finances:{...e.finances,totalWages:e.finances.totalWages+T},youthIntakeUsed:!0})},[e]),m=w.useCallback(S=>{if(!e)return;const C=e.teams.find(T=>T.id===e.selectedTeamId),E=C.players.find(T=>T.id===S);if(!E||!E.isStarter&&C.players.filter(T=>T.isStarter).length>=5)return;const k=e.teams.map(T=>T.id===e.selectedTeamId?{...T,players:T.players.map(N=>N.id===S?{...N,isStarter:!N.isStarter}:N)}:T);n({...e,teams:k})},[e]),x=w.useCallback(S=>{if(!e)return;const E=e.teams.find(T=>T.id===e.selectedTeamId).players.find(T=>T.id===S);if(!E)return;const k=e.teams.map(T=>T.id===e.selectedTeamId?{...T,players:T.players.filter(N=>N.id!==S)}:T);n({...e,teams:k,finances:{...e.finances,totalWages:e.finances.totalWages-E.salary}})},[e]),_=w.useCallback(S=>{if(!e)return{success:!1,reason:"Game not initialized"};const C=e.teams.find(A=>A.id===e.selectedTeamId),E=C.players.find(A=>A.id===S);if(!E)return{success:!1,reason:"Player not found"};if(E.contractYears>1)return{success:!1,reason:"Can only renew with 1 year remaining"};let k,T;if(E.salary===0){const A=1+C.prestige*.1;k=Math.round(E.overall*100*A),T=k}else{const A=1+C.prestige*.1;k=Math.round(E.salary*1.15*A),T=k-E.salary}if(e.finances.balance<T)return{success:!1,reason:"Insufficient funds for salary increase"};const N=e.phase==="offseason"?2:1,M=e.teams.map(A=>A.id===e.selectedTeamId?{...A,players:A.players.map(D=>D.id===S?{...D,contractYears:D.contractYears+N,salary:k,isYouth:!1}:D)}:A);return n({...e,teams:M,finances:{...e.finances,totalWages:e.finances.totalWages+T,balance:e.finances.balance-T}}),{success:!0}},[e]);return u.jsx(Eh.Provider,{value:{state:e,view:r,freeAgents:i,seasonBonusChoices:a,multiplayerLobby:null,setView:s,startGame:f,playWeek:g,playPlayoffGame:v,makeTransferOffer:b,intakeYouth:y,startRegularSeason:d,startNewSeason:h,toggleStarter:m,releasePlayer:x,renewContract:_,chooseSeasonBonus:p},children:t})}function gI({children:t,initialGameState:e,initialFinances:n,lobbyState:r,onReady:s,onCancelReady:i,onUpdateTeam:o}){const[a,l]=w.useState(()=>({...e,selectedTeamId:r.myTeamId,finances:n})),[c,f]=w.useState("dashboard"),[d,h]=w.useState(()=>{const N=e.teams.find(M=>M.id===r.myTeamId);return N?Ki(N.division,!1,N.prestige):[]}),[p]=w.useState([]);w.useEffect(()=>{l(N=>({...e,selectedTeamId:r.myTeamId,finances:n}))},[e.week,e.phase,e.standings]),w.useEffect(()=>{l(N=>({...N,finances:n}))},[n.ticketIncome,n.balance]);const g=w.useCallback(async N=>{l(N),await o(N,N.finances)},[o]),v=w.useCallback(async()=>{!a||a.phase!=="regular"||(r.myReady?await i():await s())},[a,r.myReady,s,i]),b=w.useCallback(N=>{},[]),y=w.useCallback(()=>{a&&l({...a,phase:"regular"})},[a]),m=w.useCallback(()=>{},[]),x=w.useCallback(N=>{},[]),_=w.useCallback(N=>{if(!a)return;let M={...a.finances};N==="bonus_sponsor_10"?M={...M,sponsorIncome:Math.round(M.sponsorIncome*1.1)}:N==="bonus_wage_minus10"&&(M={...M,totalWages:Math.round(M.totalWages*.9)}),g({...a,seasonBonus:N,finances:M})},[a,g]),S=w.useCallback((N,M,A)=>{if(!a)return{success:!1,reason:"Game not initialized"};const{success:D,newState:j,reason:L}=b_(a,N,M,A);return h(W=>W.filter(U=>U.id!==N.id)),D?g(j):l(j),{success:D,reason:L}},[a,g]),C=w.useCallback(()=>{if(!a||a.youthIntakeUsed)return;const N=a.teams.find(W=>W.id===a.selectedTeamId),M=12-N.players.length;if(M<=0)return;const A=Math.min(2,M),D=[];let j=0;for(let W=0;W<A;W++){const U=g_(N.prestige);U.isStarter=!1,D.push(U),j+=U.salary}const L=a.teams.map(W=>W.id===a.selectedTeamId?{...W,players:[...W.players,...D]}:W);g({...a,teams:L,finances:{...a.finances,totalWages:a.finances.totalWages+j},youthIntakeUsed:!0})},[a,g]),E=w.useCallback(N=>{if(!a)return;const M=a.teams.find(j=>j.id===a.selectedTeamId),A=M.players.find(j=>j.id===N);if(!A||!A.isStarter&&M.players.filter(j=>j.isStarter).length>=5)return;const D=a.teams.map(j=>j.id===a.selectedTeamId?{...j,players:j.players.map(L=>L.id===N?{...L,isStarter:!L.isStarter}:L)}:j);g({...a,teams:D})},[a,g]),k=w.useCallback(N=>{if(!a)return;const A=a.teams.find(j=>j.id===a.selectedTeamId).players.find(j=>j.id===N);if(!A)return;const D=a.teams.map(j=>j.id===a.selectedTeamId?{...j,players:j.players.filter(L=>L.id!==N)}:j);g({...a,teams:D,finances:{...a.finances,totalWages:a.finances.totalWages-A.salary}})},[a,g]),T=w.useCallback(N=>{if(!a)return{success:!1,reason:"Game not initialized"};const M=a.teams.find(U=>U.id===a.selectedTeamId),A=M.players.find(U=>U.id===N);if(!A)return{success:!1,reason:"Player not found"};if(A.contractYears>1)return{success:!1,reason:"Can only renew with 1 year remaining"};let D,j;if(A.salary===0?(D=Math.round(A.overall*100*(1+M.prestige*.1)),j=D):(D=Math.round(A.salary*1.15*(1+M.prestige*.1)),j=D-A.salary),a.finances.balance<j)return{success:!1,reason:"Insufficient funds"};const L=a.phase==="offseason"?2:1,W=a.teams.map(U=>U.id===a.selectedTeamId?{...U,players:U.players.map(I=>I.id===N?{...I,contractYears:I.contractYears+L,salary:D,isYouth:!1}:I)}:U);return g({...a,teams:W,finances:{...a.finances,totalWages:a.finances.totalWages+j,balance:a.finances.balance-j}}),{success:!0}},[a,g]);return u.jsx(Eh.Provider,{value:{state:a,view:c,freeAgents:d,seasonBonusChoices:p,multiplayerLobby:r,setView:f,startGame:b,playWeek:v,playPlayoffGame:x,makeTransferOffer:S,intakeYouth:C,startRegularSeason:y,startNewSeason:m,toggleStarter:E,releasePlayer:k,renewContract:T,chooseSeasonBonus:_},children:t})}function Ir(){const t=w.useContext(Eh);if(!t)throw new Error("useGame must be used within GameProvider");return t}function yI({onSelectTeam:t}){const[e,n]=F.useState("rkl"),r=Bs.filter(s=>s.division===e);return u.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center",children:u.jsxs("div",{className:"w-full max-w-3xl",children:[u.jsxs("div",{className:"fm-header px-6 py-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-foreground tracking-tight",children:" Basketball Manager"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Select your team to begin"})]}),u.jsx("div",{className:"flex gap-2 px-6 py-3 border-b border-border bg-card/50",children:wi.map(s=>u.jsx("button",{onClick:()=>n(s.id),className:`px-4 py-2 text-sm font-medium rounded-md whitespace-nowrap transition-all ${e===s.id?"bg-primary text-primary-foreground":"bg-secondary text-muted-foreground hover:text-foreground"}`,children:s.name},s.id))}),u.jsx("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 gap-3",children:r.map(s=>u.jsxs("button",{onClick:()=>t(s.id),className:"flex items-center gap-4 p-4 rounded-lg bg-card border border-border hover:border-primary/50 hover:glow-primary transition-all group text-left",children:[u.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-sm font-bold shrink-0",style:{backgroundColor:s.color+"33",color:s.color},children:s.shortName}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-sm font-semibold text-foreground group-hover:text-primary transition-colors",children:s.name}),u.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[u.jsxs("span",{className:"text-xs text-muted-foreground",children:["Prestige: ","".repeat(s.prestige)]}),u.jsxs("span",{className:"text-xs text-mono text-muted-foreground",children:["$",(s.budget/2).toLocaleString()]})]})]}),u.jsx("svg",{className:"w-4 h-4 text-muted-foreground group-hover:text-primary transition-colors shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},s.id))})]})})}function pg(t){const e=t.players.filter(i=>i.isStarter);if(e.length<5)return"balanced";const n=e.filter(i=>i.role==="Defender").length,r=e.filter(i=>i.role==="Sharpshooter").length,s=e.filter(i=>i.role==="Playmaker").length;return n>=3?"defensive":r>=3?"offensive":s>=3?"playmaking":"balanced"}function vI(t,e){return t==="balanced"||e==="balanced"?0:t==="defensive"&&e==="offensive"||t==="offensive"&&e==="playmaking"||t==="playmaking"&&e==="defensive"?10:0}function mg(){var x;const{state:t,playWeek:e,startRegularSeason:n,startNewSeason:r,freeAgents:s,seasonBonusChoices:i,chooseSeasonBonus:o,multiplayerLobby:a}=Ir();if(!t)return null;const l=t.teams.find(_=>_.id===t.selectedTeamId),c=t.seasonModifier?uI.find(_=>_.id===t.seasonModifier):null,f=t.seasonBonus?Wd.find(_=>_.id===t.seasonBonus):null,d=((x=wi.find(_=>_.id===l.division))==null?void 0:x.name)||"",h=l.division==="lkl",p=[...t.standings[l.division]||[]].sort((_,S)=>S.wins-_.wins||S.pointsFor-S.pointsAgainst-(_.pointsFor-_.pointsAgainst)),g=p.find(_=>_.teamId===t.selectedTeamId),v=p.findIndex(_=>_.teamId===t.selectedTeamId)+1,b=[...t.schedule].reverse().find(_=>_.homeTeamId===t.selectedTeamId||_.awayTeamId===t.selectedTeamId),y=pg(l),m=t.phase==="preseason"&&!t.gameOver&&!t.seasonBonus&&i.length>0;return u.jsxs("div",{className:"space-y-4 animate-fade-in",children:[u.jsx("div",{className:"fm-header px-4 py-4 rounded-lg",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-14 h-14 rounded-lg flex items-center justify-center text-lg font-black",style:{backgroundColor:l.color+"33",color:l.color},children:l.shortName}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-foreground",children:l.name}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[d,"  Season ",t.season]})]})]})}),m&&u.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-2",children:"Pick a Season Bonus"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:i.map(_=>{const S=Wd.find(C=>C.id===_);return u.jsxs("button",{onClick:()=>o(_),className:"flex flex-col items-start gap-1 border border-border rounded-lg p-3 hover:border-primary hover:bg-primary/5 transition-colors text-left",children:[u.jsx("span",{className:"text-2xl",children:S.emoji}),u.jsx("span",{className:"text-xs font-semibold text-foreground uppercase tracking-wider",children:S.name}),u.jsx("span",{className:"text-xs text-muted-foreground",children:S.description})]},_)})})]}),t.phase==="offseason"&&u.jsx("div",{className:"bg-primary/10 border border-primary/30 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-3xl",children:""}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-sm font-bold text-primary",children:"OFF-SEASON PHASE"}),u.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Enhanced transfer market: ",s.length," players available (",h?"10 for B League":"18 for A League",")"]}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Renew contracts, make transfers, and prepare for next season"})]})]})}),c&&u.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Season Modifier"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-3xl",children:c.emoji}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold text-foreground",children:c.name}),u.jsx("div",{className:"text-xs text-muted-foreground",children:c.description})]})]})]}),f&&u.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Season Bonus"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-3xl",children:f.emoji}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold text-foreground",children:f.name}),u.jsx("div",{className:"text-xs text-muted-foreground",children:f.description})]})]})]}),u.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-2",children:"Team Strategy"}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:`text-3xl ${y==="defensive"?"":y==="offensive"?"":y==="playmaking"?"":""}`}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold text-foreground capitalize",children:y==="defensive"?"Defense Focused":y==="offensive"?"Offense Focused":y==="playmaking"?"Playmaking":"Balanced"}),u.jsx("div",{className:"text-xs text-muted-foreground",children:y==="defensive"?"3+ Defenders  +10% vs Offense":y==="offensive"?"3+ Sharpshooters  +10% vs Playmaking":y==="playmaking"?"3+ Playmakers  +10% vs Defense":"Mix of roles - No bonus/penalty"})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Starters"}),u.jsxs("div",{className:"text-lg font-bold text-foreground",children:[l.players.filter(_=>_.isStarter).length,"/5"]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-3 lg:grid-cols-6 gap-3",children:[u.jsx(gs,{label:"Record",value:g?`${g.wins}-${g.losses}`:"0-0"}),u.jsx(gs,{label:"Rank",value:`#${v}`}),u.jsx(gs,{label:"Squad",value:`${l.players.length}`}),u.jsx(gs,{label:"Season",value:`${t.season}`}),u.jsx(gs,{label:"Week",value:`${t.week}/${2*(t.teams.filter(_=>_.division===l.division).length-1)}`}),u.jsx(gs,{label:"Phase",value:t.phase.charAt(0).toUpperCase()+t.phase.slice(1)})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[b&&u.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-3",children:"Last Match"}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(gg,{teamId:b.homeTeamId,teams:t.teams}),u.jsxs("div",{className:"text-mono text-2xl font-bold text-foreground",children:[b.homeScore," - ",b.awayScore]}),u.jsx(gg,{teamId:b.awayTeamId,teams:t.teams})]})]}),u.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-3",children:"Finances"}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-foreground",children:"Net Result"}),u.jsxs("span",{className:`text-mono text-lg font-bold ${t.finances.ticketIncome+t.finances.sponsorIncome+t.finances.prizeIncome-t.finances.totalWages-t.finances.transferSpending>=0?"text-success":"text-destructive"}`,children:[t.finances.ticketIncome+t.finances.sponsorIncome+t.finances.prizeIncome-t.finances.totalWages-t.finances.transferSpending>=0?"+":"","$",(t.finances.ticketIncome+t.finances.sponsorIncome+t.finances.prizeIncome-t.finances.totalWages-t.finances.transferSpending).toLocaleString()]})]})]})]}),u.jsxs("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"px-4 py-3 border-b border-border flex items-center justify-between",children:[u.jsxs("span",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:[d," Standings"]}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Strategy: Rock Paper Scissors"})]}),u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border",children:[u.jsx("th",{className:"text-left px-4 py-2 text-muted-foreground font-medium text-xs",children:"#"}),u.jsx("th",{className:"text-left px-3 py-2 text-muted-foreground font-medium text-xs",children:"Team"}),u.jsx("th",{className:"px-3 py-2 text-muted-foreground font-medium text-xs text-center",children:"Strategy"}),u.jsx("th",{className:"px-3 py-2 text-muted-foreground font-medium text-xs text-center",children:"W"}),u.jsx("th",{className:"px-3 py-2 text-muted-foreground font-medium text-xs text-center",children:"L"}),u.jsx("th",{className:"px-3 py-2 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"PF"}),u.jsx("th",{className:"px-3 py-2 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"PA"})]})}),u.jsx("tbody",{className:"divide-y divide-border",children:p.map((_,S)=>{const C=t.teams.find(N=>N.id===_.teamId),E=_.teamId===t.selectedTeamId,k=pg(C),T=vI(k,y);return u.jsxs("tr",{className:E?"bg-primary/10":"",children:[u.jsx("td",{className:"px-4 py-2 text-mono text-muted-foreground text-sm",children:S+1}),u.jsx("td",{className:"px-3 py-2",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:C.color}}),u.jsx("span",{className:`font-medium ${E?"text-primary":"text-foreground"}`,children:C.name})]})}),u.jsx("td",{className:"px-3 py-2 text-center",children:u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[u.jsx("span",{className:"text-sm",children:k==="defensive"?"":k==="offensive"?"":k==="playmaking"?"":""}),T>0&&u.jsxs("span",{className:"text-xs font-bold text-green-500",children:["+",T,"%"]})]})}),u.jsx("td",{className:"px-3 py-2 text-center text-mono text-foreground",children:_.wins}),u.jsx("td",{className:"px-3 py-2 text-center text-mono text-muted-foreground",children:_.losses}),u.jsx("td",{className:"px-3 py-2 text-center text-mono text-muted-foreground hidden sm:table-cell",children:_.pointsFor}),u.jsx("td",{className:"px-3 py-2 text-center text-mono text-muted-foreground hidden sm:table-cell",children:_.pointsAgainst})]},_.teamId)})})]})]}),t.gameOver?u.jsxs("div",{className:"bg-destructive/20 border border-destructive rounded-lg p-8 text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-destructive mb-2",children:"Game Over"}),u.jsx("div",{className:"text-sm text-foreground mb-4",children:t.gameOverReason}),u.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-3 gap-3 text-left text-xs text-muted-foreground",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold text-foreground mb-1",children:"Run Summary"}),u.jsxs("div",{children:["Seasons managed: ",u.jsx("span",{className:"font-mono text-foreground",children:t.season})]}),u.jsxs("div",{children:["Final division: ",u.jsx("span",{className:"font-mono text-foreground",children:l.division==="rkl"?"A League":"B League"})]}),u.jsxs("div",{children:["Last net result:"," ",u.jsxs("span",{className:`font-mono ${t.finances.ticketIncome+t.finances.sponsorIncome+t.finances.prizeIncome-t.finances.totalWages-t.finances.transferSpending>=0?"text-success":"text-destructive"}`,children:[t.finances.ticketIncome+t.finances.sponsorIncome+t.finances.prizeIncome-t.finances.totalWages-t.finances.transferSpending>=0?"+":"",(t.finances.ticketIncome+t.finances.sponsorIncome+t.finances.prizeIncome-t.finances.totalWages-t.finances.transferSpending).toLocaleString()]})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold text-foreground mb-1",children:"Achievements (this run)"}),u.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[t.season>=3&&u.jsx("li",{children:"Survivor: 3+ seasons managed"}),t.playoffBracket.length>0&&u.jsx("li",{children:"Playoff Contender: reached playoffs"}),t.finances.ticketIncome+t.finances.sponsorIncome+t.finances.prizeIncome-t.finances.totalWages-t.finances.transferSpending>0&&u.jsx("li",{children:"Big Earner: finished with positive net result"}),t.season<3&&t.playoffBracket.length===0&&u.jsx("li",{children:"Rookie Run: short first career"})]})]}),u.jsx("div",{className:"flex flex-col justify-between",children:u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold text-foreground mb-1",children:"Next Steps"}),u.jsx("div",{children:"Refresh the page to start a new career with a new team and new bonuses."})]})})]})]}):u.jsxs("div",{className:"pt-1",children:[t.phase==="preseason"&&u.jsx("button",{onClick:n,className:"w-full lg:w-auto lg:px-8 py-3 rounded-lg bg-primary text-primary-foreground font-bold text-sm tracking-wide hover:opacity-90 transition-opacity",children:"Start Regular Season "}),t.phase==="regular"&&(()=>{if(a){const _=a.myReady,S=a.opponentReady;return u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground self-center",children:[u.jsx("span",{className:`w-2 h-2 rounded-full ${S?"bg-green-500":"bg-muted-foreground/40"}`}),"Opponent ",S?"ready ":"not ready"]}),u.jsx("button",{onClick:e,className:`w-full lg:w-auto lg:px-8 py-3 rounded-lg font-bold text-sm tracking-wide transition-all ${_?"bg-green-600 text-white hover:bg-green-700":"bg-primary text-primary-foreground hover:opacity-90"}`,children:_?" Ready  click to cancel":`Ready for Week ${t.week+1} `}),_&&S&&u.jsx("span",{className:"text-xs text-green-500 self-center animate-pulse",children:"Simulating..."})]})}return u.jsxs("button",{onClick:e,className:"w-full lg:w-auto lg:px-8 py-3 rounded-lg bg-primary text-primary-foreground font-bold text-sm tracking-wide hover:opacity-90 transition-opacity",children:["Play Week ",t.week+1," "]})})(),t.phase==="offseason"&&u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[u.jsx("button",{onClick:r,className:"flex-1 sm:flex-initial sm:px-8 py-3 rounded-lg bg-primary text-primary-foreground font-bold text-sm tracking-wide hover:opacity-90 transition-opacity",children:"Start New Season "}),u.jsxs("div",{className:"text-xs text-muted-foreground self-center",children:["Market will shrink to ",h?"5":"7"," players in new season"]})]})]})]})}function gs({label:t,value:e}){return u.jsxs("div",{className:"bg-card border border-border rounded-lg p-3 text-center",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:t}),u.jsx("div",{className:"text-lg font-bold text-mono text-foreground",children:e})]})}function gg({teamId:t,teams:e}){const n=e.find(r=>r.id===t);return n?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center text-[10px] font-bold",style:{backgroundColor:n.color+"33",color:n.color},children:n.shortName}),u.jsx("span",{className:"text-sm font-medium text-foreground hidden sm:inline",children:n.shortName})]}):null}function xI(){const{state:t,intakeYouth:e,toggleStarter:n,releasePlayer:r,renewContract:s}=Ir();if(!t)return null;const i=t.teams.find(p=>p.id===t.selectedTeamId),o=i.players,a=o.filter(p=>p.isStarter),l=o.filter(p=>!p.isStarter),c=o.length>0?{height:Math.round(o.reduce((p,g)=>p+g.attributes.height,0)/o.length),shooting:Math.round(o.reduce((p,g)=>p+g.attributes.shooting,0)/o.length),defending:Math.round(o.reduce((p,g)=>p+g.attributes.defending,0)/o.length),dribbling:Math.round(o.reduce((p,g)=>p+g.attributes.dribbling,0)/o.length),passing:Math.round(o.reduce((p,g)=>p+g.attributes.passing,0)/o.length)}:null,f=o.length>0?Math.round(o.reduce((p,g)=>p+g.overall,0)/o.length):0,d=(t.phase==="preseason"||t.phase==="offseason")&&!t.youthIntakeUsed,h=o.length>=12;return u.jsxs("div",{className:"space-y-4 animate-fade-in",children:[u.jsxs("div",{className:"fm-header px-4 py-3 rounded-lg",children:[u.jsx("h2",{className:"text-base font-bold text-foreground uppercase tracking-wider",children:"Squad"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.length,"/12 players  ",a.length,"/5 starters  Avg OVR ",f]}),h&&u.jsx("p",{className:"text-xs text-destructive mt-1",children:" Squad at maximum capacity"})]}),c&&u.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-3",children:"Team Averages"}),u.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[u.jsx($i,{label:"HGT",value:`${c.height}`}),u.jsx($i,{label:"SHO",value:`${c.shooting}`,rating:c.shooting}),u.jsx($i,{label:"DEF",value:`${c.defending}`,rating:c.defending}),u.jsx($i,{label:"DRI",value:`${c.dribbling}`,rating:c.dribbling}),u.jsx($i,{label:"PAS",value:`${c.passing}`,rating:c.passing})]})]}),a.length>0&&u.jsxs("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:[u.jsx("div",{className:"px-4 py-2 bg-primary/10 border-b border-border",children:u.jsxs("h3",{className:"text-sm font-bold text-primary",children:[" STARTERS (",a.length,"/5)"]})}),u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border bg-secondary/50",children:[u.jsx("th",{className:"text-left px-4 py-2.5 text-muted-foreground font-medium text-xs",children:"Player"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center",children:"OVR"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center",children:"Role"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"Age"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"Salary"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center",children:"CTR"})]})}),u.jsx("tbody",{className:"divide-y divide-border",children:a.sort((p,g)=>g.overall-p.overall).map(p=>u.jsx(yg,{player:p,toggleStarter:n,releasePlayer:r,renewContract:s,teamPrestige:i.prestige},p.id))})]})]}),l.length>0&&u.jsxs("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:[u.jsx("div",{className:"px-4 py-2 bg-secondary/50 border-b border-border",children:u.jsxs("h3",{className:"text-sm font-bold text-muted-foreground",children:["BENCH (",l.length,")"]})}),u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border bg-secondary/50",children:[u.jsx("th",{className:"text-left px-4 py-2.5 text-muted-foreground font-medium text-xs",children:"Player"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center",children:"OVR"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center",children:"Role"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"Age"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"Salary"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center",children:"CTR"})]})}),u.jsx("tbody",{className:"divide-y divide-border",children:l.sort((p,g)=>g.overall-p.overall).map(p=>u.jsx(yg,{player:p,toggleStarter:n,releasePlayer:r,renewContract:s,teamPrestige:i.prestige},p.id))})]})]}),d&&u.jsxs("div",{className:"flex flex-col items-center pt-2 space-y-2",children:[u.jsx("button",{onClick:e,disabled:h,className:`px-8 py-3 rounded-lg font-bold text-sm tracking-wide transition-opacity ${h?"bg-secondary text-muted-foreground cursor-not-allowed":"bg-primary text-primary-foreground hover:opacity-90 glow-primary"}`,children:" Youth Intake (2 Players)"}),h&&u.jsx("p",{className:"text-xs text-muted-foreground",children:"Squad is full. Release some players before youth intake."}),t.youthIntakeUsed&&u.jsx("p",{className:"text-xs text-muted-foreground",children:"Youth intake already used this season"})]})]})}function yg({player:t,toggleStarter:e,releasePlayer:n,renewContract:r,teamPrestige:s}){const[i,o]=w.useState(!1),a={Sharpshooter:"text-warning",Defender:"text-primary",Playmaker:"text-success"},l=d=>{d.stopPropagation(),e(t.id)},c=d=>{d.stopPropagation(),confirm(`Release ${t.name}? This cannot be undone.`)&&n(t.id)},f=d=>{d.stopPropagation();let h,p;if(t.isYouth&&t.salary===0){const g=1+s*.1;h=Math.round(t.overall*100*g),p=`Sign ${t.name} to paid contract for 1 more year?
New salary: $${h.toLocaleString()} (currently FREE)`}else{const g=1+s*.1;h=Math.round(t.salary*1.15*g),p=`Renew ${t.name}'s contract for 1 more year?
New salary: $${h.toLocaleString()}`}if(confirm(p)){const g=r(t.id);g.success||alert(g.reason||"Cannot renew contract")}};return u.jsxs(u.Fragment,{children:[u.jsxs("tr",{onClick:()=>o(!i),className:"cursor-pointer hover:bg-secondary/30 transition-colors",children:[u.jsx("td",{className:"px-4 py-2.5",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:l,className:`text-xs px-2 py-0.5 rounded transition-colors ${t.isStarter?"bg-primary text-primary-foreground":"bg-secondary text-muted-foreground hover:bg-secondary/80"}`,title:t.isStarter?"Remove from starters":"Set as starter",children:t.isStarter?"":""}),t.isYouth&&u.jsx("span",{className:"text-xs",children:""}),u.jsx("span",{className:"font-medium text-foreground",children:t.name}),(t.seasonsWithoutPlay||0)>0&&u.jsxs("span",{className:"text-xs text-destructive",title:`${t.seasonsWithoutPlay} season(s) without play`,children:["",t.seasonsWithoutPlay]})]})}),u.jsx("td",{className:"px-3 py-2.5 text-center",children:u.jsx("span",{className:`text-mono font-bold ${Nh(t.overall)}`,children:t.overall})}),u.jsx("td",{className:`px-3 py-2.5 text-center font-medium ${a[t.role]||""}`,children:t.role.slice(0,3).toUpperCase()}),u.jsxs("td",{className:"px-3 py-2.5 text-center text-muted-foreground hidden sm:table-cell",children:[t.age,t.age>=30&&u.jsx("span",{className:"text-destructive ml-1",children:""})]}),u.jsx("td",{className:"px-3 py-2.5 text-center text-mono text-muted-foreground hidden sm:table-cell",children:t.salary===0?u.jsx("span",{className:"text-success font-bold",children:"FREE"}):`$${t.salary.toLocaleString()}`}),u.jsxs("td",{className:"px-3 py-2.5 text-center text-muted-foreground",children:[t.contractYears,"yr"]})]}),i&&u.jsx("tr",{children:u.jsxs("td",{colSpan:6,className:"px-4 py-3 bg-panel",children:[u.jsxs("div",{className:"grid grid-cols-5 gap-3 max-w-md",children:[u.jsx(Fi,{label:"Height",value:`${t.attributes.height}cm`}),u.jsx(Fi,{label:"Shooting",value:`${t.attributes.shooting}`,rating:t.attributes.shooting}),u.jsx(Fi,{label:"Defending",value:`${t.attributes.defending}`,rating:t.attributes.defending}),u.jsx(Fi,{label:"Dribbling",value:`${t.attributes.dribbling}`,rating:t.attributes.dribbling}),u.jsx(Fi,{label:"Passing",value:`${t.attributes.passing}`,rating:t.attributes.passing})]}),u.jsxs("div",{className:"mt-2 text-xs text-muted-foreground sm:hidden",children:["Age ",t.age,"  ",t.salary===0?u.jsx("span",{className:"text-success font-bold",children:"FREE"}):`$${t.salary.toLocaleString()}/yr`]}),t.age<23&&u.jsx("div",{className:"mt-2 text-xs text-success",children:" Young player - develops faster"}),t.age>=30&&u.jsx("div",{className:"mt-2 text-xs text-destructive",children:" Veteran - may retire due to stress"}),u.jsxs("div",{className:"mt-3 flex gap-2",children:[u.jsx("button",{onClick:c,className:"px-3 py-1.5 text-xs bg-destructive text-destructive-foreground rounded hover:opacity-90 transition-opacity font-medium",children:" Release Player"}),t.contractYears===1&&u.jsx("button",{onClick:f,className:"px-3 py-1.5 text-xs bg-primary text-primary-foreground rounded hover:opacity-90 transition-opacity font-medium",children:t.isYouth&&t.salary===0?" Sign Contract":" Renew Contract (+15%)"})]})]})})]})}function Fi({label:t,value:e,rating:n}){return u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-[10px] text-muted-foreground",children:t}),u.jsx("div",{className:`text-sm font-bold text-mono ${n?Nh(n):"text-foreground"}`,children:e})]})}function $i({label:t,value:e,rating:n}){return u.jsxs("div",{className:"text-center bg-panel rounded p-2",children:[u.jsx("div",{className:"text-[10px] text-muted-foreground",children:t}),u.jsx("div",{className:`text-base font-bold text-mono ${n?Nh(n):"text-foreground"}`,children:e})]})}function Nh(t){return t>=75?"text-success":t>=55?"text-warning":"text-destructive"}function wI(){const{freeAgents:t,makeTransferOffer:e,state:n}=Ir(),[r,s]=w.useState(1),[i,o]=w.useState(null);if(!n)return null;const l=n.teams.find(h=>h.id===n.selectedTeamId).division==="lkl",c=n.phase==="offseason",f=t.filter(h=>!n.declinedPlayerIds.includes(h.id)),d=h=>{const{success:p,reason:g}=e(h,r,h.askingSalary);if(p)o(` ${h.name} signed!`);else{const v=g||`${h.name} declined and left the market.`;o(` ${v}`)}setTimeout(()=>o(null),3e3)};return u.jsxs("div",{className:"space-y-4 animate-fade-in",children:[u.jsxs("div",{className:"fm-header px-4 py-3 rounded-lg",children:[u.jsx("h2",{className:"text-base font-bold text-foreground uppercase tracking-wider",children:"Transfer Market"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.length," free agents available",c&&" (Off-season expanded market)"]})]}),u.jsxs("div",{className:`border rounded-lg px-4 py-3 space-y-2 ${l?"bg-warning/10 border-warning/30":"bg-primary/10 border-primary/30"}`,children:[u.jsx("p",{className:`text-sm font-bold ${l?"text-warning":"text-primary"}`,children:l?" B LEAGUE MARKET - UNCERTAIN RATINGS":" A LEAGUE MARKET"}),u.jsx("ul",{className:`text-xs space-y-1 ml-4 ${l?"text-warning":"text-primary"}`,children:l?u.jsxs(u.Fragment,{children:[u.jsxs("li",{children:[" Regular Season: ",c?"10 (now)":"5 players available"]}),u.jsxs("li",{children:[" Off-Season: ",c?"10 players (current)":"10 players when in off-season"]}),u.jsx("li",{children:" Players come FREE (no salary cost)"}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:" Ratings shown as RANGES (e.g., 40-55)"})]}),u.jsx("li",{children:" When you sign, player gets RANDOM rating in that range"}),u.jsx("li",{children:' Example: Shows "40-55"  You might get 43, 48, or 52'})]}):u.jsxs(u.Fragment,{children:[u.jsxs("li",{children:[" Regular Season: ",c?"18 (now)":"7 players available"]}),u.jsxs("li",{children:[" Off-Season: ",c?"18 players (current)":"18 players when in off-season"]}),u.jsx("li",{children:" Pay transfer fees and salaries"}),u.jsx("li",{children:" Accurate player ratings (exact values shown)"})]})})]}),u.jsxs("div",{className:"bg-warning/10 border border-warning/30 rounded-lg px-4 py-3 space-y-1",children:[u.jsx("p",{className:"text-xs text-warning",children:" Declined players are permanently removed from the market this season."}),u.jsx("p",{className:"text-xs text-warning",children:" Maximum squad capacity is 12 players."})]}),i&&u.jsx("div",{className:"bg-card border border-border rounded-lg p-4 animate-slide-up",children:u.jsx("p",{className:"text-sm text-foreground",children:i})}),!l&&u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Contract:"}),[1,2].map(h=>u.jsxs("button",{onClick:()=>s(h),className:`px-4 py-1.5 rounded text-sm font-medium transition-all ${r===h?"bg-primary text-primary-foreground":"bg-secondary text-muted-foreground"}`,children:[h," Year",h>1?"s":""]},h))]}),u.jsxs("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:[u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border bg-secondary/50",children:[u.jsx("th",{className:"text-left px-4 py-2.5 text-muted-foreground font-medium text-xs",children:"Player"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center",children:"OVR"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center",children:"Role"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"SHO"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"DEF"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"DRI"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-center hidden sm:table-cell",children:"PAS"}),u.jsx("th",{className:"px-3 py-2.5 text-muted-foreground font-medium text-xs text-right",children:l?"Cost":"Salary"}),u.jsx("th",{className:"px-4 py-2.5 text-muted-foreground font-medium text-xs text-center"})]})}),u.jsx("tbody",{className:"divide-y divide-border",children:f.map(h=>u.jsxs("tr",{className:"hover:bg-secondary/30 transition-colors",children:[u.jsx("td",{className:"px-4 py-2.5",children:u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-foreground",children:h.name}),u.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["Age ",h.age,"  ",h.attributes.height,"cm"]})]})}),u.jsxs("td",{className:"px-3 py-2.5 text-center",children:[u.jsx("span",{className:`text-mono font-bold ${zi(h.overall)}`,children:h.overall}),l&&u.jsx("span",{className:"text-xs text-destructive ml-1",title:"Inflated rating!",children:""})]}),u.jsx("td",{className:`px-3 py-2.5 text-center font-medium ${_I(h.role)}`,children:h.role.slice(0,3).toUpperCase()}),u.jsx("td",{className:`px-3 py-2.5 text-center text-mono hidden sm:table-cell ${zi(h.attributes.shooting)}`,children:h.attributes.shooting}),u.jsx("td",{className:`px-3 py-2.5 text-center text-mono hidden sm:table-cell ${zi(h.attributes.defending)}`,children:h.attributes.defending}),u.jsx("td",{className:`px-3 py-2.5 text-center text-mono hidden sm:table-cell ${zi(h.attributes.dribbling)}`,children:h.attributes.dribbling}),u.jsx("td",{className:`px-3 py-2.5 text-center text-mono hidden sm:table-cell ${zi(h.attributes.passing)}`,children:h.attributes.passing}),u.jsx("td",{className:"px-3 py-2.5 text-right text-mono text-foreground font-medium",children:l?u.jsx("span",{className:"text-success font-bold",children:"FREE"}):`$${h.askingSalary.toLocaleString()}`}),u.jsx("td",{className:"px-4 py-2.5 text-center",children:u.jsx("button",{onClick:()=>d(h),className:"px-3 py-1.5 rounded bg-primary text-primary-foreground text-xs font-bold hover:opacity-90 transition-opacity",children:"Sign"})})]},h.id))})]}),f.length===0&&u.jsx("div",{className:"text-center py-10 text-muted-foreground text-sm",children:"No free agents available"})]})]})}function _I(t){switch(t){case"Sharpshooter":return"text-warning";case"Defender":return"text-primary";case"Playmaker":return"text-success";default:return"text-muted-foreground"}}function zi(t){return t>=75?"text-success":t>=55?"text-warning":"text-destructive"}function bI(){const{state:t}=Ir();if(!t)return null;const e=t.finances,n=e.ticketIncome+e.sponsorIncome+e.prizeIncome,r=e.totalWages+e.transferSpending,s=n-r;return u.jsxs("div",{className:"space-y-3 animate-fade-in",children:[u.jsxs("div",{className:"fm-header px-3 py-2 rounded-lg",children:[u.jsx("h2",{className:"text-sm font-bold text-foreground uppercase tracking-wider",children:"Finances"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"All income halved this season"})]}),u.jsxs("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:[u.jsx("div",{className:"px-3 py-2 border-b border-border bg-success/5",children:u.jsx("span",{className:"text-xs text-success uppercase tracking-wider font-medium",children:"Income"})}),u.jsxs("div",{className:"divide-y divide-border",children:[u.jsx(jr,{label:"Ticket Sales",amount:e.ticketIncome,positive:!0}),u.jsx(jr,{label:"Sponsorship",amount:e.sponsorIncome,positive:!0}),u.jsx(jr,{label:"Prize Money",amount:e.prizeIncome,positive:!0}),u.jsx(jr,{label:"Total Income",amount:n,positive:!0,bold:!0})]})]}),u.jsxs("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:[u.jsx("div",{className:"px-3 py-2 border-b border-border bg-destructive/5",children:u.jsx("span",{className:"text-xs text-destructive uppercase tracking-wider font-medium",children:"Expenses"})}),u.jsxs("div",{className:"divide-y divide-border",children:[u.jsx(jr,{label:"Total Wages",amount:e.totalWages}),u.jsx(jr,{label:"Transfer Spending",amount:e.transferSpending}),u.jsx(jr,{label:"Total Expenses",amount:r,bold:!0})]})]}),u.jsx("div",{className:"bg-card border border-border rounded-lg p-3",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Net Result"}),u.jsxs("span",{className:`text-mono text-lg font-bold ${s>=0?"text-success":"text-destructive"}`,children:[s>=0?"+":"","$",s.toLocaleString()]})]})})]})}function jr({label:t,amount:e,positive:n,bold:r}){return u.jsxs("div",{className:`flex justify-between items-center px-3 py-2 ${r?"bg-secondary/30":""}`,children:[u.jsx("span",{className:`text-xs ${r?"font-semibold text-foreground":"text-muted-foreground"}`,children:t}),u.jsxs("span",{className:`text-mono text-xs ${r?"font-bold":"font-medium"} ${n?"text-success":"text-destructive"}`,children:[n?"+":"-","$",e.toLocaleString()]})]})}function SI(){var i;const{state:t,playPlayoffGame:e}=Ir();if(!t)return null;const n=t.playoffBracket,r=n.filter(o=>o.round===1),s=n.find(o=>o.round===2);return u.jsxs("div",{className:"space-y-3 animate-fade-in",children:[u.jsxs("div",{className:"fm-header px-3 py-2 rounded-lg",children:[u.jsx("h2",{className:"text-sm font-bold text-foreground uppercase tracking-wider",children:"Playoffs"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Best of 5"})]}),n.length===0&&u.jsx("div",{className:"bg-card border border-border rounded-lg p-6 text-center",children:u.jsx("p",{className:"text-muted-foreground text-sm",children:"Playoffs haven't started yet. Complete the regular season first."})}),r.length>0&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider px-1",children:"Semifinals"}),r.map((o,a)=>u.jsx(vg,{matchup:o,teams:t.teams,onPlay:()=>e(a),canPlay:t.phase==="playoffs"&&!o.winnerId,playerTeamId:t.selectedTeamId},a))]}),s&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider px-1",children:"Finals"}),u.jsx(vg,{matchup:s,teams:t.teams,onPlay:()=>e(n.indexOf(s)),canPlay:t.phase==="playoffs"&&!s.winnerId,playerTeamId:t.selectedTeamId}),s.winnerId&&u.jsxs("div",{className:"bg-gold/10 border border-gold/30 rounded-lg p-4 text-center",children:[u.jsx("div",{className:"text-2xl mb-1",children:""}),u.jsxs("div",{className:"text-sm font-bold text-gold",children:[(i=t.teams.find(o=>o.id===s.winnerId))==null?void 0:i.name," wins the championship!"]})]})]})]})}function vg({matchup:t,teams:e,onPlay:n,canPlay:r,playerTeamId:s}){var l;const i=e.find(c=>c.id===t.team1Id),o=e.find(c=>c.id===t.team2Id);if(!i||!o)return null;const a=t.team1Id===s||t.team2Id===s;return u.jsxs("div",{className:`bg-card border rounded-lg p-3 ${a?"border-primary/40 glow-primary":"border-border"}`,children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center text-[10px] font-bold",style:{backgroundColor:i.color+"33",color:i.color},children:i.shortName}),u.jsx("span",{className:`text-xs font-medium ${t.winnerId===i.id?"text-success":"text-foreground"}`,children:i.shortName})]}),u.jsxs("div",{className:"flex items-center gap-1 px-3",children:[u.jsx("span",{className:"text-mono text-lg font-bold text-foreground",children:t.team1Wins}),u.jsx("span",{className:"text-muted-foreground text-xs",children:"-"}),u.jsx("span",{className:"text-mono text-lg font-bold text-foreground",children:t.team2Wins})]}),u.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[u.jsx("span",{className:`text-xs font-medium ${t.winnerId===o.id?"text-success":"text-foreground"}`,children:o.shortName}),u.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center text-[10px] font-bold",style:{backgroundColor:o.color+"33",color:o.color},children:o.shortName})]})]}),r&&u.jsx("button",{onClick:n,className:"w-full mt-2 py-2 rounded bg-primary text-primary-foreground text-xs font-bold hover:opacity-90 transition-opacity",children:"Play Game"}),t.winnerId&&u.jsxs("div",{className:"mt-2 text-center text-[10px] text-success font-medium",children:[(l=e.find(c=>c.id===t.winnerId))==null?void 0:l.name," advances"]})]})}function CI(){const{state:t}=Ir();return t?u.jsxs("div",{className:"space-y-4 animate-fade-in",children:[u.jsx("div",{className:"fm-header px-4 py-3 rounded-lg",children:u.jsx("h2",{className:"text-base font-bold text-foreground uppercase tracking-wider",children:"League Tables"})}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:wi.map(e=>{const n=[...t.standings[e.id]||[]].sort((s,i)=>i.wins-s.wins||i.pointsFor-i.pointsAgainst-(s.pointsFor-s.pointsAgainst));if(n.length===0)return null;const r=e.id==="rkl";return u.jsxs("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"px-4 py-3 border-b border-border bg-secondary/30 flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-foreground uppercase tracking-wider font-semibold",children:e.name}),!r&&u.jsx("span",{className:"text-[10px] text-muted-foreground bg-success/10 text-success px-2 py-0.5 rounded",children:"1 promotion spot"})]}),u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border",children:[u.jsx("th",{className:"text-left px-4 py-2 text-muted-foreground font-medium text-xs",children:"#"}),u.jsx("th",{className:"text-left px-3 py-2 text-muted-foreground font-medium text-xs",children:"Team"}),u.jsx("th",{className:"px-3 py-2 text-muted-foreground font-medium text-xs text-center",children:"W"}),u.jsx("th",{className:"px-3 py-2 text-muted-foreground font-medium text-xs text-center",children:"L"}),u.jsx("th",{className:"px-3 py-2 text-muted-foreground font-medium text-xs text-center",children:"PF"}),u.jsx("th",{className:"px-3 py-2 text-muted-foreground font-medium text-xs text-center",children:"PA"})]})}),u.jsx("tbody",{className:"divide-y divide-border",children:n.map((s,i)=>{const o=t.teams.find(f=>f.id===s.teamId),a=s.teamId===t.selectedTeamId,l=!r&&i===0,c=r&&i===n.length-1;return u.jsxs("tr",{className:`${a?"bg-primary/10":""} ${l?"border-l-2 border-l-success":""} ${c?"border-l-2 border-l-destructive":""}`,children:[u.jsx("td",{className:"px-4 py-2 text-mono text-muted-foreground",children:i+1}),u.jsx("td",{className:"px-3 py-2",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:o.color}}),u.jsx("span",{className:`font-medium ${a?"text-primary":"text-foreground"}`,children:o.name})]})}),u.jsx("td",{className:"px-3 py-2 text-center text-mono text-foreground",children:s.wins}),u.jsx("td",{className:"px-3 py-2 text-center text-mono text-muted-foreground",children:s.losses}),u.jsx("td",{className:"px-3 py-2 text-center text-mono text-muted-foreground",children:s.pointsFor}),u.jsx("td",{className:"px-3 py-2 text-center text-mono text-muted-foreground",children:s.pointsAgainst})]},s.teamId)})})]})]},e.id)})})]}):null}const xg=[{id:"dashboard",label:"Home",icon:""},{id:"squad",label:"Squad",icon:""},{id:"league",label:"League",icon:""},{id:"transfers",label:"Market",icon:""},{id:"finance",label:"Finance",icon:""},{id:"playoffs",label:"Playoffs",icon:""}];function S_(){const{view:t,setView:e,state:n}=Ir();if(!n)return null;const r=n.teams.find(i=>i.id===n.selectedTeamId),s=()=>{switch(t){case"dashboard":return u.jsx(mg,{});case"squad":return u.jsx(xI,{});case"transfers":return u.jsx(wI,{});case"finance":return u.jsx(bI,{});case"league":return u.jsx(CI,{});case"playoffs":return u.jsx(SI,{});default:return u.jsx(mg,{})}};return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col lg:flex-row",children:[u.jsxs("aside",{className:"hidden lg:flex flex-col w-56 bg-card border-r border-border shrink-0 h-screen sticky top-0",children:[u.jsx("div",{className:"px-4 py-4 border-b border-border",children:u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-xs font-black",style:{backgroundColor:(r==null?void 0:r.color)+"33",color:r==null?void 0:r.color},children:r==null?void 0:r.shortName}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-sm font-bold text-foreground truncate",children:r==null?void 0:r.name}),u.jsxs("div",{className:"text-[10px] text-muted-foreground",children:["S",n.season,"  W",n.week]})]})]})}),u.jsx("nav",{className:"flex-1 py-2 px-2 space-y-0.5",children:xg.map(i=>u.jsxs("button",{onClick:()=>e(i.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-md text-sm font-medium transition-all ${t===i.id?"bg-primary/15 text-primary border-l-2 border-primary":"text-muted-foreground hover:text-foreground hover:bg-secondary/50"}`,children:[u.jsx("span",{className:"text-base",children:i.icon}),u.jsx("span",{children:i.label})]},i.id))}),u.jsxs("div",{className:"px-4 py-3 border-t border-border",children:[u.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-wider mb-1",children:"Net Result"}),u.jsxs("div",{className:`text-sm text-mono font-bold ${n.finances.ticketIncome+n.finances.sponsorIncome+n.finances.prizeIncome-n.finances.totalWages-n.finances.transferSpending>=0?"text-success":"text-destructive"}`,children:[n.finances.ticketIncome+n.finances.sponsorIncome+n.finances.prizeIncome-n.finances.totalWages-n.finances.transferSpending>=0?"+":"","$",(n.finances.ticketIncome+n.finances.sponsorIncome+n.finances.prizeIncome-n.finances.totalWages-n.finances.transferSpending).toLocaleString()]})]})]}),u.jsxs("div",{className:"lg:hidden bg-card border-b border-border px-3 py-2 flex items-center justify-between shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-7 h-7 rounded flex items-center justify-center text-[9px] font-black",style:{backgroundColor:(r==null?void 0:r.color)+"33",color:r==null?void 0:r.color},children:r==null?void 0:r.shortName}),u.jsx("span",{className:"text-xs font-bold text-foreground uppercase tracking-wider",children:r==null?void 0:r.shortName})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["S",n.season," W",n.week]}),u.jsxs("span",{className:`text-xs text-mono font-bold ${n.finances.ticketIncome+n.finances.sponsorIncome+n.finances.prizeIncome-n.finances.totalWages-n.finances.transferSpending>=0?"text-success":"text-destructive"}`,children:[n.finances.ticketIncome+n.finances.sponsorIncome+n.finances.prizeIncome-n.finances.totalWages-n.finances.transferSpending>=0?"+":"","$",((n.finances.ticketIncome+n.finances.sponsorIncome+n.finances.prizeIncome-n.finances.totalWages-n.finances.transferSpending)/1e3).toFixed(0),"K"]})]})]}),u.jsx("main",{className:"flex-1 overflow-y-auto",children:u.jsx("div",{className:"max-w-5xl mx-auto px-4 lg:px-8 py-4 lg:py-6 pb-20 lg:pb-6",children:s()})}),u.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-card border-t border-border z-50",children:u.jsx("div",{className:"flex justify-around items-center py-1.5",children:xg.map(i=>u.jsxs("button",{onClick:()=>e(i.id),className:`flex flex-col items-center gap-0.5 px-2 py-1 rounded-md transition-all ${t===i.id?"text-primary":"text-muted-foreground hover:text-foreground"}`,children:[u.jsx("span",{className:"text-base",children:i.icon}),u.jsx("span",{className:"text-[10px] font-medium",children:i.label})]},i.id))})})]})}function EI({onSinglePlayer:t,onMultiplayer:e}){return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center px-4",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-4xl font-black text-foreground tracking-tight",children:"Basketball Manager"}),u.jsx("p",{className:"text-muted-foreground mt-2 text-sm",children:"Lithuanian Basketball League"})]}),u.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[u.jsx("button",{onClick:t,className:"w-full group relative overflow-hidden rounded-xl bg-primary text-primary-foreground px-6 py-5 text-left transition-all hover:opacity-90 active:scale-[0.98]",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-widest opacity-70 mb-1",children:"Solo"}),u.jsx("div",{className:"text-xl font-black",children:"Single Player"}),u.jsx("div",{className:"text-sm opacity-70 mt-0.5",children:"Manage your club alone"})]}),u.jsx("span",{className:"text-3xl",children:""})]})}),u.jsxs("button",{onClick:e,className:"w-full group relative overflow-hidden rounded-xl bg-card border border-border px-6 py-5 text-left transition-all hover:border-primary/50 hover:bg-secondary/30 active:scale-[0.98]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-widest text-primary opacity-80 mb-1",children:"Live"}),u.jsx("div",{className:"text-xl font-black text-foreground",children:"Multiplayer"}),u.jsx("div",{className:"text-sm text-muted-foreground mt-0.5",children:"Play against a friend"})]}),u.jsx("span",{className:"text-3xl",children:""})]}),u.jsxs("div",{className:"mt-3 flex items-center gap-1.5",children:[u.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Real-time  Free  No account needed"})]})]})]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-10 opacity-50",children:"v1.0  Basketball Manager"})]})}var wg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $=function(t,e){if(!t)throw _i(e)},_i=function(t){return new Error("Firebase Database ("+C_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},NI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},kh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,f=i>>2,d=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),r.push(n[f],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(E_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new kI;const h=i<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N_=function(t){const e=E_(t);return kh.encodeByteArray(e,!0)},jl=function(t){return N_(t).replace(/\./g,"")},Ud=function(t){try{return kh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t){return k_(void 0,t)}function k_(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!II(n)||(t[n]=k_(t[n],e[n]));return t}function II(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=()=>PI().__FIREBASE_DEFAULTS__,AI=()=>{if(typeof process>"u"||typeof wg>"u")return;const t=wg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ud(t[1]);return e&&JSON.parse(e)},T_=()=>{try{return RI()||AI()||jI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},MI=t=>{var e,n;return(n=(e=T_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},OI=t=>{const e=MI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},I_=()=>{var t;return(t=T_())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jl(JSON.stringify(n)),jl(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(LI())}function FI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $I(){return C_.NODE_ADMIN===!0}function zI(){try{return typeof indexedDB=="object"}catch{return!1}}function BI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="FirebaseError";class na extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WI,Object.setPrototypeOf(this,na.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,R_.prototype.create)}}class R_{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?UI(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new na(s,a,r)}}function UI(t,e){return t.replace(VI,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const VI=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(t){return JSON.parse(t)}function je(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=jo(Ud(i[0])||""),n=jo(Ud(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},HI=function(t){const e=A_(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},GI=function(t){const e=A_(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function li(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function _g(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ml(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Vd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(bg(i)&&bg(o)){if(!Vd(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function bg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,f;for(let d=0;d<80;d++){d<40?d<20?(c=a^i&(o^a),f=1518500249):(c=i^o^a,f=1859775393):d<60?(c=i&o|a&(i|o),f=2400959708):(c=i^o^a,f=3395469782);const h=(s<<5|s>>>27)+c+l+f+r[d]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function Nc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,$(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},kc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t){return t&&t._delegate?t._delegate:t}class Mo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ta;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JI(e))try{this.getOrInitializeService({instanceIdentifier:Dr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Dr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Dr){return this.instances.has(e)}getOptions(e=Dr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Dr){return this.component?this.component.multipleInstances?e:Dr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XI(t){return t===Dr?void 0:t}function JI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const eP={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},tP=ue.INFO,nP={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},rP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=nP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class j_{constructor(e){this.name=e,this._logLevel=tP,this._logHandler=rP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const sP=(t,e)=>e.some(n=>t instanceof n);let Sg,Cg;function iP(){return Sg||(Sg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oP(){return Cg||(Cg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M_=new WeakMap,Hd=new WeakMap,O_=new WeakMap,bu=new WeakMap,Th=new WeakMap;function aP(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(hr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&M_.set(n,t)}).catch(()=>{}),Th.set(e,t),e}function lP(t){if(Hd.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Hd.set(t,e)}let Gd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||O_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cP(t){Gd=t(Gd)}function uP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Su(this),e,...n);return O_.set(r,e.sort?e.sort():[e]),hr(r)}:oP().includes(t)?function(...e){return t.apply(Su(this),e),hr(M_.get(this))}:function(...e){return hr(t.apply(Su(this),e))}}function dP(t){return typeof t=="function"?uP(t):(t instanceof IDBTransaction&&lP(t),sP(t,iP())?new Proxy(t,Gd):t)}function hr(t){if(t instanceof IDBRequest)return aP(t);if(bu.has(t))return bu.get(t);const e=dP(t);return e!==t&&(bu.set(t,e),Th.set(e,t)),e}const Su=t=>Th.get(t);function fP(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=hr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(hr(o.result),l.oldVersion,l.newVersion,hr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const hP=["get","getKey","getAll","getAllKeys","count"],pP=["put","add","delete","clear"],Cu=new Map;function Eg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cu.get(e))return Cu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=pP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||hP.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Cu.set(e,i),i}cP(t=>({...t,get:(e,n,r)=>Eg(e,n)||t.get(e,n,r),has:(e,n)=>!!Eg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yd="@firebase/app",Ng="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn=new j_("@firebase/app"),yP="@firebase/app-compat",vP="@firebase/analytics-compat",xP="@firebase/analytics",wP="@firebase/app-check-compat",_P="@firebase/app-check",bP="@firebase/auth",SP="@firebase/auth-compat",CP="@firebase/database",EP="@firebase/data-connect",NP="@firebase/database-compat",kP="@firebase/functions",TP="@firebase/functions-compat",IP="@firebase/installations",PP="@firebase/installations-compat",RP="@firebase/messaging",AP="@firebase/messaging-compat",jP="@firebase/performance",MP="@firebase/performance-compat",OP="@firebase/remote-config",DP="@firebase/remote-config-compat",LP="@firebase/storage",FP="@firebase/storage-compat",$P="@firebase/firestore",zP="@firebase/vertexai-preview",BP="@firebase/firestore-compat",WP="firebase",UP="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="[DEFAULT]",VP={[Yd]:"fire-core",[yP]:"fire-core-compat",[xP]:"fire-analytics",[vP]:"fire-analytics-compat",[_P]:"fire-app-check",[wP]:"fire-app-check-compat",[bP]:"fire-auth",[SP]:"fire-auth-compat",[CP]:"fire-rtdb",[EP]:"fire-data-connect",[NP]:"fire-rtdb-compat",[kP]:"fire-fn",[TP]:"fire-fn-compat",[IP]:"fire-iid",[PP]:"fire-iid-compat",[RP]:"fire-fcm",[AP]:"fire-fcm-compat",[jP]:"fire-perf",[MP]:"fire-perf-compat",[OP]:"fire-rc",[DP]:"fire-rc-compat",[LP]:"fire-gcs",[FP]:"fire-gcs-compat",[$P]:"fire-fst",[BP]:"fire-fst-compat",[zP]:"fire-vertex","fire-js":"fire-js",[WP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=new Map,HP=new Map,Kd=new Map;function kg(t,e){try{t.container.addComponent(e)}catch(n){Rn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dl(t){const e=t.name;if(Kd.has(e))return Rn.debug(`There were multiple attempts to register component ${e}.`),!1;Kd.set(e,t);for(const n of Ol.values())kg(n,t);for(const n of HP.values())kg(n,t);return!0}function GP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new R_("app","Firebase",YP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=UP;function D_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Qd,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw pr.create("bad-app-name",{appName:String(s)});if(n||(n=I_()),!n)throw pr.create("no-options");const i=Ol.get(s);if(i){if(Vd(n,i.options)&&Vd(r,i.config))return i;throw pr.create("duplicate-app",{appName:s})}const o=new ZI(s);for(const l of Kd.values())o.addComponent(l);const a=new QP(n,r,o);return Ol.set(s,a),a}function qP(t=Qd){const e=Ol.get(t);if(!e&&t===Qd&&I_())return D_();if(!e)throw pr.create("no-app",{appName:t});return e}function Ws(t,e,n){var r;let s=(r=VP[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rn.warn(a.join(" "));return}Dl(new Mo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP="firebase-heartbeat-database",JP=1,Oo="firebase-heartbeat-store";let Eu=null;function L_(){return Eu||(Eu=fP(XP,JP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oo)}catch(n){console.warn(n)}}}}).catch(t=>{throw pr.create("idb-open",{originalErrorMessage:t.message})})),Eu}async function ZP(t){try{const n=(await L_()).transaction(Oo),r=await n.objectStore(Oo).get(F_(t));return await n.done,r}catch(e){if(e instanceof na)Rn.warn(e.message);else{const n=pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rn.warn(n.message)}}}async function Tg(t,e){try{const r=(await L_()).transaction(Oo,"readwrite");await r.objectStore(Oo).put(e,F_(t)),await r.done}catch(n){if(n instanceof na)Rn.warn(n.message);else{const r=pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Rn.warn(r.message)}}}function F_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=1024,tR=30*24*60*60*1e3;class nR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ig();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=tR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Rn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ig(),{heartbeatsToSend:r,unsentEntries:s}=rR(this._heartbeatsCache.heartbeats),i=jl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Rn.warn(n),""}}}function Ig(){return new Date().toISOString().substring(0,10)}function rR(t,e=eR){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Pg(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Pg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zI()?BI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Tg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Tg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Pg(t){return jl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t){Dl(new Mo("platform-logger",e=>new mP(e),"PRIVATE")),Dl(new Mo("heartbeat",e=>new nR(e),"PRIVATE")),Ws(Yd,Ng,t),Ws(Yd,Ng,"esm2017"),Ws("fire-js","")}iR("");var Rg={};const Ag="@firebase/database",jg="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $_="";function oR(t){$_=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),je(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:jo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return pn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new aR(e)}}catch{}return new lR},Br=z_("localStorage"),cR=z_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new j_("@firebase/database"),uR=function(){let t=1;return function(){return t++}}(),B_=function(t){const e=KI(t),n=new QI;n.update(e);const r=n.digest();return kh.encodeByteArray(r)},ra=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ra.apply(null,r):typeof r=="object"?e+=je(r):e+=r,e+=" "}return e};let ao=null,Mg=!0;const dR=function(t,e){$(!0,"Can't turn on custom loggers persistently."),Us.logLevel=ue.VERBOSE,ao=Us.log.bind(Us)},Be=function(...t){if(Mg===!0&&(Mg=!1,ao===null&&cR.get("logging_enabled")===!0&&dR()),ao){const e=ra.apply(null,t);ao(e)}},sa=function(t){return function(...e){Be(t,...e)}},qd=function(...t){const e="FIREBASE INTERNAL ERROR: "+ra(...t);Us.error(e)},An=function(...t){const e=`FIREBASE FATAL ERROR: ${ra(...t)}`;throw Us.error(e),new Error(e)},nt=function(...t){const e="FIREBASE WARNING: "+ra(...t);Us.warn(e)},fR=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&nt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ih=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},hR=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ci="[MIN_NAME]",ns="[MAX_NAME]",ls=function(t,e){if(t===e)return 0;if(t===ci||e===ns)return-1;if(e===ci||t===ns)return 1;{const n=Og(t),r=Og(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},pR=function(t,e){return t===e?0:t<e?-1:1},Bi=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+je(e))},Ph=function(t){if(typeof t!="object"||t===null)return je(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=je(e[r]),n+=":",n+=Ph(t[e[r]]);return n+="}",n},W_=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Ve(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const U_=function(t){$(!Ih(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const f=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(f.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},mR=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gR=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function yR(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const vR=new RegExp("^-?(0*)\\d{1,10}$"),xR=-2147483648,wR=2147483647,Og=function(t){if(vR.test(t)){const e=Number(t);if(e>=xR&&e<=wR)return e}return null},Si=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw nt("Exception was thrown by user callback.",n),e},Math.floor(0))}},_R=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},lo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){nt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Be("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nt(e)}}class Za{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Za.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh="5",V_="v",H_="s",G_="r",Y_="f",Q_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,K_="ls",q_="p",Xd="ac",X_="websocket",J_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Br.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Br.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function CR(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function e0(t,e,n){$(typeof e=="string","typeof type must == string"),$(typeof n=="object","typeof params must == object");let r;if(e===X_)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===J_)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);CR(t)&&(n.ns=t.namespace);const s=[];return Ve(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.counters_={}}incrementCounter(e,n=1){pn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return TI(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu={},ku={};function Ah(t){const e=t.toString();return Nu[e]||(Nu[e]=new ER),Nu[e]}function NR(t,e){const n=t.toString();return ku[n]||(ku[n]=e()),ku[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Si(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="start",TR="close",IR="pLPCommand",PR="pRTLPCB",t0="id",n0="pw",r0="ser",RR="cb",AR="seg",jR="ts",MR="d",OR="dframe",s0=1870,i0=30,DR=s0-i0,LR=25e3,FR=3e4;class Rs{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=sa(e),this.stats_=Ah(n),this.urlFn=l=>(this.appCheckToken&&(l[Xd]=this.appCheckToken),e0(n,J_,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new kR(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(FR)),hR(()=>{if(this.isClosed_)return;this.scriptTagHolder=new jh((...i)=>{const[o,a,l,c,f]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Dg)this.id=a,this.password=l;else if(o===TR)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Dg]="t",r[r0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[RR]=this.scriptTagHolder.uniqueCallbackIdentifier),r[V_]=Rh,this.transportSessionId&&(r[H_]=this.transportSessionId),this.lastSessionId&&(r[K_]=this.lastSessionId),this.applicationId&&(r[q_]=this.applicationId),this.appCheckToken&&(r[Xd]=this.appCheckToken),typeof location<"u"&&location.hostname&&Q_.test(location.hostname)&&(r[G_]=Y_);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Rs.forceAllow_=!0}static forceDisallow(){Rs.forceDisallow_=!0}static isAvailable(){return Rs.forceAllow_?!0:!Rs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!mR()&&!gR()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=je(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=N_(n),s=W_(r,DR);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[OR]="t",r[t0]=e,r[n0]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=je(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class jh{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=uR(),window[IR+this.uniqueCallbackIdentifier]=e,window[PR+this.uniqueCallbackIdentifier]=n,this.myIFrame=jh.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Be("frame writing exception"),a.stack&&Be(a.stack),Be(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Be("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[t0]=this.myID,e[n0]=this.myPW,e[r0]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+i0+r.length<=s0;){const o=this.pendingSegs.shift();r=r+"&"+AR+s+"="+o.seg+"&"+jR+s+"="+o.ts+"&"+MR+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(LR)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Be("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=16384,zR=45e3;let Ll=null;typeof MozWebSocket<"u"?Ll=MozWebSocket:typeof WebSocket<"u"&&(Ll=WebSocket);class Ht{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=sa(this.connId),this.stats_=Ah(n),this.connURL=Ht.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[V_]=Rh,typeof location<"u"&&location.hostname&&Q_.test(location.hostname)&&(o[G_]=Y_),n&&(o[H_]=n),r&&(o[K_]=r),s&&(o[Xd]=s),i&&(o[q_]=i),e0(e,X_,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Br.set("previous_websocket_failure",!0);try{let r;$I(),this.mySock=new Ll(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Ht.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ll!==null&&!Ht.forceDisallow_}static previouslyFailed(){return Br.isInMemoryStorage||Br.get("previous_websocket_failure")===!0}markConnectionHealthy(){Br.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=jo(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if($(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=je(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=W_(n,$R);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(zR))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ht.responsesRequiredToBeHealthy=2;Ht.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Rs,Ht]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Ht&&Ht.isAvailable();let r=n&&!Ht.previouslyFailed();if(e.webSocketOnly&&(n||nt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ht];else{const s=this.transports_=[];for(const i of Do.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Do.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Do.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=6e4,WR=5e3,UR=10*1024,VR=100*1024,Tu="t",Lg="d",HR="s",Fg="r",GR="e",$g="o",zg="a",Bg="n",Wg="p",YR="h";class QR{constructor(e,n,r,s,i,o,a,l,c,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=sa("c:"+this.id+":"),this.transportManager_=new Do(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=lo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>VR?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>UR?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Tu in e){const n=e[Tu];n===zg?this.upgradeIfSecondaryHealthy_():n===Fg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===$g&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Bi("t",e),r=Bi("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Wg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:zg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Bg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Bi("t",e),r=Bi("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Bi(Tu,e);if(Lg in e){const r=e[Lg];if(n===YR){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Bg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===HR?this.onConnectionShutdown_(r):n===Fg?this.onReset_(r):n===GR?qd("Server Error: "+r):n===$g?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qd("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Rh!==r&&nt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),lo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(BR))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):lo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(WR))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Wg,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Br.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){this.allowedEvents_=e,this.listeners_={},$(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){$(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends a0{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!P_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Fl}getInitialEvent(e){return $(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug=32,Vg=768;class le{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ie(){return new le("")}function Z(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Sr(t){return t.pieces_.length-t.pieceNum_}function de(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new le(t.pieces_,e)}function Mh(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function KR(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Lo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function l0(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new le(e,0)}function Ee(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof le)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new le(n,0)}function te(t){return t.pieceNum_>=t.pieces_.length}function et(t,e){const n=Z(t),r=Z(e);if(n===null)return e;if(n===r)return et(de(t),de(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function qR(t,e){const n=Lo(t,0),r=Lo(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=ls(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function Oh(t,e){if(Sr(t)!==Sr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function It(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Sr(t)>Sr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class XR{constructor(e,n){this.errorPrefix_=n,this.parts_=Lo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=kc(this.parts_[r]);c0(this)}}function JR(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=kc(e),c0(t)}function ZR(t){const e=t.parts_.pop();t.byteLength_-=kc(e),t.parts_.length>0&&(t.byteLength_-=1)}function c0(t){if(t.byteLength_>Vg)throw new Error(t.errorPrefix_+"has a key path longer than "+Vg+" bytes ("+t.byteLength_+").");if(t.parts_.length>Ug)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ug+") or object contains a cycle "+Lr(t))}function Lr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends a0{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Dh}getInitialEvent(e){return $(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=1e3,eA=60*5*1e3,Hg=30*1e3,tA=1.3,nA=3e4,rA="server_kill",Gg=3;class Cn extends o0{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Cn.nextPersistentConnectionId_++,this.log_=sa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Wi,this.maxReconnectDelay_=eA,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Dh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Fl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(je(i)),$(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new ta,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),$(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Cn.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&pn(e,"w")){const r=li(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();nt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||GI(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Hg)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=HI(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),$(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+je(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):qd("Unrecognized action received from server: "+je(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){$(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wi,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Wi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>nA&&(this.reconnectDelay_=Wi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*tA)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Cn.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){$(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?Be("getToken() completed but was canceled"):(Be("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new QR(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{nt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(rA)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&nt(d),l())}}}interrupt(e){Be("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Be("Resuming connection for reason: "+e),delete this.interruptReasons_[e],_g(this.interruptReasons_)&&(this.reconnectDelay_=Wi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Ph(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new le(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){Be("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Gg&&(this.reconnectDelay_=Hg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Be("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Gg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+$_.replace(/\./g,"-")]=1,P_()?e["framework.cordova"]=1:FI()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Fl.getInstance().currentlyOnline();return _g(this.interruptReasons_)&&e}}Cn.nextPersistentConnectionId_=0;Cn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ee(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ee(ci,e),s=new ee(ci,n);return this.compare(r,s)!==0}minPost(){return ee.MIN}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oa;class u0 extends Tc{static get __EMPTY_NODE(){return Oa}static set __EMPTY_NODE(e){Oa=e}compare(e,n){return ls(e.name,n.name)}isDefinedOn(e){throw _i("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ee.MIN}maxPost(){return new ee(ns,Oa)}makePost(e,n){return $(typeof e=="string","KeyIndex indexValue must always be a string."),new ee(e,Oa)}toString(){return".key"}}const Vs=new u0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Fe{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Fe.RED,this.left=s??lt.EMPTY_NODE,this.right=i??lt.EMPTY_NODE}copy(e,n,r,s,i){return new Fe(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return lt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return lt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Fe.RED=!0;Fe.BLACK=!1;class sA{copy(e,n,r,s,i){return this}insert(e,n,r){return new Fe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class lt{constructor(e,n=lt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new lt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Fe.BLACK,null,null))}remove(e){return new lt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Fe.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Da(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Da(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Da(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Da(this.root_,null,this.comparator_,!0,e)}}lt.EMPTY_NODE=new sA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t,e){return ls(t.name,e.name)}function Lh(t,e){return ls(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jd;function oA(t){Jd=t}const d0=function(t){return typeof t=="number"?"number:"+U_(t):"string:"+t},f0=function(t){if(t.isLeafNode()){const e=t.val();$(typeof e=="string"||typeof e=="number"||typeof e=="object"&&pn(e,".sv"),"Priority must be a string or number.")}else $(t===Jd||t.isEmpty(),"priority of unexpected type.");$(t===Jd||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yg;class De{constructor(e,n=De.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,$(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),f0(this.priorityNode_)}static set __childrenNodeConstructor(e){Yg=e}static get __childrenNodeConstructor(){return Yg}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new De(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:De.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return te(e)?this:Z(e)===".priority"?this.priorityNode_:De.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:De.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Z(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:($(r!==".priority"||Sr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,De.__childrenNodeConstructor.EMPTY_NODE.updateChild(de(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+d0(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=U_(this.value_):e+=this.value_,this.lazyHash_=B_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===De.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof De.__childrenNodeConstructor?-1:($(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=De.VALUE_TYPE_ORDER.indexOf(n),i=De.VALUE_TYPE_ORDER.indexOf(r);return $(s>=0,"Unknown leaf type: "+n),$(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}De.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h0,p0;function aA(t){h0=t}function lA(t){p0=t}class cA extends Tc{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?ls(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ee.MIN}maxPost(){return new ee(ns,new De("[PRIORITY-POST]",p0))}makePost(e,n){const r=h0(e);return new ee(n,new De("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ne=new cA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=Math.log(2);class dA{constructor(e){const n=i=>parseInt(Math.log(i)/uA,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const $l=function(t,e,n,r){t.sort(e);const s=function(l,c){const f=c-l;let d,h;if(f===0)return null;if(f===1)return d=t[l],h=n?n(d):d,new Fe(h,d.node,Fe.BLACK,null,null);{const p=parseInt(f/2,10)+l,g=s(l,p),v=s(p+1,c);return d=t[p],h=n?n(d):d,new Fe(h,d.node,Fe.BLACK,g,v)}},i=function(l){let c=null,f=null,d=t.length;const h=function(g,v){const b=d-g,y=d;d-=g;const m=s(b+1,y),x=t[b],_=n?n(x):x;p(new Fe(_,x.node,v,null,m))},p=function(g){c?(c.left=g,c=g):(f=g,c=g)};for(let g=0;g<l.count;++g){const v=l.nextBitIsOne(),b=Math.pow(2,l.count-(g+1));v?h(b,Fe.BLACK):(h(b,Fe.BLACK),h(b,Fe.RED))}return f},o=new dA(t.length),a=i(o);return new lt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iu;const ys={};class bn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return $(ys&&Ne,"ChildrenNode.ts has not been loaded"),Iu=Iu||new bn({".priority":ys},{".priority":Ne}),Iu}get(e){const n=li(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof lt?n:null}hasIndex(e){return pn(this.indexSet_,e.toString())}addIndex(e,n){$(e!==Vs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(ee.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=$l(r,e.getCompare()):a=ys;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const f=Object.assign({},this.indexes_);return f[l]=a,new bn(f,c)}addToIndexes(e,n){const r=Ml(this.indexes_,(s,i)=>{const o=li(this.indexSet_,i);if($(o,"Missing index implementation for "+i),s===ys)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ee.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),$l(a,o.getCompare())}else return ys;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new ee(e.name,a))),l.insert(e,e.node)}});return new bn(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ml(this.indexes_,s=>{if(s===ys)return s;{const i=n.get(e.name);return i?s.remove(new ee(e.name,i)):s}});return new bn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ui;class G{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&f0(this.priorityNode_),this.children_.isEmpty()&&$(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ui||(Ui=new G(new lt(Lh),null,bn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ui}updatePriority(e){return this.children_.isEmpty()?this:new G(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ui:n}}getChild(e){const n=Z(e);return n===null?this:this.getImmediateChild(n).getChild(de(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if($(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ee(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Ui:this.priorityNode_;return new G(s,o,i)}}updateChild(e,n){const r=Z(e);if(r===null)return n;{$(Z(e)!==".priority"||Sr(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(de(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(Ne,(o,a)=>{n[o]=a.val(e),r++,i&&G.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+d0(this.getPriority().val())+":"),this.forEachChild(Ne,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":B_(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new ee(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ee(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ee(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ee.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ee.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ia?-1:0}withIndex(e){if(e===Vs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new G(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Vs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ne),s=n.getIterator(Ne);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Vs?null:this.indexMap_.get(e.toString())}}G.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class fA extends G{constructor(){super(new lt(Lh),G.EMPTY_NODE,bn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return G.EMPTY_NODE}isEmpty(){return!1}}const ia=new fA;Object.defineProperties(ee,{MIN:{value:new ee(ci,G.EMPTY_NODE)},MAX:{value:new ee(ns,ia)}});u0.__EMPTY_NODE=G.EMPTY_NODE;De.__childrenNodeConstructor=G;oA(ia);lA(ia);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=!0;function Ae(t,e=null){if(t===null)return G.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),$(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new De(n,Ae(e))}if(!(t instanceof Array)&&hA){const n=[];let r=!1;if(Ve(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Ae(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ee(o,l)))}}),n.length===0)return G.EMPTY_NODE;const i=$l(n,iA,o=>o.name,Lh);if(r){const o=$l(n,Ne.getCompare());return new G(i,Ae(e),new bn({".priority":o},{".priority":Ne}))}else return new G(i,Ae(e),bn.Default)}else{let n=G.EMPTY_NODE;return Ve(t,(r,s)=>{if(pn(t,r)&&r.substring(0,1)!=="."){const i=Ae(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Ae(e))}}aA(Ae);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA extends Tc{constructor(e){super(),this.indexPath_=e,$(!te(e)&&Z(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?ls(e.name,n.name):i}makePost(e,n){const r=Ae(e),s=G.EMPTY_NODE.updateChild(this.indexPath_,r);return new ee(n,s)}maxPost(){const e=G.EMPTY_NODE.updateChild(this.indexPath_,ia);return new ee(ns,e)}toString(){return Lo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA extends Tc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?ls(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ee.MIN}maxPost(){return ee.MAX}makePost(e,n){const r=Ae(e);return new ee(n,r)}toString(){return".value"}}const gA=new mA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t){return{type:"value",snapshotNode:t}}function ui(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Fo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function $o(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function yA(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){$(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Fo(n,a)):$(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ui(n,r)):o.trackChildChange($o(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ne,(s,i)=>{n.hasChild(s)||r.trackChildChange(Fo(s,i))}),n.isLeafNode()||n.forEachChild(Ne,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange($o(s,i,o))}else r.trackChildChange(ui(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?G.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.indexedFilter_=new Fh(e.getIndex()),this.index_=e.getIndex(),this.startPost_=zo.getStartPost_(e),this.endPost_=zo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new ee(n,r))||(r=G.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=G.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(G.EMPTY_NODE);const i=this;return n.forEachChild(Ne,(o,a)=>{i.matches(new ee(o,a))||(s=s.updateImmediateChild(o,G.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new zo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new ee(n,r))||(r=G.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=G.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=G.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(G.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,G.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,p)=>d(p,h)}else o=this.index_.getCompare();const a=e;$(a.numChildren()===this.limit_,"");const l=new ee(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),f=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=s.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=s.getChildAfterChild(this.index_,h,this.reverse_);const p=h==null?1:o(h,l);if(f&&!r.isEmpty()&&p>=0)return i!=null&&i.trackChildChange($o(n,r,d)),a.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(Fo(n,d));const v=a.updateImmediateChild(n,G.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(i!=null&&i.trackChildChange(ui(h.name,h.node)),v.updateImmediateChild(h.name,h.node)):v}}else return r.isEmpty()?e:f&&o(c,l)>=0?(i!=null&&(i.trackChildChange(Fo(c.name,c.node)),i.trackChildChange(ui(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,G.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ne}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return $(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return $(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ci}hasEnd(){return this.endSet_}getIndexEndValue(){return $(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return $(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ns}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return $(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ne}copy(){const e=new $h;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function xA(t){return t.loadsAllData()?new Fh(t.getIndex()):t.hasLimit()?new vA(t):new zo(t)}function Qg(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ne?n="$priority":t.index_===gA?n="$value":t.index_===Vs?n="$key":($(t.index_ instanceof pA,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=je(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=je(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+je(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=je(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+je(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Kg(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ne&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends o0{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=sa("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:($(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=zl.getListenId_(e,r),a={};this.listens_[o]=a;const l=Qg(e._queryParams);this.restRequest_(i+".json",l,(c,f)=>{let d=f;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,r),li(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",s(h,null)}})}unlisten(e,n){const r=zl.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Qg(e._queryParams),r=e._path.toString(),s=new ta;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+YI(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=jo(a.responseText)}catch{nt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&nt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.rootNode_=G.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(){return{value:null,children:new Map}}function g0(t,e,n){if(te(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Z(e);t.children.has(r)||t.children.set(r,Bl());const s=t.children.get(r);e=de(e),g0(s,e,n)}}function Zd(t,e,n){t.value!==null?n(e,t.value):_A(t,(r,s)=>{const i=new le(e.toString()+"/"+r);Zd(s,i,n)})}function _A(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ve(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg=10*1e3,SA=30*1e3,CA=5*60*1e3;class EA{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new bA(e);const r=qg+(SA-qg)*Math.random();lo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ve(e,(s,i)=>{i>0&&pn(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),lo(this.reportStats_.bind(this),Math.floor(Math.random()*2*CA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Gt||(Gt={}));function zh(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Bh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Wh(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Gt.ACK_USER_WRITE,this.source=zh()}operationForChild(e){if(te(this.path)){if(this.affectedTree.value!=null)return $(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new le(e));return new Wl(ie(),n,this.revert)}}else return $(Z(this.path)===e,"operationForChild called for unrelated child."),new Wl(de(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n){this.source=e,this.path=n,this.type=Gt.LISTEN_COMPLETE}operationForChild(e){return te(this.path)?new Bo(this.source,ie()):new Bo(this.source,de(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Gt.OVERWRITE}operationForChild(e){return te(this.path)?new rs(this.source,ie(),this.snap.getImmediateChild(e)):new rs(this.source,de(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Gt.MERGE}operationForChild(e){if(te(this.path)){const n=this.children.subtree(new le(e));return n.isEmpty()?null:n.value?new rs(this.source,ie(),n.value):new di(this.source,ie(),n)}else return $(Z(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new di(this.source,de(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(te(e))return this.isFullyInitialized()&&!this.filtered_;const n=Z(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function kA(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(yA(o.childName,o.snapshotNode))}),Vi(t,s,"child_removed",e,r,n),Vi(t,s,"child_added",e,r,n),Vi(t,s,"child_moved",i,r,n),Vi(t,s,"child_changed",e,r,n),Vi(t,s,"value",e,r,n),s}function Vi(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>IA(t,a,l)),o.forEach(a=>{const l=TA(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function TA(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function IA(t,e,n){if(e.childName==null||n.childName==null)throw _i("Should only compare child_ events.");const r=new ee(e.childName,e.snapshotNode),s=new ee(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t,e){return{eventCache:t,serverCache:e}}function co(t,e,n,r){return Ic(new Cr(e,n,r),t.serverCache)}function y0(t,e,n,r){return Ic(t.eventCache,new Cr(e,n,r))}function Ul(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ss(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu;const PA=()=>(Pu||(Pu=new lt(pR)),Pu);class ce{constructor(e,n=PA()){this.value=e,this.children=n}static fromObject(e){let n=new ce(null);return Ve(e,(r,s)=>{n=n.set(new le(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ie(),value:this.value};if(te(e))return null;{const r=Z(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(de(e),n);return i!=null?{path:Ee(new le(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(te(e))return this;{const n=Z(e),r=this.children.get(n);return r!==null?r.subtree(de(e)):new ce(null)}}set(e,n){if(te(e))return new ce(n,this.children);{const r=Z(e),i=(this.children.get(r)||new ce(null)).set(de(e),n),o=this.children.insert(r,i);return new ce(this.value,o)}}remove(e){if(te(e))return this.children.isEmpty()?new ce(null):new ce(null,this.children);{const n=Z(e),r=this.children.get(n);if(r){const s=r.remove(de(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new ce(null):new ce(this.value,i)}else return this}}get(e){if(te(e))return this.value;{const n=Z(e),r=this.children.get(n);return r?r.get(de(e)):null}}setTree(e,n){if(te(e))return n;{const r=Z(e),i=(this.children.get(r)||new ce(null)).setTree(de(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new ce(this.value,o)}}fold(e){return this.fold_(ie(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(Ee(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ie(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(te(e))return null;{const i=Z(e),o=this.children.get(i);return o?o.findOnPath_(de(e),Ee(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ie(),n)}foreachOnPath_(e,n,r){if(te(e))return this;{this.value&&r(n,this.value);const s=Z(e),i=this.children.get(s);return i?i.foreachOnPath_(de(e),Ee(n,s),r):new ce(null)}}foreach(e){this.foreach_(ie(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Ee(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.writeTree_=e}static empty(){return new Kt(new ce(null))}}function uo(t,e,n){if(te(e))return new Kt(new ce(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=et(s,e);return i=i.updateChild(o,n),new Kt(t.writeTree_.set(s,i))}else{const s=new ce(n),i=t.writeTree_.setTree(e,s);return new Kt(i)}}}function ef(t,e,n){let r=t;return Ve(n,(s,i)=>{r=uo(r,Ee(e,s),i)}),r}function Xg(t,e){if(te(e))return Kt.empty();{const n=t.writeTree_.setTree(e,new ce(null));return new Kt(n)}}function tf(t,e){return cs(t,e)!=null}function cs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(et(n.path,e)):null}function Jg(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ne,(r,s)=>{e.push(new ee(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new ee(r,s.value))}),e}function mr(t,e){if(te(e))return t;{const n=cs(t,e);return n!=null?new Kt(new ce(n)):new Kt(t.writeTree_.subtree(e))}}function nf(t){return t.writeTree_.isEmpty()}function fi(t,e){return v0(ie(),t.writeTree_,e)}function v0(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?($(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=v0(Ee(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ee(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t,e){return b0(e,t)}function RA(t,e,n,r,s){$(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=uo(t.visibleWrites,e,n)),t.lastWriteId=r}function AA(t,e,n,r){$(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=ef(t.visibleWrites,e,n),t.lastWriteId=r}function jA(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function MA(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);$(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&OA(a,r.path)?s=!1:It(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return DA(t),!0;if(r.snap)t.visibleWrites=Xg(t.visibleWrites,r.path);else{const a=r.children;Ve(a,l=>{t.visibleWrites=Xg(t.visibleWrites,Ee(r.path,l))})}return!0}else return!1}function OA(t,e){if(t.snap)return It(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&It(Ee(t.path,n),e))return!0;return!1}function DA(t){t.visibleWrites=x0(t.allWrites,LA,ie()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function LA(t){return t.visible}function x0(t,e,n){let r=Kt.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)It(n,o)?(a=et(n,o),r=uo(r,a,i.snap)):It(o,n)&&(a=et(o,n),r=uo(r,ie(),i.snap.getChild(a)));else if(i.children){if(It(n,o))a=et(n,o),r=ef(r,a,i.children);else if(It(o,n))if(a=et(o,n),te(a))r=ef(r,ie(),i.children);else{const l=li(i.children,Z(a));if(l){const c=l.getChild(de(a));r=uo(r,ie(),c)}}}else throw _i("WriteRecord should have .snap or .children")}}return r}function w0(t,e,n,r,s){if(!r&&!s){const i=cs(t.visibleWrites,e);if(i!=null)return i;{const o=mr(t.visibleWrites,e);if(nf(o))return n;if(n==null&&!tf(o,ie()))return null;{const a=n||G.EMPTY_NODE;return fi(o,a)}}}else{const i=mr(t.visibleWrites,e);if(!s&&nf(i))return n;if(!s&&n==null&&!tf(i,ie()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(It(c.path,e)||It(e,c.path))},a=x0(t.allWrites,o,e),l=n||G.EMPTY_NODE;return fi(a,l)}}}function FA(t,e,n){let r=G.EMPTY_NODE;const s=cs(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Ne,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=mr(t.visibleWrites,e);return n.forEachChild(Ne,(o,a)=>{const l=fi(mr(i,new le(o)),a);r=r.updateImmediateChild(o,l)}),Jg(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=mr(t.visibleWrites,e);return Jg(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function $A(t,e,n,r,s){$(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=Ee(e,n);if(tf(t.visibleWrites,i))return null;{const o=mr(t.visibleWrites,i);return nf(o)?s.getChild(n):fi(o,s.getChild(n))}}function zA(t,e,n,r){const s=Ee(e,n),i=cs(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=mr(t.visibleWrites,s);return fi(o,r.getNode().getImmediateChild(n))}else return null}function BA(t,e){return cs(t.visibleWrites,e)}function WA(t,e,n,r,s,i,o){let a;const l=mr(t.visibleWrites,e),c=cs(l,ie());if(c!=null)a=c;else if(n!=null)a=fi(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const f=[],d=o.getCompare(),h=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=h.getNext();for(;p&&f.length<s;)d(p,r)!==0&&f.push(p),p=h.getNext();return f}else return[]}function UA(){return{visibleWrites:Kt.empty(),allWrites:[],lastWriteId:-1}}function Vl(t,e,n,r){return w0(t.writeTree,t.treePath,e,n,r)}function Uh(t,e){return FA(t.writeTree,t.treePath,e)}function Zg(t,e,n,r){return $A(t.writeTree,t.treePath,e,n,r)}function Hl(t,e){return BA(t.writeTree,Ee(t.treePath,e))}function VA(t,e,n,r,s,i){return WA(t.writeTree,t.treePath,e,n,r,s,i)}function Vh(t,e,n){return zA(t.writeTree,t.treePath,e,n)}function _0(t,e){return b0(Ee(t.treePath,e),t.writeTree)}function b0(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;$(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),$(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,$o(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Fo(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,ui(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,$o(r,e.snapshotNode,s.oldSnap));else throw _i("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const S0=new GA;class Hh{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Cr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Vh(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ss(this.viewCache_),i=VA(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t){return{filter:t}}function QA(t,e){$(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),$(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function KA(t,e,n,r,s){const i=new HA;let o,a;if(n.type===Gt.OVERWRITE){const c=n;c.source.fromUser?o=rf(t,e,c.path,c.snap,r,s,i):($(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!te(c.path),o=Gl(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===Gt.MERGE){const c=n;c.source.fromUser?o=XA(t,e,c.path,c.children,r,s,i):($(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=sf(t,e,c.path,c.children,r,s,a,i))}else if(n.type===Gt.ACK_USER_WRITE){const c=n;c.revert?o=ej(t,e,c.path,r,s,i):o=JA(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===Gt.LISTEN_COMPLETE)o=ZA(t,e,n.path,r,i);else throw _i("Unknown operation type: "+n.type);const l=i.getChanges();return qA(e,o,l),{viewCache:o,changes:l}}function qA(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Ul(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(m0(Ul(e)))}}function C0(t,e,n,r,s,i){const o=e.eventCache;if(Hl(r,n)!=null)return e;{let a,l;if(te(n))if($(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=ss(e),f=c instanceof G?c:G.EMPTY_NODE,d=Uh(r,f);a=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const c=Vl(r,ss(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=Z(n);if(c===".priority"){$(Sr(n)===1,"Can't have a priority with additional path components");const f=o.getNode();l=e.serverCache.getNode();const d=Zg(r,n,f,l);d!=null?a=t.filter.updatePriority(f,d):a=o.getNode()}else{const f=de(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=Zg(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(f,h):d=o.getNode().getImmediateChild(c)}else d=Vh(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,f,s,i):a=o.getNode()}}return co(e,a,o.isFullyInitialized()||te(n),t.filter.filtersNodes())}}function Gl(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const f=o?t.filter:t.filter.getIndexedFilter();if(te(n))c=f.updateFullNode(l.getNode(),r,null);else if(f.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=f.updateFullNode(l.getNode(),p,null)}else{const p=Z(n);if(!l.isCompleteForPath(n)&&Sr(n)>1)return e;const g=de(n),b=l.getNode().getImmediateChild(p).updateChild(g,r);p===".priority"?c=f.updatePriority(l.getNode(),b):c=f.updateChild(l.getNode(),p,b,g,S0,null)}const d=y0(e,c,l.isFullyInitialized()||te(n),f.filtersNodes()),h=new Hh(s,d,i);return C0(t,d,n,s,h,a)}function rf(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const f=new Hh(s,e,i);if(te(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=co(e,c,!0,t.filter.filtersNodes());else{const d=Z(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=co(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=de(n),p=a.getNode().getImmediateChild(d);let g;if(te(h))g=r;else{const v=f.getCompleteChild(d);v!=null?Mh(h)===".priority"&&v.getChild(l0(h)).isEmpty()?g=v:g=v.updateChild(h,r):g=G.EMPTY_NODE}if(p.equals(g))l=e;else{const v=t.filter.updateChild(a.getNode(),d,g,h,f,o);l=co(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function ey(t,e){return t.eventCache.isCompleteForChild(e)}function XA(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const f=Ee(n,l);ey(e,Z(f))&&(a=rf(t,a,f,c,s,i,o))}),r.foreach((l,c)=>{const f=Ee(n,l);ey(e,Z(f))||(a=rf(t,a,f,c,s,i,o))}),a}function ty(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function sf(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;te(n)?c=r:c=new ce(null).setTree(n,r);const f=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(f.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),g=ty(t,p,h);l=Gl(t,l,new le(d),g,s,i,o,a)}}),c.children.inorderTraversal((d,h)=>{const p=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!f.hasChild(d)&&!p){const g=e.serverCache.getNode().getImmediateChild(d),v=ty(t,g,h);l=Gl(t,l,new le(d),v,s,i,o,a)}}),l}function JA(t,e,n,r,s,i,o){if(Hl(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(te(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Gl(t,e,n,l.getNode().getChild(n),s,i,a,o);if(te(n)){let c=new ce(null);return l.getNode().forEachChild(Vs,(f,d)=>{c=c.set(new le(f),d)}),sf(t,e,n,c,s,i,a,o)}else return e}else{let c=new ce(null);return r.foreach((f,d)=>{const h=Ee(n,f);l.isCompleteForPath(h)&&(c=c.set(f,l.getNode().getChild(h)))}),sf(t,e,n,c,s,i,a,o)}}function ZA(t,e,n,r,s){const i=e.serverCache,o=y0(e,i.getNode(),i.isFullyInitialized()||te(n),i.isFiltered());return C0(t,o,n,r,S0,s)}function ej(t,e,n,r,s,i){let o;if(Hl(r,n)!=null)return e;{const a=new Hh(r,e,s),l=e.eventCache.getNode();let c;if(te(n)||Z(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=Vl(r,ss(e));else{const d=e.serverCache.getNode();$(d instanceof G,"serverChildren would be complete if leaf node"),f=Uh(r,d)}f=f,c=t.filter.updateFullNode(l,f,i)}else{const f=Z(n);let d=Vh(r,f,e.serverCache);d==null&&e.serverCache.isCompleteForChild(f)&&(d=l.getImmediateChild(f)),d!=null?c=t.filter.updateChild(l,f,d,de(n),a,i):e.eventCache.getNode().hasChild(f)?c=t.filter.updateChild(l,f,G.EMPTY_NODE,de(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Vl(r,ss(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||Hl(r,ie())!=null,co(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new Fh(r.getIndex()),i=xA(r);this.processor_=YA(i);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(G.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(G.EMPTY_NODE,a.getNode(),null),f=new Cr(l,o.isFullyInitialized(),s.filtersNodes()),d=new Cr(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Ic(d,f),this.eventGenerator_=new NA(this.query_)}get query(){return this.query_}}function nj(t){return t.viewCache_.serverCache.getNode()}function rj(t){return Ul(t.viewCache_)}function sj(t,e){const n=ss(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!te(e)&&!n.getImmediateChild(Z(e)).isEmpty())?n.getChild(e):null}function ny(t){return t.eventRegistrations_.length===0}function ij(t,e){t.eventRegistrations_.push(e)}function ry(t,e,n){const r=[];if(n){$(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function sy(t,e,n,r){e.type===Gt.MERGE&&e.source.queryId!==null&&($(ss(t.viewCache_),"We should always have a full cache before handling merges"),$(Ul(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=KA(t.processor_,s,e,n,r);return QA(t.processor_,i.viewCache),$(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,E0(t,i.changes,i.viewCache.eventCache.getNode(),null)}function oj(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ne,(i,o)=>{r.push(ui(i,o))}),n.isFullyInitialized()&&r.push(m0(n.getNode())),E0(t,r,n.getNode(),e)}function E0(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return kA(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl;class N0{constructor(){this.views=new Map}}function aj(t){$(!Yl,"__referenceConstructor has already been defined"),Yl=t}function lj(){return $(Yl,"Reference.ts has not been loaded"),Yl}function cj(t){return t.views.size===0}function Gh(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return $(i!=null,"SyncTree gave us an op for an invalid query."),sy(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(sy(o,e,n,r));return i}}function k0(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=Vl(n,s?r:null),l=!1;a?l=!0:r instanceof G?(a=Uh(n,r),l=!1):(a=G.EMPTY_NODE,l=!1);const c=Ic(new Cr(a,l,!1),new Cr(r,s,!1));return new tj(e,c)}return o}function uj(t,e,n,r,s,i){const o=k0(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),ij(o,n),oj(o,n)}function dj(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const a=Er(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(ry(c,n,r)),ny(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(ry(l,n,r)),ny(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!Er(t)&&i.push(new(lj())(e._repo,e._path)),{removed:i,events:o}}function T0(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function gr(t,e){let n=null;for(const r of t.views.values())n=n||sj(r,e);return n}function I0(t,e){if(e._queryParams.loadsAllData())return Rc(t);{const r=e._queryIdentifier;return t.views.get(r)}}function P0(t,e){return I0(t,e)!=null}function Er(t){return Rc(t)!=null}function Rc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ql;function fj(t){$(!Ql,"__referenceConstructor has already been defined"),Ql=t}function hj(){return $(Ql,"Reference.ts has not been loaded"),Ql}let pj=1;class iy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ce(null),this.pendingWriteTree_=UA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function R0(t,e,n,r,s){return RA(t.pendingWriteTree_,e,n,r,s),s?Ci(t,new rs(zh(),e,n)):[]}function mj(t,e,n,r){AA(t.pendingWriteTree_,e,n,r);const s=ce.fromObject(n);return Ci(t,new di(zh(),e,s))}function sr(t,e,n=!1){const r=jA(t.pendingWriteTree_,e);if(MA(t.pendingWriteTree_,e)){let i=new ce(null);return r.snap!=null?i=i.set(ie(),!0):Ve(r.children,o=>{i=i.set(new le(o),!0)}),Ci(t,new Wl(r.path,i,n))}else return[]}function oa(t,e,n){return Ci(t,new rs(Bh(),e,n))}function gj(t,e,n){const r=ce.fromObject(n);return Ci(t,new di(Bh(),e,r))}function yj(t,e){return Ci(t,new Bo(Bh(),e))}function vj(t,e,n){const r=Qh(t,n);if(r){const s=Kh(r),i=s.path,o=s.queryId,a=et(i,e),l=new Bo(Wh(o),a);return qh(t,i,l)}else return[]}function Kl(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||P0(o,e))){const l=dj(o,e,n,r);cj(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!s){const f=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(i,(h,p)=>Er(p));if(f&&!d){const h=t.syncPointTree_.subtree(i);if(!h.isEmpty()){const p=_j(h);for(let g=0;g<p.length;++g){const v=p[g],b=v.query,y=O0(t,v);t.listenProvider_.startListening(fo(b),Wo(t,b),y.hashFn,y.onComplete)}}}!d&&c.length>0&&!r&&(f?t.listenProvider_.stopListening(fo(e),null):c.forEach(h=>{const p=t.queryToTagMap.get(Ac(h));t.listenProvider_.stopListening(fo(h),p)}))}bj(t,c)}return a}function A0(t,e,n,r){const s=Qh(t,r);if(s!=null){const i=Kh(s),o=i.path,a=i.queryId,l=et(o,e),c=new rs(Wh(a),l,n);return qh(t,o,c)}else return[]}function xj(t,e,n,r){const s=Qh(t,r);if(s){const i=Kh(s),o=i.path,a=i.queryId,l=et(o,e),c=ce.fromObject(n),f=new di(Wh(a),l,c);return qh(t,o,f)}else return[]}function of(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(h,p)=>{const g=et(h,s);i=i||gr(p,g),o=o||Er(p)});let a=t.syncPointTree_.get(s);a?(o=o||Er(a),i=i||gr(a,ie())):(a=new N0,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;i!=null?l=!0:(l=!1,i=G.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((p,g)=>{const v=gr(g,ie());v&&(i=i.updateImmediateChild(p,v))}));const c=P0(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=Ac(e);$(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const p=Sj();t.queryToTagMap.set(h,p),t.tagToQueryMap.set(p,h)}const f=Pc(t.pendingWriteTree_,s);let d=uj(a,e,n,f,i,l);if(!c&&!o&&!r){const h=I0(a,e);d=d.concat(Cj(t,e,h))}return d}function Yh(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=et(o,e),c=gr(a,l);if(c)return c});return w0(s,e,i,n,!0)}function wj(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,f)=>{const d=et(c,n);r=r||gr(f,d)});let s=t.syncPointTree_.get(n);s?r=r||gr(s,ie()):(s=new N0,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new Cr(r,!0,!1):null,a=Pc(t.pendingWriteTree_,e._path),l=k0(s,e,a,i?o.getNode():G.EMPTY_NODE,i);return rj(l)}function Ci(t,e){return j0(e,t.syncPointTree_,null,Pc(t.pendingWriteTree_,ie()))}function j0(t,e,n,r){if(te(t.path))return M0(t,e,n,r);{const s=e.get(ie());n==null&&s!=null&&(n=gr(s,ie()));let i=[];const o=Z(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,f=_0(r,o);i=i.concat(j0(a,l,c,f))}return s&&(i=i.concat(Gh(s,t,r,n))),i}}function M0(t,e,n,r){const s=e.get(ie());n==null&&s!=null&&(n=gr(s,ie()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=_0(r,o),f=t.operationForChild(o);f&&(i=i.concat(M0(f,a,l,c)))}),s&&(i=i.concat(Gh(s,t,r,n))),i}function O0(t,e){const n=e.query,r=Wo(t,n);return{hashFn:()=>(nj(e)||G.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?vj(t,n._path,r):yj(t,n._path);{const i=yR(s,n);return Kl(t,n,null,i)}}}}function Wo(t,e){const n=Ac(e);return t.queryToTagMap.get(n)}function Ac(t){return t._path.toString()+"$"+t._queryIdentifier}function Qh(t,e){return t.tagToQueryMap.get(e)}function Kh(t){const e=t.indexOf("$");return $(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new le(t.substr(0,e))}}function qh(t,e,n){const r=t.syncPointTree_.get(e);$(r,"Missing sync point for query tag that we're tracking");const s=Pc(t.pendingWriteTree_,e);return Gh(r,n,s,null)}function _j(t){return t.fold((e,n,r)=>{if(n&&Er(n))return[Rc(n)];{let s=[];return n&&(s=T0(n)),Ve(r,(i,o)=>{s=s.concat(o)}),s}})}function fo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(hj())(t._repo,t._path):t}function bj(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=Ac(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function Sj(){return pj++}function Cj(t,e,n){const r=e._path,s=Wo(t,e),i=O0(t,n),o=t.listenProvider_.startListening(fo(e),s,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(s)$(!Er(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,f,d)=>{if(!te(c)&&f&&Er(f))return[Rc(f).query];{let h=[];return f&&(h=h.concat(T0(f).map(p=>p.query))),Ve(d,(p,g)=>{h=h.concat(g)}),h}});for(let c=0;c<l.length;++c){const f=l[c];t.listenProvider_.stopListening(fo(f),Wo(t,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Xh(n)}node(){return this.node_}}class Jh{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ee(this.path_,e);return new Jh(this.syncTree_,n)}node(){return Yh(this.syncTree_,this.path_)}}const Ej=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},oy=function(t,e,n){if(!t||typeof t!="object")return t;if($(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Nj(t[".sv"],e,n);if(typeof t[".sv"]=="object")return kj(t[".sv"],e);$(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Nj=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:$(!1,"Unexpected server value: "+t)}},kj=function(t,e,n){t.hasOwnProperty("increment")||$(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&$(!1,"Unexpected increment value: "+r);const s=e.node();if($(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},D0=function(t,e,n,r){return Zh(e,new Jh(n,t),r)},L0=function(t,e,n){return Zh(t,new Xh(e),n)};function Zh(t,e,n){const r=t.getPriority().val(),s=oy(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=oy(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new De(a,Ae(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new De(s))),o.forEachChild(Ne,(a,l)=>{const c=Zh(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function tp(t,e){let n=e instanceof le?e:new le(e),r=t,s=Z(n);for(;s!==null;){const i=li(r.node.children,s)||{children:{},childCount:0};r=new ep(s,r,i),n=de(n),s=Z(n)}return r}function Ei(t){return t.node.value}function F0(t,e){t.node.value=e,af(t)}function $0(t){return t.node.childCount>0}function Tj(t){return Ei(t)===void 0&&!$0(t)}function jc(t,e){Ve(t.node.children,(n,r)=>{e(new ep(n,t,r))})}function z0(t,e,n,r){n&&e(t),jc(t,s=>{z0(s,e,!0)})}function Ij(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function aa(t){return new le(t.parent===null?t.name:aa(t.parent)+"/"+t.name)}function af(t){t.parent!==null&&Pj(t.parent,t.name,t)}function Pj(t,e,n){const r=Tj(n),s=pn(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,af(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,af(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=/[\[\].#$\/\u0000-\u001F\u007F]/,Aj=/[\[\].#$\u0000-\u001F\u007F]/,Ru=10*1024*1024,np=function(t){return typeof t=="string"&&t.length!==0&&!Rj.test(t)},B0=function(t){return typeof t=="string"&&t.length!==0&&!Aj.test(t)},jj=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),B0(t)},Mj=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Ih(t)||t&&typeof t=="object"&&pn(t,".sv")},Oj=function(t,e,n,r){Mc(Nc(t,"value"),e,n)},Mc=function(t,e,n){const r=n instanceof le?new XR(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Lr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Lr(r)+" with contents = "+e.toString());if(Ih(e))throw new Error(t+"contains "+e.toString()+" "+Lr(r));if(typeof e=="string"&&e.length>Ru/3&&kc(e)>Ru)throw new Error(t+"contains a string greater than "+Ru+" utf8 bytes "+Lr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Ve(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!np(o)))throw new Error(t+" contains an invalid key ("+o+") "+Lr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);JR(r,o),Mc(t,a,r),ZR(r)}),s&&i)throw new Error(t+' contains ".value" child '+Lr(r)+" in addition to actual children.")}},Dj=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=Lo(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!np(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(qR);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&It(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},Lj=function(t,e,n,r){const s=Nc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];Ve(e,(o,a)=>{const l=new le(o);if(Mc(s,a,Ee(n,l)),Mh(l)===".priority"&&!Mj(a))throw new Error(s+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(l)}),Dj(s,i)},W0=function(t,e,n,r){if(!B0(n))throw new Error(Nc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Fj=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),W0(t,e,n)},$j=function(t,e){if(Z(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},zj=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!np(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!jj(n))throw new Error(Nc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Oc(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!Oh(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function U0(t,e,n){Oc(t,n),V0(t,r=>Oh(r,e))}function jt(t,e,n){Oc(t,n),V0(t,r=>It(r,e)||It(e,r))}function V0(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(Wj(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Wj(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ao&&Be("event: "+n.toString()),Si(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="repo_interrupt",Vj=25;class Hj{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Bj,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Bl(),this.transactionQueueTree_=new ep,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Gj(t,e,n){if(t.stats_=Ah(t.repoInfo_),t.forceRestClient_||_R())t.server_=new zl(t.repoInfo_,(r,s,i,o)=>{ay(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>ly(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{je(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Cn(t.repoInfo_,e,(r,s,i,o)=>{ay(t,r,s,i,o)},r=>{ly(t,r)},r=>{Qj(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=NR(t.repoInfo_,()=>new EA(t.stats_,t.server_)),t.infoData_=new wA,t.infoSyncTree_=new iy({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=oa(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),rp(t,"connected",!1),t.serverSyncTree_=new iy({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);jt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function Yj(t){const n=t.infoData_.getNode(new le(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Dc(t){return Ej({timestamp:Yj(t)})}function ay(t,e,n,r,s){t.dataUpdateCount++;const i=new le(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=Ml(n,c=>Ae(c));o=xj(t.serverSyncTree_,i,l,s)}else{const l=Ae(n);o=A0(t.serverSyncTree_,i,l,s)}else if(r){const l=Ml(n,c=>Ae(c));o=gj(t.serverSyncTree_,i,l)}else{const l=Ae(n);o=oa(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=hi(t,i)),jt(t.eventQueue_,a,o)}function ly(t,e){rp(t,"connected",e),e===!1&&Jj(t)}function Qj(t,e){Ve(e,(n,r)=>{rp(t,n,r)})}function rp(t,e,n){const r=new le("/.info/"+e),s=Ae(n);t.infoData_.updateSnapshot(r,s);const i=oa(t.infoSyncTree_,r,s);jt(t.eventQueue_,r,i)}function sp(t){return t.nextWriteId_++}function Kj(t,e,n){const r=wj(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=Ae(s).withIndex(e._queryParams.getIndex());of(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=oa(t.serverSyncTree_,e._path,i);else{const a=Wo(t.serverSyncTree_,e);o=A0(t.serverSyncTree_,e._path,i,a)}return jt(t.eventQueue_,e._path,o),Kl(t.serverSyncTree_,e,n,null,!0),i},s=>(la(t,"get for query "+je(e)+" failed: "+s),Promise.reject(new Error(s))))}function qj(t,e,n,r,s){la(t,"set",{path:e.toString(),value:n,priority:r});const i=Dc(t),o=Ae(n,r),a=Yh(t.serverSyncTree_,e),l=L0(o,a,i),c=sp(t),f=R0(t.serverSyncTree_,e,l,c,!0);Oc(t.eventQueue_,f),t.server_.put(e.toString(),o.val(!0),(h,p)=>{const g=h==="ok";g||nt("set at "+e+" failed: "+h);const v=sr(t.serverSyncTree_,c,!g);jt(t.eventQueue_,e,v),lf(t,s,h,p)});const d=op(t,e);hi(t,d),jt(t.eventQueue_,d,[])}function Xj(t,e,n,r){la(t,"update",{path:e.toString(),value:n});let s=!0;const i=Dc(t),o={};if(Ve(n,(a,l)=>{s=!1,o[a]=D0(Ee(e,a),Ae(l),t.serverSyncTree_,i)}),s)Be("update() called with empty data.  Don't do anything."),lf(t,r,"ok",void 0);else{const a=sp(t),l=mj(t.serverSyncTree_,e,o,a);Oc(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,f)=>{const d=c==="ok";d||nt("update at "+e+" failed: "+c);const h=sr(t.serverSyncTree_,a,!d),p=h.length>0?hi(t,e):e;jt(t.eventQueue_,p,h),lf(t,r,c,f)}),Ve(n,c=>{const f=op(t,Ee(e,c));hi(t,f)}),jt(t.eventQueue_,e,[])}}function Jj(t){la(t,"onDisconnectEvents");const e=Dc(t),n=Bl();Zd(t.onDisconnect_,ie(),(s,i)=>{const o=D0(s,i,t.serverSyncTree_,e);g0(n,s,o)});let r=[];Zd(n,ie(),(s,i)=>{r=r.concat(oa(t.serverSyncTree_,s,i));const o=op(t,s);hi(t,o)}),t.onDisconnect_=Bl(),jt(t.eventQueue_,ie(),r)}function Zj(t,e,n){let r;Z(e._path)===".info"?r=of(t.infoSyncTree_,e,n):r=of(t.serverSyncTree_,e,n),U0(t.eventQueue_,e._path,r)}function H0(t,e,n){let r;Z(e._path)===".info"?r=Kl(t.infoSyncTree_,e,n):r=Kl(t.serverSyncTree_,e,n),U0(t.eventQueue_,e._path,r)}function eM(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Uj)}function la(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Be(n,...e)}function lf(t,e,n,r){e&&Si(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function G0(t,e,n){return Yh(t.serverSyncTree_,e,n)||G.EMPTY_NODE}function ip(t,e=t.transactionQueueTree_){if(e||Lc(t,e),Ei(e)){const n=Q0(t,e);$(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&tM(t,aa(e),n)}else $0(e)&&jc(e,n=>{ip(t,n)})}function tM(t,e,n){const r=n.map(c=>c.currentWriteId),s=G0(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const f=n[c];$(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const d=et(e,f.path);i=i.updateChild(d,f.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{la(t,"transaction put response",{path:l.toString(),status:c});let f=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,f=f.concat(sr(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Lc(t,tp(t.transactionQueueTree_,e)),ip(t,t.transactionQueueTree_),jt(t.eventQueue_,e,f);for(let h=0;h<d.length;h++)Si(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{nt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}hi(t,e)}},o)}function hi(t,e){const n=Y0(t,e),r=aa(n),s=Q0(t,n);return nM(t,s,r),r}function nM(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=et(n,l.path);let f=!1,d;if($(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)f=!0,d=l.abortReason,s=s.concat(sr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Vj)f=!0,d="maxretry",s=s.concat(sr(t.serverSyncTree_,l.currentWriteId,!0));else{const h=G0(t,l.path,o);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){Mc("transaction failed: Data returned ",p,l.path);let g=Ae(p);typeof p=="object"&&p!=null&&pn(p,".priority")||(g=g.updatePriority(h.getPriority()));const b=l.currentWriteId,y=Dc(t),m=L0(g,h,y);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=m,l.currentWriteId=sp(t),o.splice(o.indexOf(b),1),s=s.concat(R0(t.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally)),s=s.concat(sr(t.serverSyncTree_,b,!0))}else f=!0,d="nodata",s=s.concat(sr(t.serverSyncTree_,l.currentWriteId,!0))}jt(t.eventQueue_,n,s),s=[],f&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Lc(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Si(r[a]);ip(t,t.transactionQueueTree_)}function Y0(t,e){let n,r=t.transactionQueueTree_;for(n=Z(e);n!==null&&Ei(r)===void 0;)r=tp(r,n),e=de(e),n=Z(e);return r}function Q0(t,e){const n=[];return K0(t,e,n),n.sort((r,s)=>r.order-s.order),n}function K0(t,e,n){const r=Ei(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);jc(e,s=>{K0(t,s,n)})}function Lc(t,e){const n=Ei(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,F0(e,n.length>0?n:void 0)}jc(e,r=>{Lc(t,r)})}function op(t,e){const n=aa(Y0(t,e)),r=tp(t.transactionQueueTree_,e);return Ij(r,s=>{Au(t,s)}),Au(t,r),z0(r,s=>{Au(t,s)}),n}function Au(t,e){const n=Ei(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?($(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):($(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(sr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?F0(e,void 0):n.length=i+1,jt(t.eventQueue_,aa(e),s);for(let o=0;o<r.length;o++)Si(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function sM(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):nt(`Invalid query segment '${n}' in query '${t}'`)}return e}const cy=function(t,e){const n=iM(t),r=n.namespace;n.domain==="firebase.com"&&An(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&An("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||fR();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Z_(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new le(n.pathString)}},iM=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let f=t.indexOf("/");f===-1&&(f=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(f,d)),f<d&&(s=rM(t.substring(f,d)));const h=sM(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),i=r}"ns"in h&&(i=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+je(this.snapshot.exportVal())}}class aM{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return $(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return te(this._path)?null:Mh(this._path)}get ref(){return new Mn(this._repo,this._path)}get _queryIdentifier(){const e=Kg(this._queryParams),n=Ph(e);return n==="{}"?"default":n}get _queryObject(){return Kg(this._queryParams)}isEqual(e){if(e=bi(e),!(e instanceof ap))return!1;const n=this._repo===e._repo,r=Oh(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+KR(this._path)}}class Mn extends ap{constructor(e,n){super(e,n,new $h,!1)}get parent(){const e=l0(this._path);return e===null?null:new Mn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Uo{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new le(e),r=cf(this.ref,e);return new Uo(this._node.getChild(n),r,Ne)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Uo(s,cf(this.ref,r),Ne)))}hasChild(e){const n=new le(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function St(t,e){return t=bi(t),t._checkNotDeleted("ref"),e!==void 0?cf(t._root,e):t._root}function cf(t,e){return t=bi(t),Z(t._path)===null?Fj("child","path",e):W0("child","path",e),new Mn(t._repo,Ee(t._path,e))}function lM(t,e){t=bi(t),$j("set",t._path),Oj("set",e,t._path);const n=new ta;return qj(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function vs(t,e){Lj("update",e,t._path);const n=new ta;return Xj(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function La(t){t=bi(t);const e=new q0(()=>{}),n=new Fc(e);return Kj(t._repo,t,n).then(r=>new Uo(r,new Mn(t._repo,t._path),t._queryParams.getIndex()))}class Fc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new oM("value",this,new Uo(e.snapshotNode,new Mn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new aM(this,e,n):null}matches(e){return e instanceof Fc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function cM(t,e,n,r,s){const i=new q0(n,void 0),o=new Fc(i);return Zj(t._repo,t,o),()=>H0(t._repo,t,o)}function uM(t,e,n,r){return cM(t,"value",e)}function dM(t,e,n){H0(t._repo,t,null)}aj(Mn);fj(Mn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM="FIREBASE_DATABASE_EMULATOR_HOST",uf={};let hM=!1;function pM(t,e,n,r){t.repoInfo_=new Z_(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function mM(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||An("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Be("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=cy(i,s),a=o.repoInfo,l;typeof process<"u"&&Rg&&(l=Rg[fM]),l?(i=`http://${l}?ns=${a.namespace}`,o=cy(i,s),a=o.repoInfo):o.repoInfo.secure;const c=new SR(t.name,t.options,e);zj("Invalid Firebase Database URL",o),te(o.path)||An("Database URL must point to the root of a Firebase Database (not including a child path).");const f=yM(a,t,c,new bR(t.name,n));return new vM(f,t)}function gM(t,e){const n=uf[e];(!n||n[t.key]!==t)&&An(`Database ${e}(${t.repoInfo_}) has already been deleted.`),eM(t),delete n[t.key]}function yM(t,e,n,r){let s=uf[e.name];s||(s={},uf[e.name]=s);let i=s[t.toURLString()];return i&&An("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Hj(t,hM,n,r),s[t.toURLString()]=i,i}class vM{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Gj(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Mn(this._repo,ie())),this._rootInternal}_delete(){return this._rootInternal!==null&&(gM(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&An("Cannot call "+e+" on a deleted database.")}}function xM(t=qP(),e){const n=GP(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=OI("database");r&&wM(n,...r)}return n}function wM(t,e,n,r={}){t=bi(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&An("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&An('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Za(Za.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:DI(r.mockUserToken,t.app.options.projectId);i=new Za(o)}pM(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(t){oR(KP),Dl(new Mo("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return mM(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Ws(Ag,jg,t),Ws(Ag,jg,"esm2017")}Cn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Cn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};_M();var bM="firebase",SM="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ws(bM,SM,"app");const CM={apiKey:"AIzaSyAFr8u9pp_aLhKxIvXfP9_rMgJUf5h_-vc",authDomain:"basketball-manager-6c466.firebaseapp.com",databaseURL:"https://basketball-manager-6c466-default-rtdb.europe-west1.firebasedatabase.app",projectId:"basketball-manager-6c466",storageBucket:"basketball-manager-6c466.firebasestorage.app",messagingSenderId:"299621848640",appId:"1:299621848640:web:a1d50705d62298e534f1a5"},EM=D_(CM),Ct=xM(EM);function uy(){const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let n=0;n<6;n++)e+=t[Math.floor(Math.random()*t.length)];return e}function NM(){const[t,e]=w.useState(null),[n,r]=w.useState(null),[s,i]=w.useState(null),[o,a]=w.useState(null),[l,c]=w.useState(!1),[f,d]=w.useState(null),h=w.useRef(null),p=w.useRef(null),g=w.useRef(null);w.useRef(null);const v=w.useRef(null),b=w.useCallback((T,N,M)=>{v.current&&v.current();const A=St(Ct,`lobbies/${T}`),D=uM(A,j=>{const L=j.val();if(!L)return;const W=p.current??N,U=g.current??M,I=W==="host"?L.guestTeamId:L.hostTeamId;if(e({lobbyCode:T,myRole:W,myTeamId:U,opponentTeamId:I,myReady:W==="host"?L.hostReady:L.guestReady,opponentReady:W==="host"?L.guestReady:L.hostReady,status:L.status}),L.gameState){const z={...L.gameState,selectedTeamId:U};r(z)}W==="host"&&L.hostFinances?i(L.hostFinances):W==="guest"&&L.guestFinances&&i(L.guestFinances),W==="host"&&L.guestFinances?a(L.guestFinances):W==="guest"&&L.hostFinances&&a(L.hostFinances),W==="host"&&L.status==="in_game"&&L.hostReady&&L.guestReady&&L.gameState&&y(T,L)});return v.current=()=>dM(A),D},[]);async function y(T,N){if(!N.gameState||!N.hostTeamId||!N.guestTeamId)return;const M=St(Ct,`lobbies/${T}`),A={...N.gameState,selectedTeamId:N.hostTeamId,finances:N.hostFinances??N.gameState.finances},D=__(A),j=D.finances,L=D.teams.find(Q=>Q.id===N.guestTeamId),W=D.seasonBonus==="bonus_ticket_10"?1.1:1,I=D.schedule.filter(Q=>Q.week===D.week&&Q.homeTeamId===N.guestTeamId).length>0&&L?Math.round(L.prestige*1500/2*W):0,P=N.guestFinances??oo(L,D.seasonModifier),z={...P,ticketIncome:P.ticketIncome+I},B=2*(D.teams.filter(Q=>Q.division===L.division).length-1);if(D.week>=B){const ve=[...D.standings[L.division]||[]].sort((J,en)=>en.wins-J.wins||en.pointsFor-en.pointsAgainst-(J.pointsFor-J.pointsAgainst)).findIndex(J=>J.teamId===N.guestTeamId)+1;let Te=0;L.division==="rkl"?Te={1:23e4,2:2e5,3:19e4,4:16e4,5:15e4,6:125e3,7:1e5,8:75e3}[ve]||0:Te={1:5e4,2:35e3,3:28e3,4:22e3}[ve]||0,z.prizeIncome=z.prizeIncome+Te}const Y={...D,selectedTeamId:N.hostTeamId};await vs(M,{gameState:Y,hostFinances:j,guestFinances:z,hostReady:!1,guestReady:!1})}const m=w.useCallback(async T=>{c(!0),d(null);try{let N=uy();for(let D=0;D<5&&(await La(St(Ct,`lobbies/${N}`))).exists();D++)N=uy();if(!Bs.find(D=>D.id===T))throw new Error("Team not found");const A={status:"waiting",hostTeamId:T,guestTeamId:null,hostReady:!1,guestReady:!1,gameState:null,hostFinances:null,guestFinances:null,createdAt:Date.now()};return await lM(St(Ct,`lobbies/${N}`),A),h.current=N,p.current="host",g.current=T,b(N,"host",T),N}catch(N){throw d(N.message??"Failed to create lobby"),N}finally{c(!1)}},[b]),x=w.useCallback(async(T,N)=>{c(!0),d(null);try{const M=await La(St(Ct,`lobbies/${T}`));if(!M.exists())return d("Lobby not found. Check the code and try again."),!1;const A=M.val();return A.status!=="waiting"?(d("This lobby has already started."),!1):A.guestTeamId?(d("This lobby is full."),!1):A.hostTeamId===N?(d("That team is already taken by the host. Pick a different team."),!1):(await vs(St(Ct,`lobbies/${T}`),{guestTeamId:N}),h.current=T,p.current="guest",g.current=N,b(T,"guest",N),!0)}catch(M){return d(M.message??"Failed to join lobby"),!1}finally{c(!1)}},[b]),_=w.useCallback(async()=>{const T=h.current,N=p.current,M=g.current;if(!T||N!=="host"||!M)return;const D=(await La(St(Ct,`lobbies/${T}`))).val();if(!(D!=null&&D.guestTeamId))return;const j=x_(M),L=j.teams.find(z=>z.id===M),W=j.teams.find(z=>z.id===D.guestTeamId),U=oo(L,j.seasonModifier),I=oo(W,j.seasonModifier),P={...j,selectedTeamId:M};await vs(St(Ct,`lobbies/${T}`),{status:"in_game",gameState:P,hostFinances:U,guestFinances:I})},[]),S=w.useCallback(async()=>{const T=h.current,N=p.current;if(!T||!N)return;const M=N==="host"?"hostReady":"guestReady";await vs(St(Ct,`lobbies/${T}`),{[M]:!0})},[]),C=w.useCallback(async()=>{const T=h.current,N=p.current;if(!T||!N)return;const M=N==="host"?"hostReady":"guestReady";await vs(St(Ct,`lobbies/${T}`),{[M]:!1})},[]),E=w.useCallback(async(T,N)=>{const M=h.current,A=p.current,D=g.current;if(!M||!A||!D)return;const L=(await La(St(Ct,`lobbies/${M}/gameState`))).val();if(!L)return;const W=L.teams.map(I=>I.id===D?T.teams.find(P=>P.id===D):I),U=A==="host"?"hostFinances":"guestFinances";await vs(St(Ct,`lobbies/${M}`),{"gameState/teams":W,[U]:N})},[]),k=w.useCallback(()=>{v.current&&(v.current(),v.current=null),h.current=null,p.current=null,g.current=null,e(null),r(null),i(null),a(null),d(null)},[]);return w.useEffect(()=>()=>{v.current&&v.current()},[]),{lobbyState:t,gameState:n,myFinances:s,opponentFinances:o,isCreatingOrJoining:l,error:f,createLobby:m,joinLobby:x,startGame:_,setReady:S,cancelReady:C,updateMyTeam:E,leaveLobby:k}}function kM({onBack:t}){const{lobbyState:e,gameState:n,myFinances:r,isCreatingOrJoining:s,error:i,createLobby:o,joinLobby:a,startGame:l,setReady:c,cancelReady:f,updateMyTeam:d,leaveLobby:h}=NM(),[p,g]=w.useState("menu"),[v,b]=w.useState(""),[y,m]=w.useState(null),[x,_]=w.useState(null),[S,C]=w.useState("rkl"),[E,k]=w.useState(!1),[T,N]=w.useState(null),M=i||T;if((e==null?void 0:e.status)==="in_game"&&n&&r)return u.jsx(gI,{initialGameState:n,initialFinances:r,lobbyState:e,onReady:c,onCancelReady:f,onUpdateTeam:d,onLeave:()=>{h(),t()},children:u.jsx(S_,{})});async function A(){if(y){N(null);try{const P=await o(y);_(P),g("waiting")}catch{N("Failed to create lobby. Check your internet connection.")}}}async function D(){if(!y||!v.trim())return;N(null),await a(v.trim().toUpperCase(),y)&&g("waiting")}async function j(){await l()}function L(){x&&(navigator.clipboard.writeText(x),k(!0),setTimeout(()=>k(!1),2e3))}function W(){h(),g("menu"),_(null),m(null),N(null)}const U=(e==null?void 0:e.myRole)==="guest"?e.opponentTeamId:null;function I({onConfirm:P,confirmLabel:z,disabledTeamId:H}){return u.jsxs("div",{children:[u.jsx("div",{className:"flex gap-2 mb-4",children:wi.map(B=>u.jsx("button",{onClick:()=>C(B.id),className:`flex-1 py-2 rounded-lg text-sm font-semibold transition-all ${S===B.id?"bg-primary text-primary-foreground":"bg-card border border-border text-muted-foreground hover:text-foreground"}`,children:B.name},B.id))}),u.jsx("div",{className:"grid grid-cols-2 gap-2 mb-6",children:Bs.filter(B=>B.division===S).map(B=>{const Y=B.id===H,Q=B.id===y;return u.jsxs("button",{onClick:()=>!Y&&m(B.id),disabled:Y,className:`relative p-3 rounded-xl border text-left transition-all ${Q?"border-primary bg-primary/10":Y?"opacity-40 cursor-not-allowed border-border bg-card":"border-border bg-card hover:border-primary/40"}`,children:[Y&&u.jsx("div",{className:"absolute top-1.5 right-1.5 text-[9px] bg-destructive/20 text-destructive px-1.5 py-0.5 rounded font-bold",children:"TAKEN"}),u.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5",children:[u.jsx("div",{className:"w-8 h-8 rounded-md flex items-center justify-center text-[9px] font-black shrink-0",style:{backgroundColor:B.color+"33",color:B.color},children:B.shortName}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-bold text-foreground leading-tight",children:B.name}),u.jsxs("div",{className:"text-[10px] text-muted-foreground",children:["".repeat(B.prestige),"".repeat(5-B.prestige)]})]})]})]},B.id)})}),M&&u.jsx("div",{className:"mb-4 p-3 rounded-lg bg-destructive/10 border border-destructive/20 text-destructive text-sm",children:M}),u.jsx("button",{onClick:P,disabled:!y||s,className:"w-full py-3 rounded-lg bg-primary text-primary-foreground font-bold text-sm tracking-wide hover:opacity-90 transition-opacity disabled:opacity-40",children:s?"Please wait...":z})]})}if(p==="menu")return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center px-4",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsx("div",{className:"text-5xl mb-3",children:""}),u.jsx("h1",{className:"text-3xl font-black text-foreground",children:"Multiplayer"}),u.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Play against a friend in real time"})]}),u.jsxs("div",{className:"w-full max-w-sm space-y-3",children:[u.jsxs("button",{onClick:()=>g("create_pick_team"),className:"w-full rounded-xl bg-primary text-primary-foreground px-6 py-4 text-left hover:opacity-90 active:scale-[0.98] transition-all",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-widest opacity-70 mb-0.5",children:"Host"}),u.jsx("div",{className:"text-lg font-black",children:"Create Lobby"}),u.jsx("div",{className:"text-sm opacity-70",children:"Get a 6-letter code to share"})]}),u.jsxs("button",{onClick:()=>g("join_enter_code"),className:"w-full rounded-xl bg-card border border-border px-6 py-4 text-left hover:border-primary/50 active:scale-[0.98] transition-all",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-widest text-primary opacity-80 mb-0.5",children:"Join"}),u.jsx("div",{className:"text-lg font-black text-foreground",children:"Join Lobby"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Enter your friend's code"})]})]}),u.jsx("button",{onClick:t,className:"mt-8 text-sm text-muted-foreground hover:text-foreground transition-colors",children:" Back to menu"})]});if(p==="create_pick_team")return u.jsxs("div",{className:"min-h-screen bg-background px-4 py-8 max-w-lg mx-auto",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("button",{onClick:()=>g("menu"),className:"text-sm text-muted-foreground hover:text-foreground mb-4 block",children:" Back"}),u.jsx("h2",{className:"text-2xl font-black text-foreground",children:"Pick Your Team"}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"You'll manage this team as the host"})]}),u.jsx(I,{onConfirm:A,confirmLabel:"Create Lobby "})]});if(p==="join_enter_code")return u.jsxs("div",{className:"min-h-screen bg-background px-4 py-8 max-w-lg mx-auto",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("button",{onClick:()=>g("menu"),className:"text-sm text-muted-foreground hover:text-foreground mb-4 block",children:" Back"}),u.jsx("h2",{className:"text-2xl font-black text-foreground",children:"Enter Lobby Code"}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Ask your friend for their 6-letter code"})]}),u.jsx("input",{type:"text",value:v,onChange:P=>b(P.target.value.toUpperCase().slice(0,6)),placeholder:"ABC123",maxLength:6,className:"w-full text-center text-3xl font-black tracking-[0.5em] bg-card border border-border rounded-xl py-4 px-6 text-foreground placeholder:text-muted-foreground/40 focus:outline-none focus:border-primary mb-6"}),u.jsx("button",{onClick:()=>v.length===6&&g("join_pick_team"),disabled:v.length!==6,className:"w-full py-3 rounded-lg bg-primary text-primary-foreground font-bold text-sm tracking-wide hover:opacity-90 disabled:opacity-40 transition-opacity",children:"Find Lobby "})]});if(p==="join_pick_team")return u.jsxs("div",{className:"min-h-screen bg-background px-4 py-8 max-w-lg mx-auto",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("button",{onClick:()=>g("join_enter_code"),className:"text-sm text-muted-foreground hover:text-foreground mb-4 block",children:" Back"}),u.jsx("h2",{className:"text-2xl font-black text-foreground",children:"Pick Your Team"}),u.jsxs("p",{className:"text-muted-foreground text-sm",children:["Joining lobby ",u.jsx("span",{className:"font-mono text-primary",children:v})]})]}),u.jsx(I,{onConfirm:D,confirmLabel:"Join Lobby ",disabledTeamId:U})]});if(p==="waiting"){const P=(e==null?void 0:e.myRole)==="host",z=!!(e!=null&&e.opponentTeamId),H=Bs.find(Y=>Y.id===(e==null?void 0:e.myTeamId)),B=Bs.find(Y=>Y.id===(e==null?void 0:e.opponentTeamId));return u.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center px-4",children:u.jsxs("div",{className:"w-full max-w-sm",children:[P&&x&&u.jsxs("div",{className:"bg-card border border-border rounded-2xl p-6 mb-6 text-center",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground mb-2",children:"Share this code"}),u.jsx("div",{className:"text-4xl font-black tracking-[0.3em] text-foreground font-mono mb-4",children:x}),u.jsx("button",{onClick:L,className:"text-sm text-primary hover:opacity-80 transition-opacity font-medium",children:E?" Copied!":"Copy to clipboard"})]}),u.jsxs("div",{className:"bg-card border border-border rounded-2xl p-4 mb-4 space-y-3",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground mb-3",children:"Players"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-[10px] font-black",style:{backgroundColor:((H==null?void 0:H.color)??"#666")+"33",color:(H==null?void 0:H.color)??"#666"},children:(H==null?void 0:H.shortName)??"?"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-sm font-bold text-foreground",children:(H==null?void 0:H.name)??"You"}),u.jsx("div",{className:"text-xs text-muted-foreground",children:P?"Host (you)":"Guest (you)"})]}),u.jsx("span",{className:"text-green-500 text-xs font-semibold",children:" Ready"})]}),u.jsx("div",{className:"flex items-center gap-3",children:B?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-[10px] font-black",style:{backgroundColor:B.color+"33",color:B.color},children:B.shortName}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-sm font-bold text-foreground",children:B.name}),u.jsx("div",{className:"text-xs text-muted-foreground",children:P?"Guest":"Host"})]}),u.jsx("span",{className:"text-green-500 text-xs font-semibold",children:" Joined"})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-10 h-10 rounded-lg border-2 border-dashed border-border flex items-center justify-center text-muted-foreground",children:"?"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-sm font-bold text-muted-foreground",children:"Waiting for player..."}),u.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1.5",children:[u.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-amber-500 animate-pulse"}),"Not connected"]})]})]})})]}),P&&z&&u.jsx("button",{onClick:j,className:"w-full py-3 rounded-lg bg-primary text-primary-foreground font-bold text-sm tracking-wide hover:opacity-90 transition-opacity mb-3",children:" Start Game "}),!P&&!z&&u.jsx("div",{className:"text-center text-sm text-muted-foreground animate-pulse mb-3",children:"Waiting for host to start the game..."}),!P&&z&&u.jsx("div",{className:"text-center text-sm text-muted-foreground mb-3",children:"Waiting for host to start the game..."}),u.jsx("button",{onClick:W,className:"w-full py-2 rounded-lg border border-border text-muted-foreground text-sm hover:text-foreground transition-colors",children:"Leave Lobby"})]})})}return null}function TM(){const{state:t,startGame:e}=Ir();return t?u.jsx(S_,{}):u.jsx(yI,{onSelectTeam:e})}const IM=()=>{const[t,e]=w.useState("menu");return t==="menu"?u.jsx(EI,{onSinglePlayer:()=>e("singleplayer"),onMultiplayer:()=>e("multiplayer")}):t==="multiplayer"?u.jsx(kM,{onBack:()=>e("menu")}):u.jsx(mI,{children:u.jsx(TM,{})})},PM=()=>{const t=c_();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),u.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},RM=new yT,AM=()=>u.jsx(xT,{client:RM,children:u.jsxs(Uk,{children:[u.jsx(S1,{}),u.jsx(tN,{}),u.jsx(oI,{basename:"/basketball-manager",children:u.jsxs(rI,{children:[u.jsx(zd,{path:"/",element:u.jsx(IM,{})}),u.jsx(zd,{path:"*",element:u.jsx(PM,{})})]})})]})});Ox(document.getElementById("root")).render(u.jsx(AM,{}));
